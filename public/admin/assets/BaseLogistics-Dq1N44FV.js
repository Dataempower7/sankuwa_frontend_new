/* empty css             */import{a6 as N,d as C,u as K,r as m,ab as U,o as P,f as r,g as f,h as g,z as l,m as o,i as s,l as V,j as c,E,t as z,Q as k,ah as D,P as v,_ as F}from"./index-B52YIGC0.js";import"./index-KjhYqCTY.js";import{d as R}from"./format-BxqOrW-w.js";import{_ as j}from"./DialogForm.vue_vue_type_script_setup_true_lang-CT6mpwCc.js";import"./index-C9ZdVeVx.js";const q=()=>N({url:"setting/config/shippingSettings",method:"get"}),M=y=>N({url:"setting/config/saveShipping",method:"post",data:y}),O={class:"container"},Q={key:0,class:"content_wrapper"},W={class:"content_wrapper"},$={class:"flex flex-align-center",style:{gap:"10px"}},G={class:"secret-txt line1",style:{"max-width":"380px"}},H={class:"content_wrapper"},J={class:"selected-action"},X=C({__name:"BaseLogistics",emits:["submitCallback","update:confirmLoading","close"],setup(y,{expose:w,emit:S}){const{themeInfo:I}=K(),u=S,T=m(!1),p=m(!0),x=U(),t=m({defaultLogisticsName:"",kdniaoApiKey:"",kdniaoBusinessId:"",mobile:"",provinceName:"",cityName:"",areaName:"",address:"",sender:""}),L=async()=>{try{const n=await q();Object.assign(t.value,R(n))}catch(n){v.error(n.message)}finally{p.value=!1}};P(()=>{L()});const _=async()=>{await x.value.validate();try{u("update:confirmLoading",!0);const n=await M(t.value);u("submitCallback",n),v.success("保存成功")}catch(n){v.error(n.message)}finally{u("update:confirmLoading",!1)}};return w({onFormSubmit:()=>{_()}}),(n,e)=>{const d=r("TigInput"),i=r("el-form-item"),b=r("el-button"),A=r("el-form"),B=r("a-spin");return g(),f("div",O,[l(B,{spinning:p.value},{default:o(()=>[l(A,{ref_key:"formRef",ref:x,model:t.value,"label-width":"auto",style:{display:"flex",gap:"12px","flex-direction":"column"}},{default:o(()=>[c(E)()?V("",!0):(g(),f("div",Q,[e[10]||(e[10]=s("div",{class:"title"},"快递发货设置",-1)),l(i,{label:"自定义名称",prop:"defaultLogisticsName",rules:[{required:!0,message:"自定义名称不能为空"}]},{default:o(()=>[s("div",null,[l(d,{width:"260px",modelValue:t.value.defaultLogisticsName,"onUpdate:modelValue":e[0]||(e[0]=a=>t.value.defaultLogisticsName=a),maxlength:10,showWordLimit:""},null,8,["modelValue"]),e[9]||(e[9]=s("div",{class:"extra"},"该名称会显示在买家可选择的配送方式中，默认名称“商家配送”",-1))])]),_:1})])),s("div",W,[e[13]||(e[13]=s("div",{class:"title"},"快递接口设置",-1)),l(i,{label:"快递鸟API Key",prop:"kdniaoApiKey"},{default:o(()=>[s("div",null,[s("div",$,[s("div",G,z(t.value.kdniaoApiKey),1),l(c(j),{maskClose:!1,isDrawer:!1,params:{title:"快递鸟API Key",content:t.value.kdniaoApiKey},path:"setting/config/src/EditSecret",title:"快递鸟API Key",width:"600px",onOkCallback:e[1]||(e[1]=a=>t.value.kdniaoApiKey=a)},{default:o(()=>[l(b,{style:{"margin-top":"3px"},link:"",type:"primary"},{default:o(()=>[...e[11]||(e[11]=[k(" 编辑 ",-1)])]),_:1})]),_:1},8,["params"])]),e[12]||(e[12]=s("div",{class:"extra"},"编辑完成后，点击下方提交按钮确认修改，请确保填写正确的API Key",-1))])]),_:1}),l(i,{label:"快递鸟服务ID",prop:"kdniaoBusinessId"},{default:o(()=>[l(d,{classType:"tig-form-input",modelValue:t.value.kdniaoBusinessId,"onUpdate:modelValue":e[2]||(e[2]=a=>t.value.kdniaoBusinessId=a),type:"text"},null,8,["modelValue"])]),_:1})]),s("div",H,[e[14]||(e[14]=s("div",{class:"title"},"发货信息设置",-1)),l(i,{label:"发货人",prop:"sender"},{default:o(()=>[l(d,{classType:"tig-form-input",modelValue:t.value.sender,"onUpdate:modelValue":e[3]||(e[3]=a=>t.value.sender=a),type:"text"},null,8,["modelValue"])]),_:1}),l(i,{label:"发货人联系方式",prop:"mobile"},{default:o(()=>[l(d,{classType:"tig-form-input",modelValue:t.value.mobile,"onUpdate:modelValue":e[4]||(e[4]=a=>t.value.mobile=a),type:"text"},null,8,["modelValue"])]),_:1}),l(i,{label:"发货地省份",prop:"provinceName"},{default:o(()=>[l(d,{classType:"tig-form-input",modelValue:t.value.provinceName,"onUpdate:modelValue":e[5]||(e[5]=a=>t.value.provinceName=a),type:"text"},null,8,["modelValue"])]),_:1}),l(i,{label:"发货城市",prop:"cityName"},{default:o(()=>[l(d,{classType:"tig-form-input",modelValue:t.value.cityName,"onUpdate:modelValue":e[6]||(e[6]=a=>t.value.cityName=a),type:"text"},null,8,["modelValue"])]),_:1}),l(i,{label:"发货地区",prop:"areaName"},{default:o(()=>[l(d,{classType:"tig-form-input",modelValue:t.value.areaName,"onUpdate:modelValue":e[7]||(e[7]=a=>t.value.areaName=a),type:"text"},null,8,["modelValue"])]),_:1}),l(i,{label:"发货详细地址",prop:"address"},{default:o(()=>[l(d,{classType:"tig-form-input",modelValue:t.value.address,"onUpdate:modelValue":e[8]||(e[8]=a=>t.value.address=a),type:"text"},null,8,["modelValue"])]),_:1})])]),_:1},8,["model"]),e[16]||(e[16]=s("div",{style:{height:"20px"}},null,-1)),p.value?V("",!0):(g(),f("div",{key:0,class:"selected-action-warp selected-warp-left",style:D({left:c(I).layout!=="topMenu"?"369px":"270px"})},[s("div",J,[l(b,{loading:T.value,class:"form-submit-btn",size:"large",type:"primary",onClick:_},{default:o(()=>[...e[15]||(e[15]=[k("提 交",-1)])]),_:1},8,["loading"])])],4))]),_:1},8,["spinning"])])}}}),oe=F(X,[["__scopeId","data-v-8c4ff716"]]);export{oe as default};

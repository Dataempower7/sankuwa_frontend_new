import{_ as z}from"./productBrief-qpyE78uP.js";import{F as K}from"./UploadAvatar.vue_vue_type_style_index_0_scoped_3ec2e0ca_lang-BGZZHoO-.js";import{F as Q}from"./FormAddGalleryVideo-0HIZtwZ5.js";import{j as Y}from"./product-hE35r0Q_.js";import{R as H}from"./RadioType-_K8vK_oe.js";import{S as J}from"./SelectBrand-tHlymKqU.js";import{_ as X}from"./SelectCategory.vue_vue_type_script_setup_true_lang-Bb2xH4oQ.js";import{d as Z,aq as U,ar as h,r as x,o as _,W as S,ac as g,Y as ee,f,g as c,h as n,z as o,k as p,l as m,m as d,i as r,j as u,F as T,p as te,ae as le,Q as y,t as ae,av as oe,P as N,_ as de}from"./index-B52YIGC0.js";import"./index-KjhYqCTY.js";import"./SelectTimeInterval.vue_vue_type_style_index_0_scoped_207fe586_lang-1fz1RqDZ.js";/* empty css                                                                    *//* empty css                                                                  *//* empty css                                                                              *//* empty css                                                                     */import{_ as ie}from"./SelectShopProductCategory.vue_vue_type_script_setup_true_lang-DmdbWE5K.js";/* empty css             */import{B as re}from"./BusinessData-Dbgv1FCM.js";import{g as se}from"./seo-C1Ho1LwZ.js";import{_ as ne}from"./DialogForm.vue_vue_type_script_setup_true_lang-CT6mpwCc.js";import"./vuedraggable.umd-BauR0rTv.js";import"./Image.vue_vue_type_script_setup_true_lang-B8qXJKJq.js";import"./format-BxqOrW-w.js";import"./BusinessImg-B_fZOjqm.js";import"./currencyManagement-DNysi_dA.js";/* empty css                                                                    *//* empty css                                                                  */import"./brand-CyfpB5Ly.js";import"./category-BhaHXalE.js";import"./category-D6KF81Ae.js";import"./index-C9ZdVeVx.js";import"./time-EzYK4E-P.js";import"./shopProductCategory-DyQBhq8U.js";const ue={key:0,class:"extra mt10"},me={class:"flex flex-justify-between"},pe={class:"table-question"},fe={class:"flex flex-align-center"},ye={class:"keywords"},ve={class:"extra"},ge={class:"flex flex-justify-between"},ce={key:1,class:"con-btn"},be={class:"keywords"},xe={class:"extra"},Ie=Z({__name:"BasicInfo",props:U({id:{type:Number,default:0},shopId:{type:Number,default:0},examine:{type:Number,default:0},loading:{type:Boolean,default:!1},type:{type:String,default:""},action:{type:String,default:""},storeSettingInfo:{type:Object,default:{}},formRef:{type:Object,default:()=>{}}},{formState:{default:{}},formStateModifiers:{}}),emits:U(["submitCallback","update:confirmLoading","close","closeConfirm"],["update:formState"]),setup(l,{emit:Ve}){const L=l,t=h(l,"formState"),I=x([]);_(async()=>{I.value=[{key:1,title:"普通商品",desc:"物流配送"},{key:3,title:"卡密商品",tips:"可以在菜单中【营销>电子卡券组】创建卡券组，然后在【查看卡列表】添加单个卡密或通过下载【批量导入模板文件】填好卡密后在通过批量导入电子卡券按钮上传该文件批量导入。",desc:"无需物流"},{key:2,title:"虚拟商品",tips:"网盘链接、视频链接，在添加商品添加虚拟商品。用户购买后将在订单详情直接展示。",desc:"无需物流"},{key:4,title:"付费内容",tips:"软件授权、在线课程等。通过简单的操作，即可将这些商品添加到您的商店中，为客户提供更丰富的选择。立即体验，享受便捷的付费内容管理服务。",desc:"无需物流"}],S()==="shop"&&g()>1&&I.value.push({key:5,title:"预约上门",desc:"无需物流"},{key:6,title:"预约到店",desc:"无需物流"})});const q=(s,e,i)=>{if(e)i();else{i(new Error("商品名称不能为空"));return}},E=(s,e,i)=>{if(e)i();else{i(new Error("请选择商品图片"));return}},G=(s,e,i)=>{if(e)i();else{i(new Error("请选择商品类目"));return}},F=(s,e,i)=>{if(e)i();else{i(new Error("请选择电子卡券组"));return}},V=x(!1),k=x(!1),w=x(),C=async()=>{V.value=!0;try{w.value.loaded=!1,await w.value.loadCategory()}catch(s){N.error(s.message)}finally{setTimeout(()=>{V.value=!1},200)}},O=async()=>{try{const s=await Y({productName:t.value.productName});t.value.keywords=s}catch(s){N.error(s.message)}},j=async()=>{try{k.value=!0;const s=await se(t.value.productName||"");t.value.seoIdentification=s}catch(s){N.error(s.message)}finally{k.value=!1}},M=(s,e,i)=>{if(!t.value.productName&&!e){i(new Error("请先输入商品名称"));return}i()};return ee(()=>t.value.productName,s=>{s&&(console.log(s,"newVal"),L.formRef.validateField("seoIdentification"))},{immediate:!0,deep:!0}),(s,e)=>{const i=f("el-form-item"),P=f("el-option"),R=f("el-select"),A=f("el-icon"),$=f("el-tooltip"),v=f("TigInput"),b=f("el-button"),D=f("el-popover"),B=f("el-radio"),W=f("el-radio-group");return n(),c(T,null,[o(i,{rules:[{required:!0}],label:"商品类型",prop:"productType"},{default:d(()=>[r("div",null,[e[15]||(e[15]=r("div",{class:"extra mb10",style:{"margin-top":"3px"}},"不同商品类型可编辑的字段内容不同，商品类型一旦发布后将不可更改",-1)),o(u(H),{modelValue:t.value.productType,"onUpdate:modelValue":e[0]||(e[0]=a=>t.value.productType=a),disabled:l.action=="detail",radioList:I.value},null,8,["modelValue","disabled","radioList"]),t.value.productType!=1?(n(),c("div",ue,"该类型商品同样需要客户填写收货地址")):m("",!0)])]),_:1}),o(i,{rules:[{required:!0,validator:E}],label:"商品图片",prop:"imgList"},{default:d(()=>[l.loading?m("",!0):(n(),p(u(K),{key:0,photos:t.value.imgList,"onUpdate:photos":e[1]||(e[1]=a=>t.value.imgList=a),disabled:l.examine==1||l.type!=="",isMultiple:!0,pageType:"product"},null,8,["photos","disabled"])),e[16]||(e[16]=r("div",{class:"extra"},"您可以通过拖拽来调整相册图片顺序，第一张图将作为商品主图展示",-1))]),_:1},8,["rules"]),o(i,{label:"商品视频",prop:"productVideoInfo"},{default:d(()=>[l.loading?m("",!0):(n(),p(u(Q),{key:0,video:t.value.productVideoInfo,"onUpdate:video":e[2]||(e[2]=a=>t.value.productVideoInfo=a),disabled:l.examine==1||l.type!==""},null,8,["video","disabled"])),e[17]||(e[17]=r("div",{class:"extra"},"如有商品视频则商品视频作为商品主图展示",-1))]),_:1}),t.value.productType==3?(n(),p(i,{key:0,rules:[{required:!0,validator:F}],class:"inner-item",label:"电子卡券分组",prop:"cardGroupId"},{default:d(()=>[r("div",me,[o(R,{modelValue:t.value.cardGroupId,"onUpdate:modelValue":e[3]||(e[3]=a=>t.value.cardGroupId=a),disabled:l.examine==1||l.type!=="",placeholder:"请选择",style:{width:"200px"}},{default:d(()=>[(n(!0),c(T,null,te(t.value.eCardList,a=>(n(),p(P,{key:a.groupId,label:a.groupName,value:a.groupId},null,8,["label","value"]))),128))]),_:1},8,["modelValue","disabled"])])]),_:1},8,["rules"])):m("",!0),o(i,{rules:[{required:!0,validator:q}],class:"inner-item",label:"商品名称",prop:"productName"},{default:d(()=>[o(re,{modelValue:t.value.productName,"onUpdate:modelValue":e[4]||(e[4]=a=>t.value.productName=a),dataId:l.id,dataType:2,disabled:u(g)()!==2&&l.examine==1||l.type!==""||u(g)()===2&&l.storeSettingInfo.storeAssignProductName===0&&t.value.shopId===0,maxlength:100,placeholder:"请输入商品名称"},null,8,["modelValue","dataId","disabled"])]),_:1},8,["rules"]),u(le)()?(n(),p(i,{key:1,class:"inner-item",prop:"seoIdentification",rules:[{required:!1,validator:M}]},{label:d(()=>[r("div",pe,[o($,{class:"box-item",effect:"light",placement:"bottom","show-after":"300"},{content:d(()=>[...e[18]||(e[18]=[r("div",{style:{width:"300px",padding:"5px 10px"}}," SEO链接是商品页面的URL，用于搜索引擎优化，格式为：域名/product/[seo链接].[sn] ",-1)])]),default:d(()=>[r("div",fe,[e[19]||(e[19]=r("div",null,"SEO链接",-1)),o(A,{style:{"margin-left":"5px"},size:"14",color:"#999"},{default:d(()=>[o(u(oe))]),_:1})])]),_:1})])]),default:d(()=>[r("div",ye,[o(v,{classType:"tig-form-input",class:"InputBox",modelValue:t.value.seoIdentification,"onUpdate:modelValue":e[5]||(e[5]=a=>t.value.seoIdentification=a)},null,8,["modelValue"]),o(b,{onClick:j,style:{"margin-top":"2px"},loading:k.value,disabled:!t.value.productName},{default:d(()=>[...e[20]||(e[20]=[y("自动生成",-1)])]),_:1},8,["loading","disabled"])]),r("div",ve,ae(`SEO链接预览：域名/product/${t.value.seoIdentification?t.value.seoIdentification:t.value.productName?t.value.productName:"[seo链接]"}.[sn]`),1)]),_:1},8,["rules"])):m("",!0),o(i,{class:"inner-item",label:"商品品牌",prop:"brandId"},{default:d(()=>[l.loading?m("",!0):(n(),p(u(J),{key:0,brandId:t.value.brandId,"onUpdate:brandId":e[6]||(e[6]=a=>t.value.brandId=a),disabled:l.examine==1||l.type!=="",style:{width:"200px"}},null,8,["brandId","disabled"]))]),_:1}),o(i,{rules:[{required:!0,message:"请选择商品类目!",validator:G}],class:"inner-item",label:"商品类目",prop:"categoryId"},{default:d(()=>[r("div",ge,[l.loading?m("",!0):(n(),p(u(X),{key:0,ref_key:"selectCategory",ref:w,categoryId:t.value.categoryId,"onUpdate:categoryId":e[7]||(e[7]=a=>t.value.categoryId=a),disabled:l.examine==1||l.type!=="",multiple:!1,style:{width:"200px"}},null,8,["categoryId","disabled"])),l.examine!=1?(n(),c("div",ce,[u(S)()==="admin"?(n(),c(T,{key:0},[o(u(ne),{params:{act:"add",parentId:0},isDrawer:"",path:"product/category/Info",title:"添加分类",width:"600px",onOkCallback:C},{default:d(()=>[o(b,{link:"",type:"primary"},{default:d(()=>[...e[21]||(e[21]=[y("新建",-1)])]),_:1})]),_:1}),e[22]||(e[22]=r("p",{class:"ml10 mr10",style:{"margin-bottom":"3px"}},"|",-1))],64)):m("",!0),o(b,{loading:V.value,link:"",type:"primary",onClick:C},{default:d(()=>[...e[23]||(e[23]=[y("刷新 ",-1)])]),_:1},8,["loading"])])):m("",!0)])]),_:1},8,["rules"]),u(S)()=="shop"&&u(g)()!==2?(n(),p(i,{key:2,class:"inner-item",label:"店铺商品分类",prop:"shopCategoryId"},{default:d(()=>[o(u(ie),{categoryId:t.value.shopCategoryId,"onUpdate:categoryId":e[8]||(e[8]=a=>t.value.shopCategoryId=a),disabled:l.examine==1},null,8,["categoryId","disabled"])]),_:1})):m("",!0),l.type==""?(n(),p(i,{key:3,class:"inner-item",label:"商品重量",prop:"decimal"},{default:d(()=>[o(v,{modelValue:t.value.productWeight,"onUpdate:modelValue":e[9]||(e[9]=a=>t.value.productWeight=a),decimalPlaces:3,disabled:l.examine==1,class:"InputBox",placeholder:"请输入",type:"decimal",width:"200px"},{append:d(()=>[...e[24]||(e[24]=[y("Kg",-1)])]),_:1},8,["modelValue","disabled"])]),_:1})):m("",!0),l.type==""?(n(),p(i,{key:4,class:"inner-item",label:"商品条码",prop:"productTsn"},{default:d(()=>[r("div",null,[o(v,{modelValue:t.value.productTsn,"onUpdate:modelValue":e[10]||(e[10]=a=>t.value.productTsn=a),disabled:l.examine==1,classType:"tig-form-input"},null,8,["modelValue","disabled"]),e[25]||(e[25]=r("div",{class:"extra"},"用于快速识商品所标记的编码，比如：69开头的13位标准码",-1))])]),_:1})):m("",!0),l.type==""?(n(),p(i,{key:5,class:"inner-item",label:"商品编码",prop:"productSn"},{default:d(()=>[r("div",null,[o(v,{modelValue:t.value.productSn,"onUpdate:modelValue":e[11]||(e[11]=a=>t.value.productSn=a),disabled:l.examine==1,classType:"tig-form-input"},null,8,["modelValue","disabled"]),e[26]||(e[26]=r("div",{class:"extra"},"如果您不输入商品编码，系统将自动生成一个唯一的编码",-1))])]),_:1})):m("",!0),o(i,{class:"inner-item",label:"搜索关键词",prop:"keywords"},{default:d(()=>[r("div",be,[o(v,{modelValue:t.value.keywords,"onUpdate:modelValue":e[12]||(e[12]=a=>t.value.keywords=a),disabled:l.examine==1||l.type!=="",class:"InputBox",classType:"tig-form-input",placeholder:"例如：牙刷 自动 清洁"},null,8,["modelValue","disabled"]),o(b,{disabled:l.examine==1,onClick:O,style:{"margin-top":"2px"}},{default:d(()=>[...e[27]||(e[27]=[y("更新关键词",-1)])]),_:1},8,["disabled"])]),e[28]||(e[28]=r("div",{class:"extra"},"用空格分隔，为空时会自动根据商品名称分词",-1))]),_:1}),o(i,{class:"inner-item",extra:"",label:"商品描述",prop:"productBrief"},{default:d(()=>[r("div",null,[o(v,{modelValue:t.value.productBrief,"onUpdate:modelValue":e[13]||(e[13]=a=>t.value.productBrief=a),disabled:l.examine==1||l.type!=="",rows:2,classType:"tig-form-input",placeholder:"例如：顺丰快递 又快又好",type:"textarea"},null,8,["modelValue","disabled"]),r("div",xe,[e[31]||(e[31]=y(" 该描述可作为“商品卖点”的概述及促销信息补充 ",-1)),o(D,{width:400,placement:"right-end",trigger:"click"},{reference:d(()=>[...e[29]||(e[29]=[r("a",null,"查看示例",-1)])]),default:d(()=>[...e[30]||(e[30]=[r("img",{src:z,style:{width:"380px"}},null,-1)])]),_:1})])])]),_:1}),o(i,{class:"inner-item",label:"是否上架",prop:"productStatus"},{default:d(()=>[o(W,{modelValue:t.value.productStatus,"onUpdate:modelValue":e[14]||(e[14]=a=>t.value.productStatus=a),disabled:l.examine==1&&u(g)()!==2,style:{width:"100%"}},{default:d(()=>[o(B,{value:1},{default:d(()=>[...e[32]||(e[32]=[y("上架",-1)])]),_:1}),o(B,{value:0},{default:d(()=>[...e[33]||(e[33]=[y("下架",-1)])]),_:1})]),_:1},8,["modelValue","disabled"]),e[34]||(e[34]=r("div",{class:"extra"},"上架则允许销售（未审核的商品无法手动上架）",-1))]),_:1})],64)}}}),et=de(Ie,[["__scopeId","data-v-116e285d"]]);export{et as default};

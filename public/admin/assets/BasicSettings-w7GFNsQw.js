/* empty css             */import{_ as P}from"./Image.vue_vue_type_script_setup_true_lang-BK00jvUw.js";import{d as E,D as q,S as z,x as M,a2 as j,r as V,o as K,dO as Q,K as B,f as h,z as l,l as t,h as s,e as m,j as v,i,F as W,L as d,k as f,a6 as $,dP as H,R as J,g as n,dQ as X,_ as Y}from"./index-BLXOA87U.js";import{B as T}from"./BusinessData-C9u0MQN0.js";import{c as Z}from"./format-DdZABYp4.js";import{F as C}from"./UploadAvatar.vue_vue_type_style_index_0_scoped_3ec2e0ca_lang-DfcXXcrS.js";import"./index-DpgvsnVO.js";import"./vuedraggable.umd-OAFqtEpj.js";import{u as ee}from"./theme-BlP4l20S.js";import{b as oe}from"./version-hjn5tnxG.js";import"./currencyManagement-ZKRxsK3T.js";import"./DialogForm.vue_vue_type_script_setup_true_lang-6GHo9HCV.js";import"./index-B16C4gX_.js";import"./BusinessImg-C3Ug8bC9.js";const le="/admin/assets/copyright-KRf6MBQ2.png",te="/admin/assets/default_tech_support-BnzeVpkk.png",ae="/admin/assets/powered_guide-e9PVShEI.png",se={class:"container"},pe={class:"content_wrapper"},de={class:"wechat-config"},ue={class:"flex flex-align-center",style:{gap:"10px"}},ne={class:"extra"},re={class:"wechat-config mt10"},ie={class:"flex",style:{gap:"10px"}},me={class:"extra"},fe={class:"extra"},ve={key:0},ge={key:1,class:"extra"},ye={class:"content_wrapper"},_e={class:"content_wrapper"},we={class:"selected-action"},Ve=E({__name:"BasicSettings",setup(he){const{themeInfo:O}=ee(),N=J(),_=q(),R=window.location.origin+"/",c=u=>u.includes("http")?u:R+u;z(()=>N.query.point,()=>{const{scrollToElement:u}=X(N.query.point||"storeInformation","scrollContainer","storeInformation");u()},{immediate:!0});const U=M();U.config;const w=j(),x=V(!1),o=V({shopCompany:void 0,shopCompanyTxt:"",defaultTechSupport:"",defaultCopyright:"Copyright © 2024 Tigshop. All Rights Reserved",poweredBy:void 0,poweredByLogo:"",poweredByStatus:void 0,shopName:"",kefuAddress:"",shopLogo:"",shopIcpNo:"",shopIcpNoUrl:"",shop110No:"",shop110Link:"",shopRegClosed:0,closeOrder:0}),D=()=>{o.value.defaultCopyright=o.value.shopCompanyTxt,k()},G=()=>{o.value.defaultTechSupport=o.value.poweredByLogo,k()};K(async()=>{await A()});const I=V(!0),A=async()=>{try{const u=await Q();Object.assign(o.value,Z(u))}catch(u){B.error(u.message)}finally{I.value=!1}};V({pcDomain:[{required:!1,message:"",trigger:"blur"},{pattern:/^https?:\/\//i,message:"PC端域名必须以http或https开头",trigger:"blur"}]});const k=async()=>{await w.value.validate(),x.value=!0;try{const u=await H(o.value);B.success("修改成功"),await U.updateConfig(),await _._getLicensed(),setTimeout(()=>{location.reload()},500)}catch(u){B.error(u.message)}finally{x.value=!1}};return(u,e)=>{const p=m("el-form-item"),r=m("el-radio"),g=m("el-radio-group"),y=m("TigInput"),b=m("el-button"),L=m("el-form"),S=m("el-popover"),F=m("a-spin");return n(),h("div",se,[l(F,{spinning:I.value},{default:t(()=>[l(L,{ref_key:"formRef",ref:w,model:o.value,"label-width":"150px",style:{display:"flex",gap:"12px","flex-direction":"column"}},{default:t(()=>[s("div",pe,[e[37]||(e[37]=s("div",{class:"title"},"商城信息",-1)),i(oe)()?(n(),h(W,{key:1},[l(p,{label:"商城LOGO-黑底",prop:"shopLogo"},{default:t(()=>[l(i(C),{photo:o.value.shopLogo,"onUpdate:photo":e[1]||(e[1]=a=>o.value.shopLogo=a),style:{width:"100%"}},null,8,["photo"]),e[18]||(e[18]=s("div",{class:"extra"},"请根据页面设置对应大小的LOGO，高清需要上传双倍大小",-1))]),_:1,__:[18]}),l(p,{label:"商城LOGO-白底",prop:"lightShopLogo"},{default:t(()=>[l(i(C),{photo:o.value.lightShopLogo,"onUpdate:photo":e[2]||(e[2]=a=>o.value.lightShopLogo=a),style:{width:"100%"}},null,8,["photo"]),e[19]||(e[19]=s("div",{class:"extra"},"请根据页面设置对应大小的LOGO，高清需要上传双倍大小",-1))]),_:1,__:[19]})],64)):(n(),v(p,{key:0,label:"商城LOGO",prop:"shopLogo"},{default:t(()=>[l(i(C),{photo:o.value.shopLogo,"onUpdate:photo":e[0]||(e[0]=a=>o.value.shopLogo=a),style:{width:"100%"}},null,8,["photo"]),e[17]||(e[17]=s("div",{class:"extra"},"请根据页面设置对应大小的LOGO，高清需要上传双倍大小",-1))]),_:1,__:[17]})),l(p,{label:"商城名称",prop:"shopName"},{default:t(()=>[l(T,{modelValue:o.value.shopName,"onUpdate:modelValue":e[3]||(e[3]=a=>o.value.shopName=a),dataId:1,dataType:5},null,8,["modelValue"])]),_:1}),l(p,{label:"版权信息",prop:"shopCompany"},{default:t(()=>[s("div",null,[l(g,{modelValue:o.value.shopCompany,"onUpdate:modelValue":e[4]||(e[4]=a=>o.value.shopCompany=a)},{default:t(()=>[l(r,{value:1},{default:t(()=>e[20]||(e[20]=[d("系统默认",-1)])),_:1,__:[20]}),l(r,{value:0},{default:t(()=>e[21]||(e[21]=[d("自定义",-1)])),_:1,__:[21]})]),_:1},8,["modelValue"]),s("div",de,[l(L,{ref_key:"formRef",ref:w,model:o.value},{default:t(()=>[l(p,{label:""},{default:t(()=>[s("div",ue,[o.value.shopCompany==1?(n(),v(y,{key:0,modelValue:o.value.defaultCopyright,"onUpdate:modelValue":e[5]||(e[5]=a=>o.value.defaultCopyright=a),classType:"tig-form-input",disabled:""},null,8,["modelValue"])):f("",!0),o.value.shopCompany==0?(n(),v(y,{key:1,modelValue:o.value.shopCompanyTxt,"onUpdate:modelValue":e[6]||(e[6]=a=>o.value.shopCompanyTxt=a),classType:"tig-form-input"},null,8,["modelValue"])):f("",!0),o.value.shopCompany==0?(n(),v(b,{key:2,onClick:D,link:"",type:"primary",style:{"margin-top":"3px"}},{default:t(()=>e[22]||(e[22]=[d(" 设为默认 ",-1)])),_:1,__:[22]})):f("",!0)])]),_:1})]),_:1},8,["model"]),s("div",ne,[e[25]||(e[25]=d(" 版权信息将会显示在 商城页面底部，如需自定义或隐藏，请购买去版权服务。 ",-1)),l(S,{width:400,placement:"right-end",trigger:"click"},{reference:t(()=>e[23]||(e[23]=[s("a",null,"查看示例",-1)])),default:t(()=>e[24]||(e[24]=[s("img",{src:le,style:{width:"380px"}},null,-1)])),_:1})])])])]),_:1}),l(p,{label:"技术支持标识",prop:"poweredBy"},{default:t(()=>[s("div",null,[l(g,{modelValue:o.value.poweredBy,"onUpdate:modelValue":e[7]||(e[7]=a=>o.value.poweredBy=a)},{default:t(()=>[l(r,{value:1},{default:t(()=>e[26]||(e[26]=[d("系统默认",-1)])),_:1,__:[26]}),l(r,{value:0},{default:t(()=>e[27]||(e[27]=[d("自定义",-1)])),_:1,__:[27]})]),_:1},8,["modelValue"]),s("div",re,[l(L,{ref_key:"formRef",ref:w,model:o.value},{default:t(()=>[l(p,{label:""},{default:t(()=>[s("div",ie,[o.value.poweredBy==0?(n(),v(i(C),{key:0,photo:o.value.poweredByLogo,"onUpdate:photo":e[8]||(e[8]=a=>o.value.poweredByLogo=a),style:{width:"100%"}},null,8,["photo"])):f("",!0),o.value.poweredBy==1?(n(),v(i(P),{key:1,src:c(o.value.defaultTechSupport),style:{"max-width":"200px"}},null,8,["src"])):f("",!0),o.value.poweredBy==0?(n(),v(b,{key:2,onClick:G,link:"",type:"primary"},{default:t(()=>e[28]||(e[28]=[d(" 设为默认 ",-1)])),_:1,__:[28]})):f("",!0)])]),_:1})]),_:1},8,["model"]),s("div",me,[e[31]||(e[31]=d(" 技术标识将会显示在 商城页面底部，如需自定义或隐藏，请购买去版权服务。 ",-1)),l(S,{width:540,placement:"right-end",trigger:"click"},{reference:t(()=>e[29]||(e[29]=[s("a",null,"查看示例",-1)])),default:t(()=>e[30]||(e[30]=[s("img",{src:te,style:{width:"500px"}},null,-1)])),_:1})])])])]),_:1}),l(p,{label:"标题栏版权隐藏",prop:"poweredByStatus"},{default:t(()=>[s("div",null,[s("div",null,[l(g,{modelValue:o.value.poweredByStatus,"onUpdate:modelValue":e[9]||(e[9]=a=>o.value.poweredByStatus=a),disabled:i(_).licensedData.deCopyright==0},{default:t(()=>[l(r,{value:1},{default:t(()=>e[32]||(e[32]=[d("是",-1)])),_:1,__:[32]}),l(r,{value:0},{default:t(()=>e[33]||(e[33]=[d("否",-1)])),_:1,__:[33]})]),_:1},8,["modelValue","disabled"])]),s("div",fe,[i(_).licensedData.deCopyright==0?(n(),h("span",ve,"购买去版权服务后可修改")):f("",!0),i(_).licensedData.deCopyright==1?(n(),h("span",ge,"如果选是，则隐藏浏览器标题栏版权信息 ")):f("",!0),l(S,{width:350,placement:"right-end",trigger:"click"},{reference:t(()=>e[34]||(e[34]=[s("a",null,"查看示例",-1)])),default:t(()=>e[35]||(e[35]=[s("img",{src:ae,style:{width:"330px"}},null,-1)])),_:1})])])]),_:1}),l(p,{label:"地址展示",prop:"kefuAddress"},{default:t(()=>[l(T,{modelValue:o.value.kefuAddress,"onUpdate:modelValue":e[10]||(e[10]=a=>o.value.kefuAddress=a),dataId:6,dataType:5},null,8,["modelValue"]),e[36]||(e[36]=s("div",{class:"extra"},"企业地址会展示在商城PC端底部，为空则不显示",-1))]),_:1,__:[36]})]),s("div",ye,[e[38]||(e[38]=s("div",{class:"title"},"备案信息",-1)),l(p,{label:"ICP备案号",prop:"shopIcpNo"},{default:t(()=>[l(T,{modelValue:o.value.shopIcpNo,"onUpdate:modelValue":e[11]||(e[11]=a=>o.value.shopIcpNo=a),dataId:7,dataType:5},null,8,["modelValue"])]),_:1}),l(p,{label:"ICP备案链接",prop:"shopIcpNoUrl"},{default:t(()=>[l(y,{modelValue:o.value.shopIcpNoUrl,"onUpdate:modelValue":e[12]||(e[12]=a=>o.value.shopIcpNoUrl=a),classType:"tig-form-input",placeholder:"不填则默认为：https://beian.miit.gov.cn"},null,8,["modelValue"])]),_:1}),l(p,{label:"公安备案号",prop:"shop110No"},{default:t(()=>[l(y,{modelValue:o.value.shop110No,"onUpdate:modelValue":e[13]||(e[13]=a=>o.value.shop110No=a),classType:"tig-form-input",placeholder:"不填则不显示"},null,8,["modelValue"])]),_:1}),l(p,{label:"公安备案链接",prop:"shop110Link"},{default:t(()=>[l(y,{modelValue:o.value.shop110Link,"onUpdate:modelValue":e[14]||(e[14]=a=>o.value.shop110Link=a),classType:"tig-form-input",placeholder:"不填则默认为：https://beian.mps.gov.cn/#/query/webSearch"},null,8,["modelValue"])]),_:1})]),s("div",_e,[e[43]||(e[43]=s("div",{id:"globalSettings",class:"title"},"商城状态",-1)),l(p,{label:"关闭注册",prop:"shopRegClosed"},{default:t(()=>[l(g,{modelValue:o.value.shopRegClosed,"onUpdate:modelValue":e[15]||(e[15]=a=>o.value.shopRegClosed=a),class:"itemWidth"},{default:t(()=>[l(r,{value:1},{default:t(()=>e[39]||(e[39]=[d("是",-1)])),_:1,__:[39]}),l(r,{value:0},{default:t(()=>e[40]||(e[40]=[d("否",-1)])),_:1,__:[40]})]),_:1},8,["modelValue"])]),_:1}),l(p,{label:"关闭下单",prop:"closeShop"},{default:t(()=>[l(g,{modelValue:o.value.closeOrder,"onUpdate:modelValue":e[16]||(e[16]=a=>o.value.closeOrder=a),class:"itemWidth"},{default:t(()=>[l(r,{value:1},{default:t(()=>e[41]||(e[41]=[d("是",-1)])),_:1,__:[41]}),l(r,{value:0},{default:t(()=>e[42]||(e[42]=[d("否",-1)])),_:1,__:[42]})]),_:1},8,["modelValue"])]),_:1})])]),_:1},8,["model"]),e[45]||(e[45]=s("div",{style:{height:"30px"}},null,-1)),s("div",{class:"selected-action-warp selected-warp-left",style:$({left:i(O).layout!=="topMenu"?"370px":"270px"})},[s("div",we,[l(b,{loading:x.value,class:"form-submit-btn",size:"large",type:"primary",onClick:k},{default:t(()=>e[44]||(e[44]=[d("提 交 ",-1)])),_:1,__:[44]},8,["loading"])])],4)]),_:1,__:[45]},8,["spinning"])])}}}),De=Y(Ve,[["__scopeId","data-v-fd95f53c"]]);export{De as default};

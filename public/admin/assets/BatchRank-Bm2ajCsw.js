import{d as V,r as n,a as x,a2 as I,o as R,e as r,f as D,g as d,h as f,j as L,k as N,z as e,l as i,G as q,i as F,L as j,J as z,K as _}from"./index-BLXOA87U.js";import"./SelectTimeInterval.vue_vue_type_style_index_0_scoped_207fe586_lang-BfFy9xcT.js";import"./index-DpgvsnVO.js";/* empty css                                                                    *//* empty css                                                                  */import{_ as A}from"./SelectRankList.vue_vue_type_script_setup_true_lang-hv0qxs_d.js";/* empty css                                                                              */import{c as E}from"./user-x3qW2Zo8.js";/* empty css             */import"./time-DX2Q3n6c.js";import"./index-B16C4gX_.js";import"./userRank-A3-b0WNy.js";const G={class:"container"},J={class:"content_wrapper"},K={class:"lyecs-form-table"},te=V({__name:"BatchRank",props:{ids:{type:Array,default:[]},act:{type:String,default:""},isDialog:Boolean},emits:["submitCallback","update:confirmLoading","close"],setup(v,{expose:b,emit:k}){const l=k,t=v,m=n(!0),g=x().currentRoute.value.query,y=n(t.isDialog?t.act:String(g.act)),h=n(t.ids),c=I(),o=n({rankId:""});R(()=>{m.value=!1});const u=async()=>{await c.value.validate();try{l("update:confirmLoading",!0);const a=await E(y.value,{ids:h.value,rankId:o.value.rankId});l("submitCallback",a),_.success("操作成功")}catch(a){_.error(a.message)}finally{l("update:confirmLoading",!1)}};return b({onFormSubmit:()=>{u()}}),(a,s)=>{const p=r("el-form-item"),w=r("el-button"),S=r("el-form"),B=r("a-spin");return d(),D("div",G,[f("div",J,[f("div",K,[m.value?N("",!0):(d(),L(S,{key:0,ref_key:"formRef",ref:c,model:o.value,"label-width":"auto"},{default:i(()=>[e(p,{label:"会员等级",prop:"rankId",rules:[{required:!0,message:"请选择会员等级!"}]},{default:i(()=>[e(F(A),{modelValue:o.value.rankId,"onUpdate:modelValue":s[0]||(s[0]=C=>o.value.rankId=C)},null,8,["modelValue"])]),_:1}),q(e(p,{"wrapper-col":{offset:4,span:16}},{default:i(()=>[e(w,{ref:"submitBtn",class:"form-submit-btn",type:"primary",onClick:u},{default:i(()=>s[1]||(s[1]=[j("提交",-1)])),_:1,__:[1]},512)]),_:1},512),[[z,!t.isDialog]])]),_:1},8,["model"])),e(B,{spinning:m.value,style:{width:"100%","margin-top":"100px"}},null,8,["spinning"])])])])}}});export{te as default};

import{d as V,r,b as x,ab as I,o as R,f as n,g as D,h as d,i as f,k as L,l as N,z as e,m as i,L as q,j as F,Q as j,O as z,P as _}from"./index-B52YIGC0.js";import"./SelectTimeInterval.vue_vue_type_style_index_0_scoped_207fe586_lang-1fz1RqDZ.js";import"./index-KjhYqCTY.js";/* empty css                                                                    *//* empty css                                                                  */import{_ as A}from"./SelectRankList.vue_vue_type_script_setup_true_lang-Bg1llONp.js";/* empty css                                                                              *//* empty css                                                                     */import{c as E}from"./user-CUi1-22X.js";/* empty css             */import"./time-EzYK4E-P.js";import"./index-C9ZdVeVx.js";import"./userRank-DrZjelLT.js";const M={class:"container"},O={class:"content_wrapper"},P={class:"lyecs-form-table"},oe=V({__name:"BatchRank",props:{ids:{type:Array,default:[]},act:{type:String,default:""},isDialog:Boolean},emits:["submitCallback","update:confirmLoading","close"],setup(b,{expose:v,emit:k}){const l=k,t=b,m=r(!0),g=x().currentRoute.value.query,y=r(t.isDialog?t.act:String(g.act)),h=r(t.ids),c=I(),o=r({rankId:""});R(()=>{m.value=!1});const u=async()=>{await c.value.validate();try{l("update:confirmLoading",!0);const a=await E(y.value,{ids:h.value,rankId:o.value.rankId});l("submitCallback",a),_.success("操作成功")}catch(a){_.error(a.message)}finally{l("update:confirmLoading",!1)}};return v({onFormSubmit:()=>{u()}}),(a,s)=>{const p=n("el-form-item"),w=n("el-button"),S=n("el-form"),B=n("a-spin");return d(),D("div",M,[f("div",O,[f("div",P,[m.value?N("",!0):(d(),L(S,{key:0,ref_key:"formRef",ref:c,model:o.value,"label-width":"auto"},{default:i(()=>[e(p,{label:"会员等级",prop:"rankId",rules:[{required:!0,message:"请选择会员等级!"}]},{default:i(()=>[e(F(A),{modelValue:o.value.rankId,"onUpdate:modelValue":s[0]||(s[0]=C=>o.value.rankId=C)},null,8,["modelValue"])]),_:1}),q(e(p,{"wrapper-col":{offset:4,span:16}},{default:i(()=>[e(w,{ref:"submitBtn",class:"form-submit-btn",type:"primary",onClick:u},{default:i(()=>[...s[1]||(s[1]=[j("提交",-1)])]),_:1},512)]),_:1},512),[[z,!t.isDialog]])]),_:1},8,["model"])),e(B,{spinning:m.value,style:{width:"100%","margin-top":"100px"}},null,8,["spinning"])])])])}}});export{oe as default};

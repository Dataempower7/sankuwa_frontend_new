import{d as F,r as _,b as L,ab as U,o as V,f as m,g as v,h as f,i as s,l as E,z as e,m as o,j as d,Q as n,t as l,F as M,p as R,P as q,_ as P}from"./index-B52YIGC0.js";import{b as T}from"./user-CUi1-22X.js";import{i as Q,p as x}from"./format-BxqOrW-w.js";import"./index-KjhYqCTY.js";import{M as $}from"./MobileCard-qEvTFKQw.js";import{U as G}from"./UserCard-eTPFM3_N.js";import{_ as c}from"./DialogForm.vue_vue_type_script_setup_true_lang-CT6mpwCc.js";import"./index-C9ZdVeVx.js";const H={class:"container"},J={class:"content_wrapper"},K={class:"lyecs-form-table"},W={key:0},X={class:"container-card"},Y={class:"title"},Z={class:"info-card"},ss={class:"card-info"},as={class:"name"},ts={class:"gr"},es={class:"rank"},os={class:"line1"},ls={class:"container-card"},is={class:"info-card"},ns={class:"container-card"},rs={class:"info-card"},ds={class:"container-card"},us={class:"title"},cs={class:"info-card"},ps={class:"zj-info"},_s={class:"rank fz20"},ms={class:"btn-link"},vs={class:"zj-info"},fs={class:"rank fz20"},bs={class:"btn-link"},ks={class:"container-card"},hs={class:"title"},gs={class:"info-card"},ws={class:"zj-info"},ys={class:"rank fz20"},Cs={class:"btn-link"},zs={class:"zj-info"},Ds={class:"rank fz20"},xs={class:"btn-link"},As=F({__name:"Detail",props:{id:{type:Number,default:0},act:{type:String,default:""},isDialog:Boolean},emits:["submitCallback","update:confirmLoading","callback","close"],setup(A,{expose:N,emit:O}){const b=O,p=A,k=_(!0),w=L().currentRoute.value.query,y=_(p.isDialog?p.act:String(w.act)),I=_(p.isDialog?p.id:Number(w.id));y.value,U();const t=_({balance:0,frozenBalance:0,avatar:""}),C=async()=>{try{const u=await T(y.value,{id:I.value});Object.assign(t.value,u)}catch(u){q.error(u.message),b("close")}finally{k.value=!1}};V(()=>{C()});const S=u=>{C(),b("callback",u)},h=()=>{b("submitCallback",!0)};return N({onFormSubmit:()=>{h()}}),(u,a)=>{const j=m("el-avatar"),r=m("el-col"),g=m("el-row"),B=m("a-spin");return f(),v("div",H,[s("div",J,[s("div",K,[k.value?E("",!0):(f(),v("div",W,[s("div",X,[s("div",Y,[a[1]||(a[1]=s("span",{class:"mr10"},"基本信息",-1)),e(d(c),{params:{act:"detail",id:t.value.userId},isDrawer:"",path:"user/user/Info",title:"编辑会员",width:"560px",onOkCallback:S},{default:o(()=>[...a[0]||(a[0]=[s("a",{class:"btn-link"},"编辑",-1)])]),_:1},8,["params"])]),s("div",Z,[e(j,{size:60,src:d(Q)(t.value.avatar)},null,8,["src"]),s("div",ss,[s("div",as,[e(G,{user:t.value.username},null,8,["user"])]),s("div",ts,[a[2]||(a[2]=n(" 等级：",-1)),s("span",es,l(t.value.rankName),1)]),e(g,null,{default:o(()=>[e(r,{span:8},{default:o(()=>[s("div",os,l("昵称："+t.value.nickname),1)]),_:1}),e(r,{span:8},{default:o(()=>[a[3]||(a[3]=n(" 手机号： ",-1)),e($,{mobile:t.value.mobile},null,8,["mobile"])]),_:1}),e(r,{span:8},{default:o(()=>[n(" 邮箱地址："+l(t.value.email),1)]),_:1})]),_:1})])])]),s("div",ls,[a[4]||(a[4]=s("div",{class:"title"},"会员资料",-1)),s("div",is,[e(g,{style:{width:"100%"}},{default:o(()=>[e(r,{span:8},{default:o(()=>[n(" 生日："+l(t.value.birthday),1)]),_:1}),e(r,{span:8},{default:o(()=>[n(" 注册时间："+l(t.value.regTime),1)]),_:1})]),_:1})])]),s("div",ns,[a[6]||(a[6]=s("div",{class:"title"},[s("span",{class:"mr10"},"收货信息")],-1)),s("div",rs,[e(g,{style:{width:"100%","line-height":"30px"}},{default:o(()=>[e(r,{span:8},{default:o(()=>{var i;return[n(" 收货人："+l(((i=t.value.userAddress)==null?void 0:i.consignee)||"--"),1)]}),_:1}),e(r,{span:8},{default:o(()=>{var i;return[n(" 联系方式："+l(((i=t.value.userAddress)==null?void 0:i.mobile)||"--"),1)]}),_:1}),e(r,{span:8},{default:o(()=>{var i;return[n(" 邮箱地址："+l(((i=t.value.userAddress)==null?void 0:i.email)||"--"),1)]}),_:1}),e(r,{span:8},{default:o(()=>{var i,z;return[a[5]||(a[5]=n(" 所在地区： ",-1)),(f(!0),v(M,null,R((i=t.value.userAddress)==null?void 0:i.regionNames,D=>(f(),v("span",{key:D},l(D),1))),128)),n(" "+l(((z=t.value.userAddress)==null?void 0:z.address)||"--"),1)]}),_:1})]),_:1})])]),s("div",ds,[s("div",us,[a[9]||(a[9]=s("span",{class:"mr10"},"资金信息",-1)),e(d(c),{params:{act:"detail",id:t.value.userId,type:1},isDrawer:"",path:"user/user/EditAccount",title:"资金管理",width:"600px",onOkCallback:h},{default:o(()=>[...a[7]||(a[7]=[s("a",{class:"btn-link mr10"},"管理",-1)])]),_:1},8,["params"]),e(d(c),{params:{act:"detail",id:t.value.userId,type:1},isDrawer:"",path:"user/user/AccountLog",title:"资金管理",width:"资金明细",showClose:!1,showOnOk:!1},{default:o(()=>[...a[8]||(a[8]=[s("a",{class:"btn-link"},"明细",-1)])]),_:1},8,["params"])]),s("div",cs,[s("div",ps,[a[10]||(a[10]=s("div",null,"可用资金",-1)),s("div",_s,[s("a",ms,l(d(x)(t.value.balance)),1)])]),s("div",vs,[a[11]||(a[11]=s("div",null,"冻结资金",-1)),s("div",fs,[s("a",bs,l(d(x)(t.value.frozenBalance)),1)])])])]),s("div",ks,[s("div",hs,[a[14]||(a[14]=s("span",{class:"mr10"},"积分信息",-1)),e(d(c),{params:{act:"detail",id:t.value.userId,type:3},isDrawer:"",path:"user/user/EditAccount",title:"资金管理",width:"600px",onOkCallback:h},{default:o(()=>[...a[12]||(a[12]=[s("a",{class:"btn-link mr10"},"管理",-1)])]),_:1},8,["params"]),e(d(c),{params:{act:"detail",id:t.value.userId,type:3},isDrawer:"",path:"user/user/AccountLog",title:"资金管理",width:"资金明细",showClose:!1,showOnOk:!1},{default:o(()=>[...a[13]||(a[13]=[s("a",{class:"btn-link"},"明细",-1)])]),_:1},8,["params"])]),s("div",gs,[s("div",ws,[a[15]||(a[15]=s("div",null,"成长积分",-1)),s("div",ys,[s("a",Cs,l(t.value.growthPoints),1)])]),s("div",zs,[a[16]||(a[16]=s("div",null,"消费积分",-1)),s("div",Ds,[s("a",xs,l(t.value.points),1)])])])])])),e(B,{spinning:k.value,style:{width:"100%","margin-top":"100px"}},null,8,["spinning"])])])])}}}),Vs=P(As,[["__scopeId","data-v-cff0fb7b"]]);export{Vs as default};

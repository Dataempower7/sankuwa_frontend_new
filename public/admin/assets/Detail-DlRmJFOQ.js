import{M as U}from"./MobileCard-qEvTFKQw.js";import"./index-KjhYqCTY.js";/* empty css                                                                    */import{P as q}from"./Pagination-C8J7-6Em.js";import{d as L,r as p,b as $,ab as j,c as E,f as _,g as d,h as t,i as m,k as r,l as a,m as n,z as o,t as I,j as k,Q as F,P as N,_ as G}from"./index-B52YIGC0.js";import{a as Q,c as H}from"./accountManage-AaZJSGj-.js";import{_ as J}from"./Image.vue_vue_type_script_setup_true_lang-B8qXJKJq.js";import{S as v}from"./StatusDot-DuKP0Xmc.js";import{_ as C}from"./DialogForm.vue_vue_type_script_setup_true_lang-CT6mpwCc.js";import"./index-C9ZdVeVx.js";import"./format-BxqOrW-w.js";const K={class:"container"},W={class:"content_wrapper"},X={class:"lyecs-form-table"},Y={class:"mr10"},Z={key:1},ee={key:3,style:{color:"red"}},te={key:4,style:{color:"red"}},ae={key:5,style:{color:"green"}},le={key:2,style:{color:"red"}},oe={key:3,style:{color:"green"}},se={key:0,class:"pagination-con"},re=L({__name:"Detail",props:{id:{type:Number,default:0},act:{type:String,default:""},type:{type:String,default:""},isDialog:Boolean},emits:["callback","update:confirmLoading","close"],setup(i,{emit:O}){const S=p([]),w=O,c=i,g=p(!0),V=$().currentRoute.value.query,b=p(c.isDialog?c.id:Number(V.id)),B=j(),y=p({adminId:0}),z=E(()=>{let s="";return c.type=="shop"?s="店铺":c.type=="store"?s="门店":c.type=="pickup"?s="自提点":c.type=="vendor"&&(s="供应商"),s}),h=async()=>{try{const s=await Q({id:b.value,type:c.type});y.value=s,M(s.adminId)}catch(s){N.error(s.message),w("close")}finally{g.value=!1}},f=p({page:1,size:10}),x=p(0),M=async s=>{try{const l=await H({adminId:s,type:c.type,...f.value});S.value=l.records,x.value=l.total}catch(l){N.error(l.message),w("close")}finally{g.value=!1}};h();const R=()=>{M(y.value.adminId)};return(s,l)=>{const P=_("el-divider"),D=_("el-form-item"),u=_("el-table-column"),A=_("el-table"),T=_("el-form");return t(),d("div",K,[m("div",W,[m("div",X,[g.value?a("",!0):(t(),r(T,{key:0,ref_key:"formRef",ref:B,model:y.value,"label-width":"auto"},{default:n(()=>[o(D,{label:"主账号名称"},{default:n(()=>[m("p",Y,I(y.value.username),1),o(k(C),{params:{act:"detail",id:b.value,type:i.type},isDrawer:"",path:"authority/accountManage/ChangeAccount",title:"更换主账号",width:"600px",onOkCallback:h},{default:n(()=>[...l[2]||(l[2]=[m("a",{class:"btn-link"},"更换主账号",-1)])]),_:1},8,["params"]),o(P,{direction:"vertical"}),o(k(C),{params:{act:"detail",id:b.value,type:i.type},isDrawer:"",path:"authority/accountManage/AccountInfo",title:"修改账号信息",width:"600px",onOkCallback:h},{default:n(()=>[...l[3]||(l[3]=[m("a",{class:"btn-link"},"修改账号信息",-1)])]),_:1},8,["params"]),o(P,{direction:"vertical"}),o(k(C),{params:{act:"detail",id:b.value,type:i.type},isDrawer:"",path:"authority/accountManage/Password",title:"修改密码",width:"600px"},{default:n(()=>[...l[4]||(l[4]=[m("a",{class:"btn-link"},"修改密码",-1)])]),_:1},8,["params"])]),_:1}),o(D,{label:"手机号"},{default:n(()=>[o(U,{mobile:y.value.mobile},null,8,["mobile"])]),_:1}),o(D,{label:z.value+"列表"},{default:n(()=>[o(A,{data:S.value,style:{width:"100%"}},{default:n(()=>[o(u,{prop:"logo",label:z.value+"LOGO",width:"150"},{default:n(({row:e})=>[e.logo?(t(),r(k(J),{key:0,src:e.logo,fit:"contain",style:{height:"25px",width:"60px"}},null,8,["src"])):(t(),d("p",Z,"暂无图片"))]),_:1},8,["label"]),i.type=="shop"?(t(),r(u,{key:0,prop:"name",label:"店铺名称"})):a("",!0),i.type=="store"?(t(),r(u,{key:1,prop:"name",label:"门店名称"})):a("",!0),i.type=="vendor"?(t(),r(u,{key:2,prop:"name",label:"供应商名称"})):a("",!0),i.type!=="vendor"?(t(),r(u,{key:3,prop:"address",label:"状态"},{default:n(({row:e})=>[e.status==10?(t(),r(v,{key:0,color:"red",flicker:!0})):a("",!0),e.status==4?(t(),r(v,{key:1,color:"red",flicker:!0})):a("",!0),e.status==1?(t(),r(v,{key:2,color:"green",flicker:!0})):a("",!0),e.status===10?(t(),d("span",ee,"关店")):a("",!0),e.status===4?(t(),d("span",te,"暂停营业")):a("",!0),e.status===1?(t(),d("span",ae,"开业")):a("",!0)]),_:1})):a("",!0),i.type=="vendor"?(t(),r(u,{key:4,prop:"address",label:"状态"},{default:n(({row:e})=>[e.status==2?(t(),r(v,{key:0,color:"red",flicker:!0})):a("",!0),e.status==1?(t(),r(v,{key:1,color:"green",flicker:!0})):a("",!0),e.status===2?(t(),d("span",le,"暂停供应")):a("",!0),e.status===1?(t(),d("span",oe,"正常供应")):a("",!0)]),_:1})):a("",!0),o(u,{prop:"adminUsername",label:"主账号名称"}),o(u,{prop:"addTime",label:"创建时间"},{default:n(({row:e})=>[F(I(e.addTime||"--"),1)]),_:1})]),_:1},8,["data"]),x.value>0?(t(),d("div",se,[o(k(q),{page:f.value.page,"onUpdate:page":l[0]||(l[0]=e=>f.value.page=e),size:f.value.size,"onUpdate:size":l[1]||(l[1]=e=>f.value.size=e),total:x.value,onCallback:R},null,8,["page","size","total"])])):a("",!0)]),_:1},8,["label"])]),_:1},8,["model"]))])])])}}}),ve=G(re,[["__scopeId","data-v-f62bec82"]]);export{ve as default};

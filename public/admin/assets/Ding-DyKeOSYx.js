/* empty css             */import{b as S,c as V}from"./mail-gJcKEEt7.js";import{d as C}from"./format-BxqOrW-w.js";import{d as R,u as F,r as p,ab as D,o as I,f as a,g as N,h,i as t,z as o,m as l,Q as g,ah as z,j as A,F as B,P as m,_ as M}from"./index-B52YIGC0.js";const O="/admin/assets/ding-C-OdnMuO.png",j={class:"container"},E={class:"content_wrapper"},L={class:"extra"},U={class:"selected-action"},P=R({__name:"Ding",emits:["submitCallback","update:confirmLoading","close"],setup(Q,{expose:_,emit:q}){const{themeInfo:v}=F(),i=p(!1),d=p(!0),b=D(),n=p({}),y=async()=>{try{const s=await S();Object.assign(n.value,C(s))}catch(s){m.error(s.message)}finally{d.value=!1}};I(()=>{y()});const u=async()=>{i.value=!0;try{const s=await V(n.value);m.success("修改成功")}catch(s){m.error(s.message)}finally{i.value=!1}};return _({onFormSubmit:()=>{u()}}),(s,e)=>{const c=a("TigInput"),f=a("el-form-item"),k=a("el-popover"),T=a("el-form"),w=a("a-spin"),x=a("el-button");return h(),N(B,null,[t("div",j,[t("div",E,[e[5]||(e[5]=t("div",{class:"title"},"钉钉通知设置",-1)),o(w,{spinning:d.value,style:{width:"100%","margin-top":"100px"}},{default:l(()=>[o(T,{ref_key:"formRef",ref:b,model:n.value,"label-width":"auto"},{default:l(()=>[o(f,{label:"钉钉群机器人token",prop:"dingTalkRobotToken"},{default:l(()=>[o(c,{classType:"tig-form-input",modelValue:n.value.dingTalkRobotToken,"onUpdate:modelValue":e[0]||(e[0]=r=>n.value.dingTalkRobotToken=r)},null,8,["modelValue"])]),_:1}),o(f,{label:"钉钉appsecret",prop:"dingAppSecret"},{default:l(()=>[t("div",null,[o(c,{classType:"tig-form-input",modelValue:n.value.dingAppSecret,"onUpdate:modelValue":e[1]||(e[1]=r=>n.value.dingAppSecret=r)},null,8,["modelValue"]),t("div",L,[e[4]||(e[4]=g(" 可在“钉钉开放平台-应用开发-选择应用-机器人”页面获取。",-1)),o(k,{width:930,placement:"bottom",trigger:"click"},{reference:l(()=>[...e[2]||(e[2]=[t("a",null,"查看示例",-1)])]),default:l(()=>[...e[3]||(e[3]=[t("img",{src:O,style:{width:"900px"}},null,-1)])]),_:1})])])]),_:1})]),_:1},8,["model"])]),_:1},8,["spinning"])])]),t("div",{class:"selected-action-warp selected-warp-left",style:z({left:A(v).layout!=="topMenu"?"369px":"270px"})},[t("div",U,[o(x,{loading:i.value,class:"form-submit-btn",size:"large",type:"primary",onClick:u},{default:l(()=>[...e[6]||(e[6]=[g("提 交",-1)])]),_:1},8,["loading"])])],4)],64)}}}),X=M(P,[["__scopeId","data-v-15986ccf"]]);export{X as default};

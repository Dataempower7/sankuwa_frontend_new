import{d as N,r as p,b as O,ab as R,o as q,P as c,f as m,g as D,h as f,i as _,k as V,l as w,z as l,m as a,L,j,Q as E,O as F}from"./index-B52YIGC0.js";import{d as h,m as z}from"./order-BVunCi_y.js";import"./SelectTimeInterval.vue_vue_type_style_index_0_scoped_207fe586_lang-1fz1RqDZ.js";import"./index-KjhYqCTY.js";/* empty css                                                                    *//* empty css                                                                  *//* empty css                                                                              */import{S as M}from"./SelectRegion-B1dYo0k6.js";/* empty css             */import"./time-EzYK4E-P.js";import"./index-C9ZdVeVx.js";import"./region-BXYVi85_.js";import"./region-DzZbv6Nj.js";/* empty css                                                                     */const P={class:"container"},Q={class:"content_wrapper"},A={class:"lyecs-form-table"},re=N({__name:"EditConsignee",props:{id:{type:Number,default:0},act:{type:String,default:0},form:{type:Object,default:()=>({})},isDialog:Boolean},emits:["submitCallback","update:confirmLoading","close"],setup(k,{expose:C,emit:S}){const d=S,n=k,i=p(!0),g=O().currentRoute.value.query,T=p(n.isDialog?n.act:String(g.act)),v=p(n.isDialog?n.id:Number(g.id)),b=R(),e=p(n.form);q(()=>{I()});const I=async()=>{try{i.value=!0;const s=await h(T.value,{id:v.value});Object.assign(e.value,s)}catch(s){c.error(s.message),d("close")}finally{i.value=!1}},y=async()=>{await b.value.validate();try{d("update:confirmLoading",!0),console.log(e.value);const s=await z({id:v.value,...e.value});d("submitCallback",s),c.success("操作成功")}catch(s){c.error(s.message)}finally{d("update:confirmLoading",!1)}};return C({onFormSubmit:()=>{y()}}),(s,o)=>{const u=m("TigInput"),r=m("el-form-item"),U=m("el-button"),x=m("el-form"),B=m("a-spin");return f(),D("div",P,[_("div",Q,[_("div",A,[i.value?w("",!0):(f(),V(x,{key:0,ref_key:"formRef",ref:b,model:e.value,"label-width":"auto"},{default:a(()=>[l(r,{rules:[{required:!0,message:"收货人不能为空!"}],label:"收货人",prop:"consignee"},{default:a(()=>[l(u,{classType:"tig-form-input",modelValue:e.value.consignee,"onUpdate:modelValue":o[0]||(o[0]=t=>e.value.consignee=t)},null,8,["modelValue"])]),_:1}),l(r,{label:"所在地区",prop:"regionIds"},{default:a(()=>[i.value?w("",!0):(f(),V(j(M),{key:0,selectedIds:e.value.regionIds,"onUpdate:selectedIds":o[1]||(o[1]=t=>e.value.regionIds=t)},null,8,["selectedIds"]))]),_:1}),l(r,{rules:[{required:!0,message:"手机不能为空!"}],label:"手机",prop:"mobile"},{default:a(()=>[l(u,{classType:"tig-form-input",modelValue:e.value.mobile,"onUpdate:modelValue":o[2]||(o[2]=t=>e.value.mobile=t)},null,8,["modelValue"])]),_:1}),l(r,{rules:[{required:!0,message:"地址不能为空!"}],label:"地址",prop:"address"},{default:a(()=>[l(u,{classType:"tig-form-input",modelValue:e.value.address,"onUpdate:modelValue":o[3]||(o[3]=t=>e.value.address=t)},null,8,["modelValue"])]),_:1}),l(r,{label:"邮编",prop:"postcode"},{default:a(()=>[l(u,{classType:"tig-form-input",modelValue:e.value.postcode,"onUpdate:modelValue":o[4]||(o[4]=t=>e.value.postcode=t)},null,8,["modelValue"])]),_:1}),l(r,{label:"电子邮件",prop:"email"},{default:a(()=>[l(u,{classType:"tig-form-input",modelValue:e.value.email,"onUpdate:modelValue":o[5]||(o[5]=t=>e.value.email=t)},null,8,["modelValue"])]),_:1}),l(r,{label:"电话",prop:"telephone"},{default:a(()=>[l(u,{classType:"tig-form-input",modelValue:e.value.telephone,"onUpdate:modelValue":o[6]||(o[6]=t=>e.value.telephone=t)},null,8,["modelValue"])]),_:1}),L(l(r,{"wrapper-col":{offset:4,span:16}},{default:a(()=>[l(U,{ref:"submitBtn",class:"form-submit-btn",type:"primary",onClick:y},{default:a(()=>[...o[7]||(o[7]=[E("提交 ",-1)])]),_:1},512)]),_:1},512),[[F,!n.isDialog]])]),_:1},8,["model"])),l(B,{spinning:i.value,style:{width:"100%","margin-top":"100px"}},null,8,["spinning"])])])])}}});export{re as default};

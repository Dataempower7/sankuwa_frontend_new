import{d as C,r as d,b as B,ab as O,o as L,P as f,f as r,g as U,h as u,i as m,k as g,l as v,m as a,z as o,L as j,Q as c,j as I,O as q,_ as D}from"./index-B52YIGC0.js";import{d as E,q as F}from"./order-BVunCi_y.js";import"./SelectTimeInterval.vue_vue_type_style_index_0_scoped_207fe586_lang-1fz1RqDZ.js";import"./index-KjhYqCTY.js";/* empty css                                                                    *//* empty css                                                                  *//* empty css                                                                              *//* empty css                                                                     */import{S as z}from"./SelectLogisticsCompany-DF1CZxaC.js";import{S as P}from"./SelectShippingType-DFRGunVZ.js";/* empty css             */import"./time-EzYK4E-P.js";import"./index-C9ZdVeVx.js";import"./logisticsCompany-DCAp04os.js";import"./shippingType-CxHHeBGp.js";const Q={class:"container"},A={class:"content_wrapper"},G={class:"lyecs-form-table"},H=C({__name:"EditShipping",props:{id:{type:Number,default:0},form:{type:Object,default:()=>({})},valueName:String,isDialog:Boolean},emits:["submitCallback","update:confirmLoading","close"],setup(S,{expose:V,emit:N}){const n=N,b=S,_=d(!0),w=B().currentRoute.value.query,y=d(b.isDialog?b.id:Number(w.id));d(1);const h=O(),t=d({items:[]});L(()=>{M()});const M=async()=>{try{const i=await E("detail",{id:y.value});Object.assign(t.value,i)}catch(i){f.error(i.message),n("close")}finally{_.value=!1}},T=async()=>{await h.value.validate();try{n("update:confirmLoading",!0);const i=await F({id:y.value,shippingMethod:t.value.shippingMethod,logisticsId:t.value.logisticsId,trackingNo:t.value.trackingNo});n("submitCallback",i),f.success("操作成功")}catch(i){f.error(i.message)}finally{n("update:confirmLoading",!1)}};return V({onFormSubmit:()=>{T()}}),(i,e)=>{const p=r("el-radio"),R=r("el-radio-group"),s=r("el-form-item"),k=r("TigInput"),x=r("el-form");return u(),U("div",Q,[m("div",A,[m("div",G,[e[9]||(e[9]=m("div",{class:"button-card babyBlue pd15"}," 提示：在当前页面修改配送方式或物流公司不会更改订单运费，如需修改运费请编辑订单金额（仅对未支付的订单支持订单金额编辑） ",-1)),_.value?v("",!0):(u(),g(x,{key:0,ref_key:"formRef",ref:h,model:t.value,"label-width":"auto"},{default:a(()=>[o(s,{label:"配送方式",prop:"shippingMethod"},{default:a(()=>[o(R,{modelValue:t.value.shippingMethod,"onUpdate:modelValue":e[0]||(e[0]=l=>t.value.shippingMethod=l)},{default:a(()=>[o(p,{value:1},{default:a(()=>[...e[5]||(e[5]=[c("物流配送",-1)])]),_:1}),o(p,{value:2},{default:a(()=>[...e[6]||(e[6]=[c("商家配送",-1)])]),_:1}),o(p,{value:3},{default:a(()=>[...e[7]||(e[7]=[c("无需配送",-1)])]),_:1}),o(p,{value:4},{default:a(()=>[...e[8]||(e[8]=[c("电子面单",-1)])]),_:1})]),_:1},8,["modelValue"])]),_:1}),j(m("div",null,[o(s,{label:"配送类型",prop:"shippingTypeId"},{default:a(()=>[o(I(P),{id:t.value.shippingTypeId,"onUpdate:id":e[1]||(e[1]=l=>t.value.shippingTypeId=l)},null,8,["id"])]),_:1}),o(s,{label:"物流公司",prop:"logisticsId"},{default:a(()=>[o(I(z),{logisticsId:t.value.logisticsId,"onUpdate:logisticsId":e[2]||(e[2]=l=>t.value.logisticsId=l)},null,8,["logisticsId"])]),_:1}),t.value.shippingMethod===1?(u(),g(s,{key:0,label:"快递单号",prop:"trackingNo"},{default:a(()=>[o(k,{classType:"tig-form-input",modelValue:t.value.trackingNo,"onUpdate:modelValue":e[3]||(e[3]=l=>t.value.trackingNo=l)},null,8,["modelValue"])]),_:1})):v("",!0),t.value.shippingMethod===4?(u(),g(s,{key:1,label:"发货备注",prop:"billRemark"},{default:a(()=>[o(k,{classType:"tig-form-input",modelValue:t.value.billRemark,"onUpdate:modelValue":e[4]||(e[4]=l=>t.value.billRemark=l),type:"textarea",rows:3},null,8,["modelValue"])]),_:1})):v("",!0)],512),[[q,t.value.shippingMethod===1||t.value.shippingMethod===4]])]),_:1},8,["model"]))])])])}}}),pe=D(H,[["__scopeId","data-v-c9757c73"]]);export{pe as default};

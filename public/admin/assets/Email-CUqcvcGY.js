/* empty css             */import{g as C,s as P,a as B}from"./mail-gJcKEEt7.js";import{d as E}from"./format-BxqOrW-w.js";import{d as F,u as k,r as g,ab as I,o as A,f as d,g as G,h as N,i as o,z as l,m as t,Q as i,ah as z,j as H,F as L,P as f,_ as Q}from"./index-B52YIGC0.js";const R={class:"container"},j={class:"content_wrapper"},W={class:"selected-action"},c=F({__name:"Email",emits:["submitCallback","update:confirmLoading","close"],setup(O,{expose:S,emit:q}){const{themeInfo:_}=k(),m=g(!1),V=g(!0),T=I(),a=g({mailService:void 0,smtpSsl:void 0,mailCharset:void 0,serviceEMail:void 0}),x=async()=>{try{const u=await C();Object.assign(a.value,E(u))}catch(u){f.error(u.message)}finally{V.value=!1}};A(()=>{x()});const M=async()=>{m.value=!0;try{const u=await P({testMailAddress:a.value.testMailAddress});f.success("操作成功")}catch(u){f.error(u.message)}finally{m.value=!1}},y=async()=>{m.value=!0;try{const u=await B(a.value);f.success("修改成功")}catch(u){f.error(u.message)}finally{m.value=!1}};return S({onFormSubmit:()=>{y()}}),(u,e)=>{const r=d("el-radio"),v=d("el-radio-group"),n=d("el-form-item"),p=d("TigInput"),b=d("el-button"),U=d("el-form"),w=d("a-spin");return N(),G(L,null,[o("div",R,[o("div",j,[e[21]||(e[21]=o("div",{class:"title"},"邮件通知设置",-1)),e[22]||(e[22]=o("div",{class:"notice-warp"},[o("p",null,"提示：推荐使用QQ的域名邮箱（免费），设置流程请看Tigshop教程，另外请确保服务器防火墙未拦截邮箱发送，且对应的端口开放。")],-1)),l(w,{spinning:V.value,style:{width:"100%","margin-top":"100px"}},{default:t(()=>[l(U,{ref_key:"formRef",ref:T,model:a.value,"label-width":"auto"},{default:t(()=>[l(n,{label:"邮件服务",prop:"mailService"},{default:t(()=>[l(v,{modelValue:a.value.mailService,"onUpdate:modelValue":e[0]||(e[0]=s=>a.value.mailService=s),class:"itemWidth"},{default:t(()=>[l(r,{value:0},{default:t(()=>[...e[9]||(e[9]=[i("本地邮件服务器",-1)])]),_:1}),l(r,{value:1},{default:t(()=>[...e[10]||(e[10]=[i("SMTP服务",-1)])]),_:1})]),_:1},8,["modelValue"]),e[11]||(e[11]=o("div",{class:"extra"},"如果您选择了采用服务器内置的 Mail 服务，您不需要填写下面的内容。",-1))]),_:1}),l(n,{label:"是否加密连接(SSL)",prop:"smtpSsl"},{default:t(()=>[l(v,{modelValue:a.value.smtpSsl,"onUpdate:modelValue":e[1]||(e[1]=s=>a.value.smtpSsl=s),class:"itemWidth"},{default:t(()=>[l(r,{value:1},{default:t(()=>[...e[12]||(e[12]=[i("是",-1)])]),_:1}),l(r,{value:0},{default:t(()=>[...e[13]||(e[13]=[i("否",-1)])]),_:1})]),_:1},8,["modelValue"]),e[14]||(e[14]=o("div",{class:"extra"},"SMTP一般要求加密",-1))]),_:1}),l(n,{label:"发送邮件服务器地址(SMTP)",prop:"smtpHost"},{default:t(()=>[o("div",null,[l(p,{classType:"tig-form-input",modelValue:a.value.smtpHost,"onUpdate:modelValue":e[2]||(e[2]=s=>a.value.smtpHost=s),type:"text"},null,8,["modelValue"]),e[15]||(e[15]=o("div",{class:"extra"},"邮件服务器主机地址。如果本机可以发送邮件则设置为localhost",-1))])]),_:1}),l(n,{label:"服务器端口",prop:"smtpPort"},{default:t(()=>[l(p,{classType:"tig-form-input",modelValue:a.value.smtpPort,"onUpdate:modelValue":e[3]||(e[3]=s=>a.value.smtpPort=s)},null,8,["modelValue"])]),_:1}),l(n,{label:"邮件发送帐号",prop:"smtpUser"},{default:t(()=>[o("div",null,[l(p,{classType:"tig-form-input",modelValue:a.value.smtpUser,"onUpdate:modelValue":e[4]||(e[4]=s=>a.value.smtpUser=s),type:"text"},null,8,["modelValue"]),e[16]||(e[16]=o("div",{class:"extra"},"发送邮件所需的认证帐号，如果没有就为空着",-1))])]),_:1}),l(n,{label:"帐号密码",prop:"smtpPass"},{default:t(()=>[l(p,{classType:"tig-form-input",modelValue:a.value.smtpPass,"onUpdate:modelValue":e[5]||(e[5]=s=>a.value.smtpPass=s),type:"password"},null,8,["modelValue"])]),_:1}),l(n,{label:"邮件回复地址",prop:"smtpMail"},{default:t(()=>[l(p,{classType:"tig-form-input",modelValue:a.value.smtpMail,"onUpdate:modelValue":e[6]||(e[6]=s=>a.value.smtpMail=s),type:"text"},null,8,["modelValue"])]),_:1}),l(n,{label:"邮件编码",prop:"mailCharset"},{default:t(()=>[l(v,{modelValue:a.value.mailCharset,"onUpdate:modelValue":e[7]||(e[7]=s=>a.value.mailCharset=s)},{default:t(()=>[l(r,{label:"UTF8"},{default:t(()=>[...e[17]||(e[17]=[i("国际编码(UTF8)",-1)])]),_:1}),l(r,{label:"GB2312"},{default:t(()=>[...e[18]||(e[18]=[i("简体中文(GB2312)",-1)])]),_:1}),l(r,{label:"BIG5"},{default:t(()=>[...e[19]||(e[19]=[i("繁体中文(BIG5)",-1)])]),_:1})]),_:1},8,["modelValue"])]),_:1}),l(n,{label:"测试邮件地址",prop:"testMailAddress"},{default:t(()=>[l(p,{classType:"tig-form-input",modelValue:a.value.testMailAddress,"onUpdate:modelValue":e[8]||(e[8]=s=>a.value.testMailAddress=s),type:"text"},{append:t(()=>[l(b,{loading:m.value,onClick:M},{default:t(()=>[...e[20]||(e[20]=[i("发送测试邮件 ",-1)])]),_:1},8,["loading"])]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["spinning"])])]),o("div",{class:"selected-action-warp selected-warp-left",style:z({left:H(_).layout!=="topMenu"?"369px":"270px"})},[o("div",W,[l(b,{loading:m.value,class:"form-submit-btn",size:"large",type:"primary",onClick:y},{default:t(()=>[...e[23]||(e[23]=[i("提 交",-1)])]),_:1},8,["loading"])])],4)],64)}}}),Z=Q(c,[["__scopeId","data-v-961beaa2"]]);export{Z as default};

import{F as V}from"./UploadAvatar.vue_vue_type_style_index_0_scoped_3ec2e0ca_lang-BGZZHoO-.js";import"./index-KjhYqCTY.js";import"./vuedraggable.umd-BauR0rTv.js";import{_ as z}from"./TextEditor.vue_vue_type_script_setup_true_lang-DadT278n.js";import{g as F,s as I}from"./config-D_QOf5hd.js";import{d as S,r as v,Y as U,o as E,f as p,g as i,h as d,i as t,z as s,m as a,Q as y,l as L,j as N,F as W,P as c,_ as $}from"./index-B52YIGC0.js";import"./Image.vue_vue_type_script_setup_true_lang-B8qXJKJq.js";import"./format-BxqOrW-w.js";import"./BusinessImg-B_fZOjqm.js";import"./currencyManagement-DNysi_dA.js";import"./DialogForm.vue_vue_type_script_setup_true_lang-CT6mpwCc.js";import"./index-C9ZdVeVx.js";/* empty css                                                                    */import"./index.esm-CBYqueH9.js";const B={class:"index-m_preferenceSwitch_1TP3q"},G={class:"index-m_header_2mdaa"},M={class:"info-box"},j={class:"right-box"},H={style:{width:"100%","padding-left":"25px","font-size":"14px"}},P={style:{display:"flex","flex-direction":"column"}},q={style:{display:"flex"}},A=["innerHTML"],D={key:1,style:{width:"100%"}},O={style:{display:"flex"}},Q={key:0},R={key:1,style:{"margin-top":"14px"}},Y={key:0,style:{width:"100%","padding-left":"25px"}},J=S({__name:"FirstGreeting",setup(K){const r=v(!1),o=v({activate:!1,sendText:!1,sendWechat:!1,wechatImage:"",replyContent:"你好，欢迎光临！"}),m=v({replyContentTemp:""}),g=()=>{m.value.replyContentTemp=o.value.replyContent,r.value=!0},w=()=>{o.value.replyContent=m.value.replyContentTemp,r.value=!1},u=v(!1),h=async()=>{try{const n=await I({code:"welcome",data:o.value})}catch(n){c.error(n.message)}},b=()=>{u.value&&h(),u.value||(u.value=!0)};U(()=>o.value,()=>{b()},{deep:!0});const C=async()=>{try{const n=await F({code:"welcome"});n?Object.assign(o.value,n):u.value=!0}catch(n){c.error(n.message)}};return E(()=>{C()}),(n,e)=>{const k=p("el-switch"),_=p("el-checkbox"),f=p("el-button"),x=p("el-form-item"),T=p("el-form");return d(),i(W,null,[t("div",B,[t("div",G,[e[8]||(e[8]=t("span",{class:"index-m_title_180SF"},"首句欢迎语",-1)),s(k,{class:"switch-pl",modelValue:o.value.activate,"onUpdate:modelValue":e[0]||(e[0]=l=>o.value.activate=l)},null,8,["modelValue"])]),e[9]||(e[9]=t("div",{class:"index-m_desc_Erwpt"},"当买家发送的第一条消息分配到人工接待时，会发送这个回复。相同内容一天内只会对一个买家发送一次",-1))]),e[18]||(e[18]=t("div",{class:"zent-block-header"},[t("div",{class:"zent-block-header__title zent-block-header__title-ribbon"},[t("h3",null,"回复内容")]),t("div",{class:"zent-block-header__content"},"(若都勾选则自动回复文字消息+微信二维码名片)")],-1)),t("div",M,[t("div",j,[s(T,{ref:"formRef",model:o.value,"label-width":"auto"},{default:a(()=>[s(x,{label:"",prop:"brandLogo"},{default:a(()=>[s(_,{style:{width:"100%"},modelValue:o.value.sendText,"onUpdate:modelValue":e[1]||(e[1]=l=>o.value.sendText=l)},{default:a(()=>[...e[10]||(e[10]=[t("span",{style:{"font-size":"14px"}},"发送文字消息",-1)])]),_:1},8,["modelValue"]),t("div",H,[t("div",P,[t("div",q,[e[11]||(e[11]=t("div",{style:{"min-width":"70px"}},"回复内容：",-1)),r.value?(d(),i("div",D,[s(z,{html:m.value.replyContentTemp,"onUpdate:html":e[2]||(e[2]=l=>m.value.replyContentTemp=l),height:"300px"},null,8,["html"])])):(d(),i("div",{key:0,innerHTML:o.value.replyContent},null,8,A))]),t("div",O,[e[15]||(e[15]=t("div",{style:{width:"70px"}},null,-1)),r.value?(d(),i("div",R,[s(f,{onClick:e[4]||(e[4]=l=>w()),style:{"font-size":"14px"},type:"primary"},{default:a(()=>[...e[13]||(e[13]=[y("保存",-1)])]),_:1}),s(f,{onClick:e[5]||(e[5]=l=>r.value=!1),style:{"font-size":"14px"}},{default:a(()=>[...e[14]||(e[14]=[y("取消",-1)])]),_:1})])):(d(),i("div",Q,[s(f,{onClick:e[3]||(e[3]=l=>g()),style:{"font-size":"14px"},type:"primary",link:""},{default:a(()=>[...e[12]||(e[12]=[y("编辑",-1)])]),_:1})]))])])])]),_:1}),s(x,{label:"",prop:"brandLogo"},{default:a(()=>[s(_,{style:{width:"100%"},modelValue:o.value.sendWechat,"onUpdate:modelValue":e[6]||(e[6]=l=>o.value.sendWechat=l)},{default:a(()=>[...e[16]||(e[16]=[t("span",{style:{"font-size":"14px"}},"发送微信二维码名片",-1)])]),_:1},8,["modelValue"]),o.value.sendWechat?(d(),i("div",Y,[s(N(V),{photo:o.value.wechatImage,"onUpdate:photo":e[7]||(e[7]=l=>o.value.wechatImage=l)},null,8,["photo"])])):L("",!0),e[17]||(e[17]=t("div",{class:"extra"},"系统自动发送微信二维码名片，引导买家添加客服微信，提升加粉效率",-1))]),_:1})]),_:1},8,["model"])])])],64)}}}),ue=$(J,[["__scopeId","data-v-eb922d13"]]);export{ue as default};

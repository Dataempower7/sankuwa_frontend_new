import{d as S,r as $,a5 as A,f as C,g as a,h as t,l as o,i,j as e,n as N,F as w,k as g,L as M,z as r,m as d,O as V,aY as z,dw as E,_ as G}from"./index-B52YIGC0.js";import"./index-KjhYqCTY.js";import{d as U}from"./vuedraggable.umd-BauR0rTv.js";import{_ as O}from"./Image.vue_vue_type_script_setup_true_lang-B8qXJKJq.js";import{i as b}from"./format-BxqOrW-w.js";import{_ as v}from"./DialogForm.vue_vue_type_script_setup_true_lang-CT6mpwCc.js";import"./UploadAvatar.vue_vue_type_style_index_0_scoped_3ec2e0ca_lang-BGZZHoO-.js";const D={class:"gallery-pic"},L={class:"item-img add-photo-btn"},P={class:"video-item-box-icon"},R=["src"],Y={class:"flex",style:{"flex-direction":"column",height:"80px",width:"80px","align-items":"center","justify-content":"center","line-height":"22px"}},q={key:2,class:"flex",style:{"flex-direction":"column",height:"80px",width:"80px","align-items":"center","justify-content":"center","line-height":"22px"}},H={key:0,class:"item-action"},J={key:1,class:"gallery-list-warp"},K={class:"item","data-id":"img.imgId"},Q={class:"img flex flex-justify-center"},T={class:"lyecs-dialogImage"},W=["src"],X=["onClick"],Z={key:0,class:"item gallery-add-item add-gallery-photo-btn",draggable:"false"},ee={class:"item gallery-add-item add-gallery-photo-btn",draggable:"false"},ie=S({__name:"FormAddGalleryVideo",props:{video:{type:Array,default:[]},videos:{type:Array,default:[]},isMultiple:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},type:{type:Number,default:1}},emits:["update:video","update:videos"],setup(f,{emit:j}){$(null);const c=f,{video:n,videos:h,isMultiple:_,disabled:l}=A(c),y=j,p=u=>{_.value==!0?y("update:videos",h.value.concat(u)):y("update:video",u)},k=u=>{_.value==!0?(h.value.splice(u,1),y("update:videos",h.value)):y("update:video",[])},B=()=>{y("update:videos",[])};return(u,s)=>{const x=C("SvgIcon"),F=C("el-icon");return t(),a("div",D,[!e(_)&&f.type==1?(t(),a("div",{key:0,class:N("gallery-pic-select "+(e(n).length>0?"have_image":"")+(e(l)?"disabled":""))},[i("div",L,[e(n).length>0?(t(),a(w,{key:0},[i("div",P,[r(e(v),{type:"galleryVideo",disabled:e(l),class:"item item-edit",onOkCallback:p,width:"850px",params:{isMultiple:c.isMultiple}},{default:d(()=>[...s[3]||(s[3]=[i("i",{class:"iconfont-admin icon-shipin"},null,-1)])]),_:1},8,["disabled","params"])]),e(n)[0].videoCover?(t(),g(e(O),{key:0,class:"gallery-img",src:e(b)(e(n)[0].videoCover)},null,8,["src"])):o("",!0),e(n)[0].videoCover?o("",!0):(t(),a("video",{key:1,src:e(b)(e(n)[0].videoUrl)},null,8,R)),M(i("i",{onClick:s[0]||(s[0]=m=>k(0)),class:"btn-del iconfont icon-cha"},null,512),[[V,!e(l)]])],64)):(t(),a(w,{key:1},[e(n).length==0&&!e(l)?(t(),g(e(v),{key:0,type:"galleryVideo",class:"item-bg",onOkCallback:p,disabled:e(l),params:{isMultiple:c.isMultiple},width:"850px"},{default:d(()=>[i("div",Y,[r(x,{name:"product-add-video",width:"20",height:"20"})])]),_:1},8,["disabled","params"])):o("",!0)],64)),e(l)?(t(),a("div",q,[r(x,{name:"product-add-video",width:"20",height:"20"})])):o("",!0)]),e(n).length>0&&f.type==1?(t(),a("div",H,[r(e(v),{type:"galleryVideo",disabled:e(l),class:"item item-edit",onOkCallback:p,width:"850px",params:{isMultiple:c.isMultiple}},{default:d(()=>[...s[4]||(s[4]=[i("span",{class:"iconfont icon-bianji1"},null,-1)])]),_:1},8,["disabled","params"]),i("span",{onClick:B,class:"item item-remove iconfont icon-shanchu"})])):o("",!0)],2)):o("",!0),i("div",null,[f.type==2?(t(),g(e(v),{key:0,type:"galleryVideo",disabled:e(l),onOkCallback:p,params:{isMultiple:c.isMultiple},width:"850px"},{default:d(()=>[i("div",null,[z(u.$slots,"default",{},void 0,!0)])]),_:3},8,["disabled","params"])):o("",!0)]),e(_)?(t(),a("div",J,[i("div",null,[r(e(U),{class:"gallery-list-ul","item-key":"picId",list:e(h),"ghost-class":"ghost","chosen-class":"chosenClass",animation:"300",onStart:s[1]||(s[1]=()=>{}),onEnd:s[2]||(s[2]=()=>{})},{item:d(({element:m,index:I})=>[i("div",K,[i("div",Q,[r(e(v),{type:"galleryVideo",disabled:e(l),onOkCallback:p,width:"850px",params:{isMultiple:c.isMultiple}},{default:d(()=>[i("a",T,[s[5]||(s[5]=i("div",{class:"video-item-box-icon"},[i("i",{class:"iconfont-admin icon-shipin"})],-1)),m.videoCover?(t(),g(e(O),{key:0,class:"gallery-img",big:m.videoCover,src:e(b)(m.videoCover)},null,8,["big","src"])):o("",!0),m.videoCover?o("",!0):(t(),a("video",{key:1,src:e(b)(m.videoUrl)},null,8,W))])]),_:2},1032,["disabled","params"]),M(i("i",{onClick:te=>k(I),class:"btn-del iconfont icon-cha"},null,8,X),[[V,!e(l)]])])])]),footer:d(()=>[e(l)?(t(),a("div",Z,[...s[6]||(s[6]=[i("i",{class:"iconfont icon-tianjiatupian"},null,-1)])])):(t(),g(e(v),{key:1,type:"galleryVideo",disabled:e(l),class:"",onOkCallback:p,params:{isMultiple:c.isMultiple},width:"850px"},{default:d(()=>[i("div",ee,[r(F,{size:"25"},{default:d(()=>[r(e(E))]),_:1})])]),_:1},8,["disabled","params"]))]),_:1},8,["list"])])])):o("",!0)])}}}),ce=G(ie,[["__scopeId","data-v-84343f88"]]);export{ce as F};

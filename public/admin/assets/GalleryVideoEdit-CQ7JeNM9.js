import{l as C,m as S}from"./gallery-BnfhcmY9.js";import{d as x,a5 as B,r as G,as as N,o as R,P as r,f as n,g as T,h as j,i as f,z as a,m,j as o}from"./index-B52YIGC0.js";const D={class:"container"},E={class:"content_wrapper"},F={class:"lyecs-form-table"},M=x({__name:"GalleryVideoEdit",props:{id:{type:Number,default:0},parentId:{type:Number,default:0},act:{type:String,default:""},isDialog:Boolean},emits:["submitCallback","okType"],setup(_,{expose:y,emit:b}){const v=_,{parentId:g,id:i,act:d}=B(v),V=d.value=="add"?"create":"update",u=G();let t=N({name:"",sort:50});R(()=>{d.value==="detail"&&I()});const I=async()=>{try{const e=await C({id:i.value});Object.assign(t,e)}catch(e){r.error(e.message)}},h=b,k=async()=>{await u.value.validate();try{const e=await S(V,{id:i.value,parentId:g.value,...t});h("submitCallback",e),r.success("操作成功")}catch(e){r.error(e.message)}};return y({onFormSubmit:()=>{k()}}),(e,s)=>{const c=n("TigInput"),p=n("el-form-item"),w=n("el-form");return j(),T("div",D,[f("div",E,[f("div",F,[a(w,{ref_key:"formRef",ref:u,model:o(t),"label-width":"auto"},{default:m(()=>[a(p,{name:"name",label:"相册名称",rules:[{required:!0,message:"相册名称不能为空!"}]},{default:m(()=>[a(c,{modelValue:o(t).name,"onUpdate:modelValue":s[0]||(s[0]=l=>o(t).name=l)},null,8,["modelValue"])]),_:1}),a(p,{name:"sort",label:"排序"},{default:m(()=>[a(c,{type:"integer",modelValue:o(t).sort,"onUpdate:modelValue":s[1]||(s[1]=l=>o(t).sort=l),min:0},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])])])])}}});export{M as default};

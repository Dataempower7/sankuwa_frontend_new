import{d as V,r as k,a5 as w,f as O,g as o,h as a,l as c,i as t,j as e,n as B,k as y,m as i,z as r,aY as j,dw as N,L as $,ae as z,O as E,_ as D}from"./index-B52YIGC0.js";import"./index-KjhYqCTY.js";import{d as A}from"./vuedraggable.umd-BauR0rTv.js";import{_ as b}from"./Image.vue_vue_type_script_setup_true_lang-B8qXJKJq.js";import{i as C}from"./format-BxqOrW-w.js";import{B as F}from"./BusinessImg-B_fZOjqm.js";import{_ as h}from"./DialogForm.vue_vue_type_script_setup_true_lang-CT6mpwCc.js";import"./index-C9ZdVeVx.js";import"./currencyManagement-DNysi_dA.js";/* empty css                                                                    */const G={class:"gallery-pic"},L={class:"item-img add-photo-btn"},P={key:2,class:"remove-btn"},R={key:0,class:"item-action"},Y={key:1,class:"gallery-list-warp"},q={class:"item","data-id":"img.imgId"},H={class:"img flex flex-justify-center"},J={class:"lyecs-dialogImage"},K={key:1,class:"lyecs-dialogImage"},Q=["onClick"],W={key:0},X={class:"item gallery-add-item add-gallery-photo-btn",draggable:"false"},Z=V({__name:"ImgSelect",props:{photo:{type:String,default:""},photos:{type:Array,default:[]},isMultiple:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},type:{type:Number,default:1},pageType:{type:String,default:""}},emits:["update:photo","update:photos"],setup(d,{emit:T}){k(null);const m=d,{photo:n,photos:_,isMultiple:v,disabled:g}=w(m),f=T,u=p=>{if(v.value==!0){let s=_.value||[];f("update:photos",s.concat(p))}else f("update:photo",p[0].picUrl)},I=p=>{let s=_.value;s.splice(p,1),f("update:photos",s)},x=()=>{f("update:photo","")};return k(!1),k(""),(p,s)=>{const S=O("el-icon");return a(),o("div",G,[!e(v)&&d.type==1?(a(),o("div",{key:0,class:B("gallery-pic-select "+(e(n)?"have_image":""))},[t("div",L,[e(n)?(a(),y(e(b),{key:0,class:"gallery-img",src:e(C)(e(n))},null,8,["src"])):c("",!0),e(n)?c("",!0):(a(),y(e(h),{key:1,type:"gallery",class:"item-bg",onOkCallback:u,params:{isMultiple:m.isMultiple}},{default:i(()=>[...s[2]||(s[2]=[t("div",{class:"flex",style:{"flex-direction":"column",height:"80px",width:"80px","align-items":"center","justify-content":"center","line-height":"22px"}},[t("i",{class:"iconfont icon-tianjiatupian"}),t("span",null,"添加图片")],-1)])]),_:1},8,["params"])),e(n)&&!e(g)?(a(),o("p",P,[t("i",{onClick:x,class:"iconfont icon-cha"})])):c("",!0)]),e(n)&&d.type==1&&!e(g)?(a(),o("div",R,[r(e(h),{type:"gallery",class:"item item-edit",onOkCallback:u,params:{isMultiple:m.isMultiple}},{default:i(()=>[...s[3]||(s[3]=[t("span",{class:"iconfont icon-bianji1"},null,-1)])]),_:1},8,["params"]),t("span",{onClick:x,class:"item item-remove iconfont icon-shanchu"})])):c("",!0)],2)):c("",!0),t("div",null,[d.type==2?(a(),y(e(h),{key:0,type:"gallery",onOkCallback:u,params:{isMultiple:m.isMultiple}},{default:i(()=>[t("div",null,[j(p.$slots,"default",{},void 0,!0)])]),_:3},8,["params"])):c("",!0)]),e(v)?(a(),o("div",Y,[t("div",null,[r(e(A),{class:"gallery-list-ul","item-key":"picId",list:e(_),"ghost-class":"ghost","chosen-class":"chosenClass",animation:"300",onStart:s[0]||(s[0]=()=>{}),onEnd:s[1]||(s[1]=()=>{})},{item:i(({element:l,index:U})=>[t("div",q,[t("div",H,[d.pageType=="product"?(a(),y(F,{key:0,modelValue:l.picUrl,"onUpdate:modelValue":M=>l.picUrl=M,picThumb:l.picThumb,dataId:l.picId,dataType:7,onEdit:u,onDelete:I},{default:i(()=>[t("a",J,[r(e(b),{class:"gallery-img",big:l.picUrl,src:e(C)(l.picThumb)},null,8,["big","src"])])]),_:2},1032,["modelValue","onUpdate:modelValue","picThumb","dataId"])):(a(),o("a",K,[r(e(b),{class:"gallery-img",big:l.picUrl,src:e(C)(l.picThumb)},null,8,["big","src"])])),$(t("i",{onClick:M=>I(U),class:B(["btn-del iconfont icon-cha",{overseas:e(z)()}])},null,10,Q),[[E,!e(g)]])])])]),footer:i(()=>[e(g)?(a(),o("div",W)):(a(),y(e(h),{key:1,type:"gallery",class:"",onOkCallback:u,params:{isMultiple:m.isMultiple}},{default:i(()=>[t("div",X,[r(S,{size:"25"},{default:i(()=>[r(e(N))]),_:1})])]),_:1},8,["params"]))]),_:1},8,["list"])])])):c("",!0)])}}}),re=D(Z,[["__scopeId","data-v-4e2c1a78"]]);export{re as default};

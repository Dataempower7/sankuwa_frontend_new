/* empty css             */import{d as R,x as g,u as h,X as z,ab as U,r as v,o as j,es as E,P as f,f as n,g as p,h as r,z as a,m as o,i as s,l as u,k as S,Q as i,t as M,j as x,ah as D,et as F,_ as L}from"./index-B52YIGC0.js";import{d as O}from"./format-BxqOrW-w.js";const Q={class:"container"},W={class:"content_wrapper"},X={key:0,class:"extra"},q={key:1,class:"extra"},G={key:2,class:"extra"},H={class:"selected-action"},J=R({__name:"Index",setup(K){const V=g().config,{themeInfo:P}=h();z();const T=g(),k=U(),c=v(!1),t=v({vendorSetPriceType:1,vendorSetPriceAutoValue:""});j(async()=>{await w()});const _=v(!0),w=async()=>{try{const l=await E();Object.assign(t.value,O(l))}catch(l){f.error(l.message)}finally{_.value=!1}},b=async()=>{c.value=!0;try{const l=await F(t.value);f.success("修改成功"),T.updateConfig()}catch(l){f.error(l.message)}finally{c.value=!1}};return(l,e)=>{const m=n("el-radio"),C=n("el-radio-group"),y=n("TigInput"),I=n("el-form-item"),A=n("el-form"),N=n("el-button"),B=n("a-spin");return r(),p("div",Q,[a(B,{spinning:_.value},{default:o(()=>[a(A,{ref_key:"formRef",ref:k,model:t.value,"label-width":"140px",style:{display:"flex",gap:"12px","flex-direction":"column"}},{default:o(()=>[s("div",W,[e[7]||(e[7]=s("div",{class:"title"},"价格设置",-1)),a(I,{label:"供应商设价方式",prop:"vendorSetPriceType"},{default:o(()=>[s("div",null,[s("div",null,[a(C,{modelValue:t.value.vendorSetPriceType,"onUpdate:modelValue":e[0]||(e[0]=d=>t.value.vendorSetPriceType=d),class:"itemWidth"},{default:o(()=>[a(m,{value:1},{default:o(()=>[...e[3]||(e[3]=[i("按比例",-1)])]),_:1}),a(m,{value:2},{default:o(()=>[...e[4]||(e[4]=[i("按固定数值加价",-1)])]),_:1}),a(m,{value:3},{default:o(()=>[...e[5]||(e[5]=[i("默认售价",-1)])]),_:1})]),_:1},8,["modelValue"]),t.value.vendorSetPriceType===1?(r(),S(y,{key:0,class:"mt10",type:"decimal",width:"110px",modelValue:t.value.vendorSetPriceAutoValue,"onUpdate:modelValue":e[1]||(e[1]=d=>t.value.vendorSetPriceAutoValue=d)},{append:o(()=>[...e[6]||(e[6]=[i(" % ",-1)])]),_:1},8,["modelValue"])):u("",!0),t.value.vendorSetPriceType===2?(r(),S(y,{key:1,class:"mt10",type:"decimal",width:"110px",modelValue:t.value.vendorSetPriceAutoValue,"onUpdate:modelValue":e[2]||(e[2]=d=>t.value.vendorSetPriceAutoValue=d)},{append:o(()=>[i(M(x(V).dollarSign),1)]),_:1},8,["modelValue"])):u("",!0)]),t.value.vendorSetPriceType===1?(r(),p("div",X,"选择按比例价，供应商商品将会自动按照加价比例设置销售价，系统会自动计算您设置比例后售卖的最终价格，若您设置的最终价格大于供应商限制的价格，系统会自动取供应商设置的最高比例进行售卖。")):u("",!0),t.value.vendorSetPriceType===2?(r(),p("div",q,"选择按固定数值加价，供应商商品在导入时计算出供货价+您设定的价格。")):u("",!0),t.value.vendorSetPriceType===3?(r(),p("div",G,"默认售价，供应商商品在导入时默认填入供应商设置的最大售卖价格。")):u("",!0)])]),_:1})])]),_:1},8,["model"]),e[9]||(e[9]=s("div",{style:{height:"20px"}},null,-1)),s("div",{class:"selected-action-warp selected-warp-left",style:D({left:x(P).layout!=="topMenu"?"369px":"270px"})},[s("div",H,[a(N,{loading:c.value,class:"form-submit-btn",size:"large",type:"primary",onClick:b},{default:o(()=>[...e[8]||(e[8]=[i("提 交 ",-1)])]),_:1},8,["loading"])])],4)]),_:1},8,["spinning"])])}}}),ee=L(J,[["__scopeId","data-v-e1aeb418"]]);export{ee as default};

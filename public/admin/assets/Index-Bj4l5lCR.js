/* empty css             */import{d as C,u as U,X as M,x as I,ab as P,r as V,o as E,P as _,f as p,g as f,h as m,z as o,m as t,i as l,l as y,Q as n,j as d,av as w,A,E as B,D as j,ah as D,_ as L}from"./index-B52YIGC0.js";import{g as O,s as Q}from"./profitsharingSetting-xqvRLIjZ.js";import{d as X}from"./format-BxqOrW-w.js";const H={class:"container"},J={class:"content_wrapper"},K={class:"flex flex-align-center"},Y={class:"flex flex-align-center"},Z={class:"flex flex-align-center"},$={class:"flex flex-align-center"},h={key:0},ee={class:"flex flex-align-center"},te={key:0},le={class:"flex flex-align-center"},oe={key:0},ie={key:0,class:"content_wrapper"},re={key:1,class:"content_wrapper"},ae={key:2,class:"content_wrapper"},se={class:"selected-action"},ne=C({__name:"Index",setup(de){const{themeInfo:q}=U();M(),I();const R=P(),b=V(!1),i=V({billingNode:void 0,collectionNode:void 0,collectionTimeSetting:void 0,collectionMethod:void 0,collectionAccountType:void 0,splitPaymentMethod:void 0,storeGeneralServiceFeeRate:void 0,storeWithdrawalFeeRate:void 0,storefrontGeneralServiceFeeRate:void 0,storefrontWithdrawalFeeRate:void 0,supplierGeneralServiceFeeRate:void 0,supplierWithdrawalFeeRate:void 0});E(async()=>{await N()});const S=V(!0),N=async()=>{try{const u=await O();Object.assign(i.value,X(u))}catch(u){_.error(u.message)}finally{S.value=!1}},W=(u,e,a)=>{e<0||e>15?a(new Error("限制 0-15 天")):a()},x=(u,e,a)=>{e<0||e>100?a(new Error("限制 0-100%")):a()},G=async()=>{await R.value.validate(),b.value=!0;try{const u=await Q(i.value);_.success("修改成功")}catch(u){_.error(u.message)}finally{b.value=!1}};return(u,e)=>{const a=p("el-icon"),g=p("el-tooltip"),F=p("el-radio"),c=p("el-radio-group"),s=p("el-form-item"),v=p("TigInput"),T=p("el-form"),k=p("el-button"),z=p("a-spin");return m(),f("div",H,[o(z,{spinning:S.value},{default:t(()=>[o(T,{ref_key:"formRef",ref:R,model:i.value,"label-width":"150px",style:{display:"flex",gap:"12px","flex-direction":"column"},"require-asterisk-position":"right"},{default:t(()=>[l("div",J,[e[25]||(e[25]=l("div",{class:"title"},"分账基础设置",-1)),o(s,{prop:"billingNode",rules:[{required:!0,message:"请选择出账节点"}]},{label:t(()=>[o(g,{class:"box-item",effect:"light",placement:"right","show-after":"300"},{content:t(()=>[...e[9]||(e[9]=[l("div",{style:{width:"300px",padding:"5px 10px"}},"订单支付成功或售后单退款完成，分账方能查看可获得的分账金额",-1)])]),default:t(()=>[l("div",K,[e[10]||(e[10]=l("div",null,"出账节点",-1)),o(a,{style:{"margin-left":"5px"},size:"14",color:"#999"},{default:t(()=>[o(d(w))]),_:1})])]),_:1})]),default:t(()=>[l("div",null,[o(c,{modelValue:i.value.billingNode,"onUpdate:modelValue":e[0]||(e[0]=r=>i.value.billingNode=r),class:"itemWidth",disabled:!0},{default:t(()=>[o(F,{value:1},{default:t(()=>[...e[11]||(e[11]=[n("下单成功/售后申请",-1)])]),_:1})]),_:1},8,["modelValue"])])]),_:1}),o(s,{prop:"collectionNode",rules:[{required:!0,message:"请选择入账节点"}]},{label:t(()=>[o(g,{class:"box-item",effect:"light",placement:"right","show-after":"300"},{content:t(()=>[...e[12]||(e[12]=[l("div",{style:{width:"100px",padding:"5px 10px"}},"分账方获得金额的节点",-1)])]),default:t(()=>[l("div",Y,[e[13]||(e[13]=l("div",null,"入账节点",-1)),o(a,{style:{"margin-left":"5px"},size:"14",color:"#999"},{default:t(()=>[o(d(w))]),_:1})])]),_:1})]),default:t(()=>[l("div",null,[o(c,{modelValue:i.value.collectionNode,"onUpdate:modelValue":e[1]||(e[1]=r=>i.value.collectionNode=r),class:"itemWidth",disabled:!0},{default:t(()=>[o(F,{value:1},{default:t(()=>[...e[14]||(e[14]=[n("订单完成/确认收货",-1)])]),_:1})]),_:1},8,["modelValue"])])]),_:1}),o(s,{prop:"collectionTimeSetting",rules:[{required:!0,validator:W}]},{label:t(()=>[o(g,{class:"box-item",effect:"light",placement:"right","show-after":"300"},{content:t(()=>[...e[15]||(e[15]=[l("div",{style:{width:"300px",padding:"5px 10px"}}," 入账时间满足，对应分账账单 触发入账结算 入账节点是订单完成（确认收货），入账时间设置10天，则代表结算时间是订单完成10天后结算 ",-1)])]),default:t(()=>[l("div",Z,[e[16]||(e[16]=l("div",null,"入账时间",-1)),o(a,{style:{"margin-left":"5px"},size:"14",color:"#999"},{default:t(()=>[o(d(w))]),_:1})])]),_:1})]),default:t(()=>[l("div",null,[o(v,{type:"integer",modelValue:i.value.collectionTimeSetting,"onUpdate:modelValue":e[2]||(e[2]=r=>i.value.collectionTimeSetting=r),width:"120px",min:0,max:15},{append:t(()=>[...e[17]||(e[17]=[n("天",-1)])]),_:1},8,["modelValue"]),e[18]||(e[18]=l("div",{class:"extra"},"限制 0-15 天，默认0天",-1))])]),_:1},8,["rules"]),o(s,{prop:"collectionMethod",rules:[{required:!0}]},{label:t(()=>[o(g,{class:"box-item",effect:"light",placement:"right","show-after":"300"},{content:t(()=>[...e[19]||(e[19]=[l("div",{style:{width:"150px",padding:"5px 10px"}},"入账时间设置周期结束，资金会自动入账结算",-1)])]),default:t(()=>[l("div",$,[e[20]||(e[20]=l("div",null,"入账方式",-1)),o(a,{style:{"margin-left":"5px"},size:"14",color:"#999"},{default:t(()=>[o(d(w))]),_:1})])]),_:1})]),default:t(()=>[l("div",null,[i.value.collectionNode===1?(m(),f("div",h,"自动入账")):y("",!0)])]),_:1}),o(s,{prop:"collectionAccountType",rules:[{required:!0}]},{label:t(()=>[o(g,{class:"box-item",effect:"light",placement:"right","show-after":"300"},{content:t(()=>[...e[21]||(e[21]=[l("div",{style:{width:"150px",padding:"5px 10px"}},"资金会通过店铺/门店/供应商账户余额结算",-1)])]),default:t(()=>[l("div",ee,[e[22]||(e[22]=l("div",null,"入账账户类型",-1)),o(a,{style:{"margin-left":"5px"},size:"14",color:"#999"},{default:t(()=>[o(d(w))]),_:1})])]),_:1})]),default:t(()=>[l("div",null,[i.value.collectionAccountType===1?(m(),f("div",te,"余额")):y("",!0)])]),_:1}),o(s,{prop:"splitPaymentMethod",rules:[{required:!0}]},{label:t(()=>[o(g,{class:"box-item",effect:"light",placement:"right","show-after":"300"},{content:t(()=>[...e[23]||(e[23]=[l("div",{style:{width:"150px",padding:"5px 10px"}},"商家通过对账单线下对账结算",-1)])]),default:t(()=>[l("div",le,[e[24]||(e[24]=l("div",null,"分账方式",-1)),o(a,{style:{"margin-left":"5px"},size:"14",color:"#999"},{default:t(()=>[o(d(w))]),_:1})])]),_:1})]),default:t(()=>[l("div",null,[i.value.splitPaymentMethod===1?(m(),f("div",oe,"线下分账")):y("",!0)])]),_:1})]),d(A)()?(m(),f("div",ie,[e[30]||(e[30]=l("div",{class:"title"},"店铺分账设置",-1)),o(s,{label:"通用平台服务费率",prop:"storeGeneralServiceFeeRate",rules:[{required:!0,validator:x}]},{default:t(()=>[l("div",null,[o(v,{type:"integer",modelValue:i.value.storeGeneralServiceFeeRate,"onUpdate:modelValue":e[3]||(e[3]=r=>i.value.storeGeneralServiceFeeRate=r),width:"150px",min:0,max:100},{append:t(()=>[...e[26]||(e[26]=[n("%",-1)])]),_:1},8,["modelValue"]),e[27]||(e[27]=l("div",{class:"extra"},"店铺订单资金入账时，平台将抽取的服务费。",-1))])]),_:1},8,["rules"]),o(s,{label:"店铺提现手续费率",prop:"storeWithdrawalFeeRate",rules:[{required:!0,validator:x}]},{default:t(()=>[l("div",null,[o(v,{type:"integer",modelValue:i.value.storeWithdrawalFeeRate,"onUpdate:modelValue":e[4]||(e[4]=r=>i.value.storeWithdrawalFeeRate=r),width:"150px",min:0,max:100},{append:t(()=>[...e[28]||(e[28]=[n("%",-1)])]),_:1},8,["modelValue"]),e[29]||(e[29]=l("div",{class:"extra"},"店铺提现时，平台将抽取的提现手续费",-1))])]),_:1},8,["rules"])])):y("",!0),d(B)()?(m(),f("div",re,[e[35]||(e[35]=l("div",{class:"title"},"门店分账设置",-1)),o(s,{label:"通用平台服务费率",prop:"storefrontGeneralServiceFeeRate",rules:[{required:!0,validator:x}]},{default:t(()=>[l("div",null,[o(v,{type:"integer",modelValue:i.value.storefrontGeneralServiceFeeRate,"onUpdate:modelValue":e[5]||(e[5]=r=>i.value.storefrontGeneralServiceFeeRate=r),width:"150px",min:0,max:100},{append:t(()=>[...e[31]||(e[31]=[n("%",-1)])]),_:1},8,["modelValue"]),e[32]||(e[32]=l("div",{class:"extra"},"门店订单资金入账时，平台将抽取的服务费，单个门店也可在门店管理栏目中独立设置（独立会设置覆盖通用费率）",-1))])]),_:1},8,["rules"]),o(s,{label:"门店提现手续费率",prop:"storefrontWithdrawalFeeRate",rules:[{required:!0,validator:x}]},{default:t(()=>[l("div",null,[o(v,{type:"integer",modelValue:i.value.storefrontWithdrawalFeeRate,"onUpdate:modelValue":e[6]||(e[6]=r=>i.value.storefrontWithdrawalFeeRate=r),width:"150px",min:0,max:100},{append:t(()=>[...e[33]||(e[33]=[n("%",-1)])]),_:1},8,["modelValue"]),e[34]||(e[34]=l("div",{class:"extra"},"门店提现时，平台将抽取的提现手续费",-1))])]),_:1},8,["rules"])])):y("",!0),d(j)()?(m(),f("div",ae,[e[40]||(e[40]=l("div",{class:"title"},"供应商分账设置",-1)),o(s,{label:"通用平台服务费率",prop:"supplierGeneralServiceFeeRate",rules:[{required:!0,validator:x}]},{default:t(()=>[l("div",null,[o(v,{type:"integer",modelValue:i.value.supplierGeneralServiceFeeRate,"onUpdate:modelValue":e[7]||(e[7]=r=>i.value.supplierGeneralServiceFeeRate=r),width:"150px",min:0,max:100},{append:t(()=>[...e[36]||(e[36]=[n("%",-1)])]),_:1},8,["modelValue"]),e[37]||(e[37]=l("div",{class:"extra"},"订单资金入账时，平台将抽取的服务费",-1))])]),_:1},8,["rules"]),o(s,{label:"供应商提现手续费率",prop:"supplierWithdrawalFeeRate",rules:[{required:!0,validator:x}]},{default:t(()=>[l("div",null,[o(v,{type:"integer",modelValue:i.value.supplierWithdrawalFeeRate,"onUpdate:modelValue":e[8]||(e[8]=r=>i.value.supplierWithdrawalFeeRate=r),width:"150px",min:0,max:100},{append:t(()=>[...e[38]||(e[38]=[n("%",-1)])]),_:1},8,["modelValue"]),e[39]||(e[39]=l("div",{class:"extra"},"供应商提现时，平台将抽取的提现手续费",-1))])]),_:1},8,["rules"])])):y("",!0)]),_:1},8,["model"]),e[42]||(e[42]=l("div",{style:{height:"20px"}},null,-1)),l("div",{class:"selected-action-warp selected-warp-left",style:D({left:d(q).layout!=="topMenu"?"370px":"270px"})},[l("div",se,[o(k,{loading:b.value,class:"form-submit-btn",size:"large",type:"primary",onClick:G},{default:t(()=>[...e[41]||(e[41]=[n("提 交 ",-1)])]),_:1},8,["loading"])])],4)]),_:1},8,["spinning"])])}}}),me=L(ne,[["__scopeId","data-v-b98909a1"]]);export{me as default};

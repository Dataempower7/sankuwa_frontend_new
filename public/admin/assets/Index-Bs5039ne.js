/* empty css             */import{d as B,x as S,u as R,X as z,ab as j,r as y,o as E,el as D,P as _,f as s,g as p,h as d,z as o,m as l,i as a,l as u,k as g,Q as i,t as F,j as V,ah as L,em as O,_ as Q}from"./index-B52YIGC0.js";import{d as W}from"./format-BxqOrW-w.js";const X={class:"container"},q={class:"content_wrapper"},G={key:0,class:"extra"},H={key:1,class:"extra"},J={key:2,class:"extra"},K={class:"selected-action"},Y=B({__name:"Index",setup(Z){const b=S().config,{themeInfo:P}=R();z();const k=S(),T=j(),m=y(!1),t=y({vendorProductNeedCheck:void 0,vendorMaxSubAdministrator:"",vendorSetPriceType:1,vendorSetPriceAutoValue:""});E(async()=>{await w()});const x=y(!0),w=async()=>{try{const r=await D();Object.assign(t.value,W(r))}catch(r){_.error(r.message)}finally{x.value=!1}},C=async()=>{m.value=!0;try{const r=await O(t.value);_.success("修改成功"),k.updateConfig()}catch(r){_.error(r.message)}finally{m.value=!1}};return(r,e)=>{const A=s("el-checkbox"),v=s("el-form-item"),c=s("TigInput"),f=s("el-radio"),N=s("el-radio-group"),I=s("el-form"),M=s("el-button"),U=s("a-spin");return d(),p("div",X,[o(U,{spinning:x.value},{default:l(()=>[o(I,{ref_key:"formRef",ref:T,model:t.value,"label-width":"140px",style:{display:"flex",gap:"12px","flex-direction":"column"}},{default:l(()=>[a("div",q,[e[11]||(e[11]=a("div",{class:"title"},"基本设置",-1)),o(v,{label:"供应商商品审核",prop:"vendorProductNeedCheck"},{default:l(()=>[a("div",null,[o(A,{modelValue:t.value.vendorProductNeedCheck,"onUpdate:modelValue":e[0]||(e[0]=n=>t.value.vendorProductNeedCheck=n),label:"商品默认审核通过","true-label":0,"false-label":1},null,8,["modelValue"]),e[5]||(e[5]=a("div",{class:"extra"},"供应商发布商品的时候是否需要审核才能显示商品",-1))])]),_:1}),o(v,{label:"最大管理员数",prop:"vendorMaxSubAdministrator"},{default:l(()=>[a("div",null,[o(c,{classType:"tig-form-input",modelValue:t.value.vendorMaxSubAdministrator,"onUpdate:modelValue":e[1]||(e[1]=n=>t.value.vendorMaxSubAdministrator=n)},null,8,["modelValue"]),e[6]||(e[6]=a("div",{class:"extra"},"当前供应商可配置最大子管理员数量",-1))])]),_:1}),e[12]||(e[12]=a("div",{class:"title"},"价格设置",-1)),o(v,{label:"供应商设价方式",prop:"vendorSetPriceType"},{default:l(()=>[a("div",null,[a("div",null,[o(N,{modelValue:t.value.vendorSetPriceType,"onUpdate:modelValue":e[2]||(e[2]=n=>t.value.vendorSetPriceType=n),class:"itemWidth"},{default:l(()=>[o(f,{value:1},{default:l(()=>[...e[7]||(e[7]=[i("按比例",-1)])]),_:1}),o(f,{value:2},{default:l(()=>[...e[8]||(e[8]=[i("按固定数值加价",-1)])]),_:1}),o(f,{value:3},{default:l(()=>[...e[9]||(e[9]=[i("默认售价",-1)])]),_:1})]),_:1},8,["modelValue"]),t.value.vendorSetPriceType===1?(d(),g(c,{key:0,class:"mt10",type:"decimal",width:"110px",modelValue:t.value.vendorSetPriceAutoValue,"onUpdate:modelValue":e[3]||(e[3]=n=>t.value.vendorSetPriceAutoValue=n)},{append:l(()=>[...e[10]||(e[10]=[i(" % ",-1)])]),_:1},8,["modelValue"])):u("",!0),t.value.vendorSetPriceType===2?(d(),g(c,{key:1,class:"mt10",type:"decimal",width:"110px",modelValue:t.value.vendorSetPriceAutoValue,"onUpdate:modelValue":e[4]||(e[4]=n=>t.value.vendorSetPriceAutoValue=n)},{append:l(()=>[i(F(V(b).dollarSign),1)]),_:1},8,["modelValue"])):u("",!0)]),t.value.vendorSetPriceType===1?(d(),p("div",G," 选择按比例价，供应商商品将会自动按照加价比例设置销售价，系统会自动计算您设置比例后售卖的最终价格，若您设置的最终价格大于供应商限制的价格，系统会自动取供应商设置的最高比例进行售卖。 ")):u("",!0),t.value.vendorSetPriceType===2?(d(),p("div",H,"选择按固定数值加价，供应商商品在导入时计算出供货价+您设定的价格。")):u("",!0),t.value.vendorSetPriceType===3?(d(),p("div",J,"默认售价，供应商商品在导入时默认填入供应商设置的最大售卖价格。")):u("",!0)])]),_:1})])]),_:1},8,["model"]),e[14]||(e[14]=a("div",{style:{height:"20px"}},null,-1)),a("div",{class:"selected-action-warp selected-warp-left",style:L({left:V(P).layout!=="topMenu"?"369px":"270px"})},[a("div",K,[o(M,{loading:m.value,class:"form-submit-btn",size:"large",type:"primary",onClick:C},{default:l(()=>[...e[13]||(e[13]=[i("提 交 ",-1)])]),_:1},8,["loading"])])],4)]),_:1},8,["spinning"])])}}}),te=Q(Y,[["__scopeId","data-v-f2d0e16b"]]);export{te as default};

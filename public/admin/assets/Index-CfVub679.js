import{a6 as vt,d as _t,W as ft,r as p,H as st,at as pt,o as yt,s as xt,y as gt,g as n,i as t,z as _,m as u,f as x,b as bt,h as o,k as et,l as w,t as a,j as r,n as y,Q as g,P as wt,_ as ht}from"./index-B52YIGC0.js";import{i as it}from"./index-Bb6yjXMn.js";const Dt=()=>vt({url:"panel/panel/index",method:"get"}),kt={class:"container"},Tt={class:""},At={style:{display:"flex",gap:"12px","flex-direction":"column"}},Rt={class:"content_wrapper tig-table-list bar-top-item"},St={class:"data_box"},Nt={class:"count"},zt={class:"data_box"},Gt={class:"count"},Ct={class:"data_box"},Ot={class:"count"},$t={class:"data_box"},Vt={class:"count"},Yt={class:"data_box"},Bt={class:"count"},jt={class:"content_wrapper tig-table-list tig-table-list-admin"},It={class:"store-data-con"},Mt={class:"header"},Ft={class:"title"},Ht={class:"flex flex-align-center"},Pt={class:"content"},Et={class:"live-wrapper"},Lt={class:"index-detail"},Qt={class:"detail-left"},Wt={class:"live-counter"},qt={class:"oui-counter-digit"},Ut={class:"detail-right"},Jt={class:"yesterday-data clearfix"},Kt={class:"yesterday-value num"},Xt={class:"live-counter"},Zt={class:"oui-counter-digit f12"},ts={key:0,class:"admin-iconfont up red f12"},ss={key:1,class:"admin-iconfont green f12"},es={class:"live-wrapper"},is={class:"index-detail"},as={class:"detail-left"},os={class:"live-counter"},ls={class:"oui-counter-digit"},ns={class:"detail-right"},ds={class:"yesterday-data clearfix"},rs={class:"yesterday-value num"},cs={class:"live-counter"},us={class:"oui-counter-digit f12"},ms={key:0,class:"admin-iconfont up red f12"},vs={key:1,class:"admin-iconfont green f12"},_s={class:"live-wrapper"},fs={class:"index-detail"},ps={class:"detail-left"},ys={class:"live-counter"},xs={class:"oui-counter-digit"},gs={class:"detail-right"},bs={class:"yesterday-data clearfix"},ws={class:"yesterday-value num"},hs={class:"live-counter"},Ds={class:"oui-counter-digit f12"},ks={key:0,class:"admin-iconfont up red f12"},Ts={key:1,class:"admin-iconfont green f12"},As={class:"live-wrapper"},Rs={class:"index-detail"},Ss={class:"detail-left"},Ns={class:"live-counter"},zs={class:"oui-counter-digit"},Gs={class:"detail-right"},Cs={class:"yesterday-data clearfix"},Os={class:"yesterday-value num"},$s={class:"live-counter"},Vs={class:"oui-counter-digit f12"},Ys={key:0,class:"admin-iconfont up red f12"},Bs={key:1,class:"admin-iconfont green f12"},js={class:"live-wrapper"},Is={class:"index-detail"},Ms={class:"detail-left"},Fs={class:"live-counter"},Hs={class:"oui-counter-digit"},Ps={class:"detail-right"},Es={class:"yesterday-data clearfix"},Ls={class:"yesterday-value num"},Qs={class:"live-counter"},Ws={class:"oui-counter-digit f12"},qs={key:0,class:"admin-iconfont up red f12"},Us={key:1,class:"admin-iconfont green f12"},Js={class:"chart-menu content_wrapper"},Ks=_t({__name:"Index",setup(Xs){const l=ft(),D=p(!1),k=p(st().format("YYYY-MM-DD HH:mm:ss")),at=bt(),T=p(!1),e=p(),A=p(),R=p();let d,m;const h=p({title:{text:"访问趋势",left:"left",textStyle:{color:"#222",fontSize:16}},grid:{right:"2.5%"},tooltip:{trigger:"axis"},legend:{data:["访问量"],left:"center",bottom:"bottom"},xAxis:{type:"category",data:[0]},yAxis:{type:"value"},series:[{name:"访问量",data:[0],type:"line",smooth:!0,lineStyle:{color:"#1456f0"},areaStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"#ECF5FF"},{offset:1,color:"#ffffff"}],global:!1}},color:"#1456f0",emphasis:{scale:!1}}]}),ot=()=>{D.value=!0,k.value=st().format("YYYY-MM-DD HH:mm:ss"),S(),setTimeout(()=>{D.value=!1,wt.success("刷新成功")},500)},b=p({title:{text:"交易趋势",left:"left",textStyle:{color:"#222",fontSize:16}},grid:{right:"5.5%"},tooltip:{trigger:"axis"},legend:{data:["订单金额","订单数量"],left:"center",bottom:"bottom"},xAxis:{type:"category",data:[]},yAxis:[{type:"value",name:"",splitLine:{show:!0}},{type:"value",name:"",splitLine:{show:!1}}],series:[{name:"订单金额",data:[],type:"bar",barWidth:"50%",itemStyle:{color:"#1456f0"},emphasis:{scale:!1},yAxisIndex:0},{name:"订单数量",data:[],type:"line",smooth:!0,lineStyle:{color:"#fac858"},itemStyle:{color:"#fac858"},emphasis:{scale:!1},yAxisIndex:1}]}),S=async()=>{try{const c=await Dt();e.value=c,h.value.xAxis.data=c.panelStatisticalData.horizontalAxis,h.value.series[0].data=c.panelStatisticalData.longitudinalAxisAccess,d&&d.setOption(h.value);const s=c.panelStatisticalData.longitudinalAxisOrderNum.map(f=>f===0?0:f);b.value.xAxis.data=c.panelStatisticalData.horizontalAxis,b.value.series[0].data=c.panelStatisticalData.longitudinalAxisOrderAmount,b.value.series[1].data=s,m&&m.setOption(b.value)}catch(c){console.error(c)}T.value=!1},N=()=>{d==null||d.resize(),m==null||m.resize()},lt=()=>{l==="admin"&&(d=it(A.value),d.setOption(h.value)),m=it(R.value),m.setOption(b.value),window.addEventListener("resize",N)},v=(c,s)=>{at.push({path:c,query:s})};return pt(()=>{S()}),yt(()=>{xt(()=>{lt()}),window.onresize=()=>{d==null||d.resize()}}),gt(()=>{d==null||d.dispose(),m==null||m.dispose(),window.removeEventListener("resize",N)}),(c,s)=>{const f=x("el-col"),nt=x("el-row"),dt=x("QuestionFilled"),rt=x("el-icon"),ct=x("el-tooltip"),ut=x("router-link"),mt=x("a-spin");return o(),n("div",kt,[t("div",Tt,[_(mt,{spinning:T.value},{default:u(()=>{var z,G,C,O,$,V,Y,B,j,I,M,F,H,P,E,L,Q,W,q,U,J,K,X,Z,tt;return[t("div",At,[t("div",Rt,[s[20]||(s[20]=t("div",{class:"box-header"},[t("div",{class:"title"},"待办事项")],-1)),_(nt,{gutter:15},{default:u(()=>[_(f,{lg:6,md:6,sm:12,xs:12,class:"itme-box",onClick:s[0]||(s[0]=i=>v("/order/list",{status:0}))},{default:u(()=>{var i;return[s[11]||(s[11]=t("div",{class:"bar_panel panel-bar-left"},[t("i",{class:"main_pel_m iconfont-admin icon-base-daifukuan"})],-1)),t("div",St,[s[10]||(s[10]=t("div",{class:"title"},"待付款订单",-1)),t("div",Nt,a(((i=e.value)==null?void 0:i.consoleData.awaitPay)??0),1)])]}),_:1}),_(f,{lg:6,md:6,sm:12,xs:12,class:"itme-box",onClick:s[1]||(s[1]=i=>v("/order/list",{status:1}))},{default:u(()=>{var i;return[s[13]||(s[13]=t("div",{class:"bar_panel panel-bar-left"},[t("em",{class:"main_pel_m iconfont-admin icon-base-daifahuo"})],-1)),t("div",zt,[s[12]||(s[12]=t("div",{class:"title"},"待发货订单",-1)),t("div",Gt,a(((i=e.value)==null?void 0:i.consoleData.awaitShip)??0),1)])]}),_:1}),_(f,{lg:6,md:6,sm:12,xs:12,class:"itme-box",onClick:s[2]||(s[2]=i=>v("/order/aftersales/list",{status:1}))},{default:u(()=>{var i;return[s[15]||(s[15]=t("div",{class:"bar_panel panel-bar-left"},[t("em",{class:"main_pel_m iconfont-admin icon-base-tuihuanhuo"})],-1)),t("div",Ct,[s[14]||(s[14]=t("div",{class:"title"},"待售后订单",-1)),t("div",Ot,a(((i=e.value)==null?void 0:i.consoleData.awaitAfterSale)??0),1)])]}),_:1}),r(l)==="admin"?(o(),et(f,{key:0,lg:6,md:6,sm:12,xs:12,class:"itme-box",onClick:s[3]||(s[3]=i=>v("/user/feedback/list",{type:"5,6",status:0}))},{default:u(()=>{var i;return[s[17]||(s[17]=t("div",{class:"bar_panel panel-bar-left"},[t("em",{class:"main_pel_m iconfont-admin icon-base-daipingjia"})],-1)),t("div",$t,[s[16]||(s[16]=t("div",{class:"title"},"待回复订单",-1)),t("div",Vt,a(((i=e.value)==null?void 0:i.consoleData.awaitComment)??0),1)])]}),_:1})):w("",!0),r(l)==="shop"?(o(),et(f,{key:1,lg:6,md:6,sm:12,xs:12,class:"itme-box",onClick:s[4]||(s[4]=i=>v("/comment/list",{status:0}))},{default:u(()=>{var i;return[s[19]||(s[19]=t("div",{class:"bar_panel panel-bar-left"},[t("em",{class:"main_pel_m iconfont-admin icon-base-daipingjia"})],-1)),t("div",Yt,[s[18]||(s[18]=t("div",{class:"title"},"待回复订单",-1)),t("div",Bt,a(((i=e.value)==null?void 0:i.consoleData.awaitComment)??0),1)])]}),_:1})):w("",!0)]),_:1})]),t("div",jt,[t("div",It,[t("div",Mt,[t("div",Ft,[_(ct,{class:"box-item",effect:"light",placement:"right","show-after":"300",trigger:"click"},{content:u(()=>[...s[21]||(s[21]=[t("div",{style:{width:"350px",padding:"10px","line-height":"24px","font-size":"14px"}},[t("p",null,"1、支付金额：今日凌晨至更新时间，在商城中支付的订单金额数，按支付成功时间（不含充值订单）"),t("p",null,"2、访客数：今日凌晨至更新时间，在商城中访问客户数量"),t("p",null,"3、支付买家数：今日凌晨至更新时间，在商城中支付的订单的人数（不含充值订单）"),t("p",null," 4、浏览量：今日凌晨至更新时间，商城页面被浏览的次数。每打开一个页面或每刷新一次页面都记录1次 （按访问时间） "),t("p",null,"5、支付订单数：今日凌晨至更新时间，在店铺中支付的订单单数，按支付成功时间（不含充值订单）")],-1)])]),default:u(()=>[t("div",Ht,[s[22]||(s[22]=t("div",null,"实时数据",-1)),_(rt,{style:{"margin-left":"5px"},size:"16",color:"#969799"},{default:u(()=>[_(dt)]),_:1})])]),_:1}),t("div",{class:"time",onClick:ot},[t("div",null,"更新时间："+a(k.value),1),t("i",{class:y(["iconfont-admin icon-shuaxin1",{"rotate-animation":D.value}])},null,2)])])]),t("div",Pt,[t("div",{class:y(["index-cell index-cell-0",{linetwo:r(l)!=="admin"}]),onClick:s[5]||(s[5]=i=>v("/statistics-order/list/",{}))},[t("div",Et,[s[26]||(s[26]=t("i",{class:"oui-icon iconfont-admin icon-base-basezhifujine"},null,-1)),t("div",Lt,[t("div",Qt,[s[23]||(s[23]=t("div",{class:"name sans-serif"},"支付金额",-1)),t("div",Wt,[t("span",qt,a((z=e.value)==null?void 0:z.realTimeData.todayOrderAmount),1)])]),t("div",Ut,[t("div",Jt,[s[24]||(s[24]=t("div",{class:"name"},"昨日全天",-1)),t("div",Kt,a(((G=e.value)==null?void 0:G.realTimeData.yesterdayOrderAmount)??"0"),1)]),t("div",Xt,[t("span",Zt,[s[25]||(s[25]=g("日环比 ",-1)),t("span",null,a(((C=e.value)==null?void 0:C.realTimeData.orderAmountGrowthRate)??0)+"%",1),((O=e.value)==null?void 0:O.realTimeData.orderAmountGrowthRate.toString())!=="--"&&Number(($=e.value)==null?void 0:$.realTimeData.orderAmountGrowthRate)>0?(o(),n("i",ts,"")):(o(),n("i",ss,""))])])])])])],2),r(l)==="admin"?(o(),n("div",{key:0,class:y(["index-cell index-cell-1",{linetwo:r(l)!=="admin"}]),onClick:s[6]||(s[6]=i=>v("/statistics-access/list/",{}))},[t("div",es,[s[30]||(s[30]=t("i",{class:"oui-icon iconfont-admin icon-base-zuji"},null,-1)),t("div",is,[t("div",as,[s[27]||(s[27]=t("div",{class:"name sans-serif"},"访客数",-1)),t("div",os,[t("span",ls,a(((V=e.value)==null?void 0:V.realTimeData.todayVisitNum)??"0"),1)])]),t("div",ns,[t("div",ds,[s[28]||(s[28]=t("div",{class:"name"},"昨日全天",-1)),t("div",rs,a(((Y=e.value)==null?void 0:Y.realTimeData.yesterdayVisitNum)??"0"),1)]),t("div",cs,[t("span",us,[s[29]||(s[29]=g("日环比 ",-1)),t("span",null,a(((B=e.value)==null?void 0:B.realTimeData.visitGrowthRate)??0)+"%",1),((j=e.value)==null?void 0:j.realTimeData.visitGrowthRate.toString())!=="--"&&Number((I=e.value)==null?void 0:I.realTimeData.visitGrowthRate)>0?(o(),n("i",ms,"")):(o(),n("i",vs,""))])])])])])],2)):w("",!0),t("div",{class:y(["index-cell index-cell-2",{linetwo:r(l)!=="admin"}]),onClick:s[7]||(s[7]=i=>r(l)=="admin"?v("/statistics-user/list/",{}):"")},[t("div",_s,[s[34]||(s[34]=t("i",{class:"oui-icon iconfont-admin icon-base-tuandui"},null,-1)),t("div",fs,[t("div",ps,[s[31]||(s[31]=t("div",{class:"name sans-serif"},"支付买家数",-1)),t("div",ys,[t("span",xs,a(((M=e.value)==null?void 0:M.realTimeData.todayBuyerNum)??"0"),1)])]),t("div",gs,[t("div",bs,[s[32]||(s[32]=t("div",{class:"name"},"昨日全天",-1)),t("div",ws,a(((F=e.value)==null?void 0:F.realTimeData.yesterdayBuyerNum)??"0"),1)]),t("div",hs,[t("span",Ds,[s[33]||(s[33]=g("日环比 ",-1)),t("span",null,a(((H=e.value)==null?void 0:H.realTimeData.buyerGrowthRate)??0)+"%",1),((P=e.value)==null?void 0:P.realTimeData.buyerGrowthRate.toString())!=="--"&&Number((E=e.value)==null?void 0:E.realTimeData.buyerGrowthRate)>0?(o(),n("i",ks,"")):(o(),n("i",Ts,""))])])])])])],2),r(l)==="admin"?(o(),n("div",{key:1,class:y(["index-cell index-cell-3",{linetwo:r(l)!=="admin"}]),onClick:s[8]||(s[8]=i=>v("/statistics-access/list/",{}))},[t("div",As,[s[38]||(s[38]=t("i",{class:"oui-icon iconfont-admin icon-base-liulan"},null,-1)),t("div",Rs,[t("div",Ss,[s[35]||(s[35]=t("div",{class:"name sans-serif"},"浏览量",-1)),t("div",Ns,[t("span",zs,a(((L=e.value)==null?void 0:L.realTimeData.todayViewNum)??"0"),1)])]),t("div",Gs,[t("div",Cs,[s[36]||(s[36]=t("div",{class:"name"},"昨日全天",-1)),t("div",Os,a(((Q=e.value)==null?void 0:Q.realTimeData.yesterdayViewNum)??"0"),1)]),t("div",$s,[t("span",Vs,[s[37]||(s[37]=g("日环比 ",-1)),t("span",null,a(((W=e.value)==null?void 0:W.realTimeData.viewGrowthRate)??0)+"%",1),((q=e.value)==null?void 0:q.realTimeData.viewGrowthRate.toString())!=="--"&&Number((U=e.value)==null?void 0:U.realTimeData.viewGrowthRate)>0?(o(),n("i",Ys,"")):(o(),n("i",Bs,""))])])])])])],2)):w("",!0),t("div",{class:y(["index-cell index-cell-4",{linetwo:r(l)!=="admin"}]),onClick:s[9]||(s[9]=i=>v("/statistics-sale/list/",{}))},[t("div",js,[s[42]||(s[42]=t("i",{class:"oui-icon iconfont-admin icon-base-dingdan"},null,-1)),t("div",Is,[t("div",Ms,[s[39]||(s[39]=t("div",{class:"name sans-serif"},"支付订单数",-1)),t("div",Fs,[t("span",Hs,a((J=e.value)==null?void 0:J.realTimeData.todayOrderNum),1)])]),t("div",Ps,[t("div",Es,[s[40]||(s[40]=t("div",{class:"name"},"昨日全天",-1)),t("div",Ls,a(((K=e.value)==null?void 0:K.realTimeData.yesterdayOrderNum)??"0"),1)]),t("div",Qs,[t("span",Ws,[s[41]||(s[41]=g("日环比 ",-1)),t("span",null,a(((X=e.value)==null?void 0:X.realTimeData.orderGrowthRate)??0)+"%",1),((Z=e.value)==null?void 0:Z.realTimeData.orderGrowthRate.toString())!=="--"&&Number((tt=e.value)==null?void 0:tt.realTimeData.orderGrowthRate)>0?(o(),n("i",qs,"")):(o(),n("i",Us,""))])])])])])],2),t("div",{class:y(["index-cell index-cell-5",{linetwo:r(l)!=="admin"}])},[_(ut,{to:{path:"/statistics-sale/list"},class:"check-more tig-openPage"},{default:u(()=>[...s[43]||(s[43]=[g(" 查看更多销售统计 ",-1)])]),_:1})],2)])]),s[44]||(s[44]=t("div",{class:"clearfix"},null,-1))]),t("div",Js,[r(l)==="admin"?(o(),n("div",{key:0,ref_key:"accessStatisticsRef",ref:A,class:"chart-menu-item"},null,512)):w("",!0),t("div",{ref_key:"ordersReceivedStatisticsRef",ref:R,class:y(["chart-menu-item",{full:r(l)!=="admin"}])},null,2)])])]}),_:1},8,["spinning"])])])}}}),se=ht(Ks,[["__scopeId","data-v-99f31001"]]);export{se as default};

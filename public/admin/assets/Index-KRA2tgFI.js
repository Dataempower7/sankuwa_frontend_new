import{_ as N}from"./merchant_logo-DuVmNXah.js";/* empty css             */import"./index-KjhYqCTY.js";import{d as C,c as U,v as L,r as y,o as V,f as _,g as l,h as i,z as o,m as e,i as t,j as S,Q as u,l as c,k,t as n,F as B,p as F,eu as M,ev as P,P as T,_ as R}from"./index-B52YIGC0.js";import{i as j}from"./format-BxqOrW-w.js";import{M as z}from"./MobileCard-qEvTFKQw.js";import{_ as E}from"./DialogForm.vue_vue_type_script_setup_true_lang-CT6mpwCc.js";import"./index-C9ZdVeVx.js";const O={class:"container"},Q={class:"info-row"},$={class:"title flex"},q={style:{"text-align":"center"}},A={key:0,class:"info-content"},G={class:"cell flex"},H={class:"logo"},J={key:1,class:"logo_img",style:{width:"72px",height:"72px"},src:N,fit:"cover"},K={class:"txt-content"},W={class:"name-box"},X={class:"name"},Y={class:"form-data br1"},Z={class:"label"},tt={class:"txt"},st={class:"label"},et={class:"txt"},ot={key:1},it={class:"form-data"},nt={class:"label"},at={class:"txt"},lt={class:"label"},dt={class:"txt"},rt={class:"info-row"},_t={class:"staff-info"},ct={class:"info-num-row"},vt={class:"item"},ut={class:"num"},mt={class:"btn"},ft={class:"item"},pt={class:"num"},gt={class:"btn"},ht={class:"item"},xt={class:"num"},yt={class:"btn"},kt={class:"log-row"},bt={class:"tit-row"},wt={class:"more"},It={class:"list-row"},Lt={class:"item"},St={class:"staff"},Dt={class:"username"},Nt={class:"tips"},Ct={class:"time"},Ut={key:0,class:"empty-warp"},Vt={key:0,class:"empty-bg"},Bt=C({__name:"Index",setup(Ft){const a=U(()=>L().vendorInfo);localStorage.getItem("vendorId");const m=y({userId:""}),d=y({adminLog:[]}),v=y(!0),b=async()=>{v.value=!0;try{const f=await M();m.value=f,L().updateUserInfo();const h=await P();d.value=h}catch(f){T.error(f.message)}finally{v.value=!1}};return V(()=>{b()}),(f,s)=>{const h=_("el-button"),D=_("el-image"),p=_("el-col"),x=_("el-row"),w=_("a-spin"),g=_("RouterLink");return i(),l("div",O,[o(x,{gutter:15},{default:e(()=>[o(p,{span:24},{default:e(()=>[t("div",Q,[t("div",$,[s[1]||(s[1]=t("div",null,"供应商管理",-1)),t("div",null,[o(S(E),{params:{act:"detail"},isDrawer:"",path:"vendor/setting/vendorInfo/Info",title:"编辑供应商管理信息",width:"600px",onOkCallback:b},{default:e(()=>[t("div",q,[o(h,{type:"primary",link:""},{default:e(()=>[...s[0]||(s[0]=[u("编辑",-1)])]),_:1})])]),_:1})])]),o(w,{spinning:v.value},{default:e(()=>[a.value?(i(),l("div",A,[t("div",G,[t("div",H,[a.value.vendorLogo?(i(),k(D,{key:0,style:{width:"72px",height:"72px"},src:S(j)(a.value.vendorLogo),fit:"cover"},null,8,["src"])):c("",!0),a.value.vendorLogo?(i(),l("img",J)):c("",!0)]),t("div",K,[t("div",W,[t("div",X,n(a.value.vendorName),1)]),o(x,{gutter:10},{default:e(()=>[o(p,{xs:24,lg:12},{default:e(()=>[t("div",Y,[t("div",Z,[s[2]||(s[2]=t("div",{class:"tit"},"创建时间：",-1)),t("div",tt,n(a.value.addTime),1)]),t("div",st,[s[3]||(s[3]=t("div",{class:"tit"},"联系电话：",-1)),t("div",et,[a.value.kefuPhone?(i(),k(z,{key:0,mobile:a.value.kefuPhone},null,8,["mobile"])):(i(),l("span",ot,"暂无联系电话"))])])])]),_:1}),m.value.vendorData?(i(),k(p,{key:0,xs:24,lg:12},{default:e(()=>{var r,I;return[t("div",it,[t("div",nt,[s[4]||(s[4]=t("div",{class:"tit"},"主体信息：",-1)),t("div",at,n(((r=m.value.vendorData)==null?void 0:r.companyName)||"--"),1)]),t("div",lt,[s[5]||(s[5]=t("div",{class:"tit"},"负责人姓名：",-1)),t("div",dt,n(((I=m.value.vendorData)==null?void 0:I.contactName)||"--"),1)])])]}),_:1})):c("",!0)]),_:1})])])])):c("",!0)]),_:1},8,["spinning"])])]),_:1})]),_:1}),o(x,{gutter:15},{default:e(()=>[o(p,{span:24},{default:e(()=>[t("div",rt,[s[14]||(s[14]=t("div",{class:"title flex"},[t("div",null,"员工管理")],-1)),o(w,{spinning:v.value},{default:e(()=>[t("div",_t,[t("div",ct,[t("div",vt,[s[7]||(s[7]=t("div",{class:"tit"},"已有员工数",-1)),t("div",ut,n(d.value.usingUser||"-"),1),t("div",mt,[o(g,{to:"/setting/employee/list"},{default:e(()=>[...s[6]||(s[6]=[u("编辑",-1)])]),_:1})])]),t("div",ft,[s[9]||(s[9]=t("div",{class:"tit"},"剩余可用名额",-1)),t("div",pt,n(d.value.residue||"-"),1),t("div",gt,[o(g,{to:"/setting/employee/list"},{default:e(()=>[...s[8]||(s[8]=[u("获取更多",-1)])]),_:1})])]),t("div",ht,[s[11]||(s[11]=t("div",{class:"tit"},"停用员工数",-1)),t("div",xt,n(d.value.stopUsingUser||"0"),1),t("div",yt,[o(g,{to:"/setting/employee/list"},{default:e(()=>[...s[10]||(s[10]=[u("获取更多",-1)])]),_:1})])])]),t("div",kt,[t("div",bt,[s[13]||(s[13]=t("div",{class:"tit"},"最近员工操作",-1)),t("div",wt,[o(g,{to:"/setting/employee-log/list"},{default:e(()=>[...s[12]||(s[12]=[u("获取更多",-1)])]),_:1})])]),t("div",It,[(i(!0),l(B,null,F(d.value.adminLog,r=>(i(),l("div",Lt,[t("div",St,[t("div",Dt,n(r.username),1),t("div",Nt,n(r.logInfo),1)]),t("div",Ct,n(r.logTime),1)]))),256))]),d.value.adminLog.length===0?(i(),l("div",Ut,[v.value?c("",!0):(i(),l("div",Vt,"暂无数据"))])):c("",!0)])])]),_:1},8,["spinning"])])]),_:1})]),_:1})])}}}),Qt=R(Bt,[["__scopeId","data-v-1abc77c2"]]);export{Qt as default};

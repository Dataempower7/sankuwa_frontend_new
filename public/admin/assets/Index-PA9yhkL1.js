/* empty css             */import{d as j,x as q,r as u,as as D,o as U,g as l,i as e,z as s,m as n,l as g,j as d,P as E,f as c,b as O,h as a,Q as p,k as B,ep as Q,eq as R,t as i,ac as W,av as b,_ as $}from"./index-B52YIGC0.js";/* empty css                                                                    */import{P as G}from"./Pagination-C8J7-6Em.js";import{p as z}from"./format-BxqOrW-w.js";import{g as H,a as J}from"./dashboard-CPEWhlXg.js";const K={class:"container"},X={class:"content_wrapper"},Y={class:"lyecs-table-list-warp"},Z={class:"card-warp flex"},ee={class:"card-box"},te={class:"overview"},oe={class:"money-tit"},se={class:"money-box-a"},ne={key:0},ae={key:1},le={class:"btn"},ie={class:"flex flex-wrap"},de={class:"overview h150"},ce={class:"money-tit"},_e={class:"money-box-b"},pe={key:0},re={key:1},ue={class:"overview h150"},ve={class:"money-tit"},fe={class:"money-box-b"},ye={key:0},me={key:1},he={class:"card-box"},ge={class:"overview"},xe={class:"money-tit"},ke={class:"money-tit"},be={class:"table-container"},ze={key:0,style:{color:"#0000ff"}},Me={key:1},we={key:2,style:{color:"#ff0000"}},Se={key:3,style:{color:"#999","font-size":"12px"}},Fe={key:0,style:{color:"#0000ff"}},Ce={key:1},Ae={key:2,style:{color:"#ff0000"}},Ne={key:3,style:{color:"#999","font-size":"12px"}},Be={class:"empty-warp"},Ie={key:0,class:"empty-bg"},Pe={key:0,class:"pagination-con"},Ve=j({__name:"Index",setup(Le){const I=O(),P=q(),M=u([]),f=u(!0),w=u(!0),y=u(0),r=u(!0),m=D({page:1,size:P.get("pageSize"),sortField:"",sortOrder:"",time:1}),_=u({shopMoney:0}),S=async()=>{f.value=!0;try{const h=await H();_.value=h;const t=await J();M.value=t.records,y.value=t.total}catch(h){E.error(h.message)}finally{f.value=!1,w.value=!1}},V=()=>{I.push("/withdraw/index/")};return U(()=>{S()}),(h,t)=>{const v=c("el-icon"),x=c("el-tooltip"),F=c("el-button"),C=c("el-divider"),L=c("router-link"),A=c("a-spin"),k=c("el-table-column"),T=c("el-table");return a(),l("div",K,[e("div",X,[e("div",Y,[s(A,{spinning:f.value},{default:n(()=>{var o,N;return[e("div",Z,[e("div",ee,[e("div",te,[e("div",{class:"tit-box",onClick:t[0]||(t[0]=Te=>r.value=!r.value)},[t[3]||(t[3]=p(" 账户概览 ",-1)),r.value?(a(),B(v,{key:0},{default:n(()=>[s(d(Q))]),_:1})):(a(),B(v,{key:1},{default:n(()=>[s(d(R))]),_:1}))]),e("div",oe,[p(" 可用"+i(d(W)()===2?"门店":"店铺")+"余额(元) ",1),s(x,{placement:"right",effect:"light"},{content:n(()=>[...t[4]||(t[4]=[e("div",{class:"tooltip-width"},"订单结算完成的入账金额，可用于商家日常经营收支、核心经营场景",-1)])]),default:n(()=>[s(v,null,{default:n(()=>[s(d(b))]),_:1})]),_:1})]),e("div",se,[r.value?(a(),l("span",ne,i(d(z)(_.value.shopMoney)||0),1)):(a(),l("span",ae,"******"))]),e("div",le,[s(F,{type:"primary",onClick:V},{default:n(()=>[...t[5]||(t[5]=[p("提现",-1)])]),_:1})])]),s(C),e("div",ie,[e("div",de,[e("div",ce,[t[7]||(t[7]=p(" 待结算金额(元) ",-1)),s(x,{placement:"right",effect:"light"},{content:n(()=>[...t[6]||(t[6]=[e("div",{class:"tooltip-width"},"交易未完成的订单总额，消费者确认收货后将自动转入店铺余额",-1)])]),default:n(()=>[s(v,null,{default:n(()=>[s(d(b))]),_:1})]),_:1})]),e("div",_e,[r.value?(a(),l("span",pe,i(d(z)(_.value.unSettlementMoney)||0),1)):(a(),l("span",re,"******"))])]),e("div",ue,[e("div",ve,[t[9]||(t[9]=p(" 冻结金额(元) ",-1)),s(x,{placement:"right",effect:"light"},{content:n(()=>[...t[8]||(t[8]=[e("div",{class:"tooltip-width"},"提现中或者退款中的冻结金额",-1)])]),default:n(()=>[s(v,null,{default:n(()=>[s(d(b))]),_:1})]),_:1})]),e("div",fe,[r.value?(a(),l("span",ye,i(d(z)(_.value.frozenMoney)||0),1)):(a(),l("span",me,"******"))])])])]),e("div",he,[e("div",ge,[t[11]||(t[11]=e("div",{class:"tit-box"},"账户信息",-1)),e("div",xe,"用户名："+i(((o=_.value.merchant)==null?void 0:o.companyName)||((N=_.value.merchant)==null?void 0:N.corporateName)),1),e("div",ke,[p(" 银行卡："+i(_.value.cardCount)+"张 ",1),s(L,{to:{path:"/account/list"}},{default:n(()=>[s(F,{type:"primary",link:""},{default:n(()=>[...t[10]||(t[10]=[p("去添加",-1)])]),_:1})]),_:1})])]),s(C)])])]}),_:1},8,["spinning"]),e("div",be,[t[12]||(t[12]=e("div",{class:"table-head flex flex-align-center flex-justify-between"},[e("div",{class:"name flex flex-align-center"},[e("span",null,"收支概况")]),e("div",{class:"more"})],-1)),s(A,{spinning:w.value},{default:n(()=>[s(T,{data:M.value,total:y.value,"row-key":"logId"},{empty:n(()=>[e("div",Be,[f.value?g("",!0):(a(),l("div",Ie,"暂无数据"))])]),default:n(()=>[s(k,{label:"变动时间",prop:"addTime",width:"160"}),s(k,{label:"变动余额资金"},{default:n(({row:o})=>[o.newShopMoney-o.changeAmount>0?(a(),l("span",ze,"+"+i((o.newShopMoney-o.changeAmount).toFixed(2)),1)):o.newShopMoney-o.changeAmount==0?(a(),l("span",Me,"0")):(a(),l("span",we,"-"+i((o.changeAmount-o.newShopMoney).toFixed(2)),1)),o.newShopMoney?(a(),l("span",Se,"（变更后金额:"+i(o.newShopMoney)+"）",1)):g("",!0)]),_:1}),s(k,{label:"变动冻结资金"},{default:n(({row:o})=>[o.newFrozenMoney-o.frozenMoney>0?(a(),l("span",Fe,"+"+i((o.newFrozenMoney-o.frozenMoney).toFixed(2)),1)):o.newFrozenMoney-o.frozenMoney==0?(a(),l("span",Ce,"0")):(a(),l("span",Ae,"-"+i((o.frozenMoney-o.newFrozenMoney).toFixed(2)),1)),o.newFrozenMoney?(a(),l("span",Ne,"（变更后金额:"+i(o.newFrozenMoney)+"）",1)):g("",!0)]),_:1})]),_:1},8,["data","total"])]),_:1},8,["spinning"]),y.value>0?(a(),l("div",Pe,[s(d(G),{page:m.page,"onUpdate:page":t[1]||(t[1]=o=>m.page=o),size:m.size,"onUpdate:size":t[2]||(t[2]=o=>m.size=o),total:y.value,onCallback:S},null,8,["page","size","total"])])):g("",!0)])])])])}}}),Qe=$(Ve,[["__scopeId","data-v-f920a7fb"]]);export{Qe as default};

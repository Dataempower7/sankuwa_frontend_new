/* empty css             */import{d as P,X as W,x as B,ab as U,r as d,o as D,fc as O,P as y,f as i,k as _,h as f,m as l,z as t,i as a,Q as p,l as T,j as H,g as j,F,p as z,fd as E,_ as M}from"./index-B52YIGC0.js";import"./SelectTimeInterval.vue_vue_type_style_index_0_scoped_207fe586_lang-1fz1RqDZ.js";import"./index-KjhYqCTY.js";import{d as Q}from"./format-BxqOrW-w.js";/* empty css                                                                    *//* empty css                                                                  *//* empty css                                                                              */import{S as X}from"./SelectRegion-B1dYo0k6.js";import"./time-EzYK4E-P.js";import"./index-C9ZdVeVx.js";import"./region-BXYVi85_.js";import"./region-DzZbv6Nj.js";/* empty css                                                                     */const q={class:"itemWidth"},A={class:"selected-action-warp selected-warp-left"},G={class:"selected-action",style:{"padding-left":"80px"}},J=P({__name:"IndicateSettings",setup(K){W();const b=B(),S=U(),u=d([]),v=d(!1),s=d({msgHackWord:"",isOpenPscws:"",selfStoreName:"",shopDefaultRegions:"",defaultCountry:0,showCatLevel:0}),w=d([]);D(async()=>{await x()});const g=d(!0),x=async()=>{try{const n=await O();n.shopDefaultRegions&&(u.value=n.shopDefaultRegions.split(",").map(Number)),Object.assign(s.value,Q(n)),w.value=n.countries||[]}catch(n){y.error(n.message)}finally{g.value=!1}},k=async()=>{v.value=!0,u.value.length>0&&(s.value.shopDefaultRegions=u.value.join(","));try{const n=await E(s.value);y.success("修改成功"),b.updateConfig()}catch(n){y.error(n.message)}finally{v.value=!1}};return(n,e)=>{const C=i("TigInput"),r=i("el-form-item"),m=i("el-radio"),c=i("el-radio-group"),V=i("el-option"),I=i("el-select"),N=i("el-form"),R=i("el-button"),L=i("a-spin");return f(),_(L,{spinning:g.value},{default:l(()=>[t(N,{ref_key:"formRef",ref:S,model:s.value,"label-width":"140px",style:{"margin-left":"22px"}},{default:l(()=>[e[16]||(e[16]=a("div",{class:"title",id:"generalSetup"},"通用设置",-1)),t(r,{label:"敏感词屏蔽",prop:"msgHackWord"},{default:l(()=>[t(C,{width:"100%",modelValue:s.value.msgHackWord,"onUpdate:modelValue":e[0]||(e[0]=o=>s.value.msgHackWord=o)},null,8,["modelValue"]),e[6]||(e[6]=a("div",{class:"extra"},"设置后留言中出现的字符会提示非法，请用“,”号隔开，",-1))]),_:1}),t(r,{label:"搜索关键词分词",prop:"isOpenPscws"},{default:l(()=>[t(c,{modelValue:s.value.isOpenPscws,"onUpdate:modelValue":e[1]||(e[1]=o=>s.value.isOpenPscws=o),class:"itemWidth"},{default:l(()=>[t(m,{value:1},{default:l(()=>[...e[7]||(e[7]=[p("开启",-1)])]),_:1}),t(m,{value:0},{default:l(()=>[...e[8]||(e[8]=[p("关闭",-1)])]),_:1})]),_:1},8,["modelValue"]),e[9]||(e[9]=a("div",{class:"extra"},"开启后将自动分词，比如：儿童机器人，分拆分为：儿童、机器人（会降低搜索结果精准度）",-1))]),_:1}),t(r,{label:"自营名称",prop:"selfStoreName"},{default:l(()=>[t(C,{width:"100%",modelValue:s.value.selfStoreName,"onUpdate:modelValue":e[2]||(e[2]=o=>s.value.selfStoreName=o)},null,8,["modelValue"]),e[10]||(e[10]=a("div",{class:"extra"},"比如：官方自营、Tigshop自营，仅对B2B2C多商户版本有效",-1))]),_:1}),e[17]||(e[17]=a("div",{class:"title",id:"regionalSettings"},"地区设置",-1)),t(r,{label:"商城默认地区",prop:"shopCountry"},{default:l(()=>[a("div",q,[g.value?T("",!0):(f(),_(H(X),{key:0,selectedIds:u.value,"onUpdate:selectedIds":e[3]||(e[3]=o=>u.value=o)},null,8,["selectedIds"]))]),e[11]||(e[11]=a("div",{class:"extra"},"此地区会在系统未判断出用户IP所在地域时，默认定位地区（仅影响PC端右上角送货地址）",-1))]),_:1}),t(r,{label:"默认国家",prop:"defaultCountry"},{default:l(()=>[t(I,{modelValue:s.value.defaultCountry,"onUpdate:modelValue":e[4]||(e[4]=o=>s.value.defaultCountry=o),style:{width:"100%"}},{default:l(()=>[t(V,{value:"0",label:"不选择"}),(f(!0),j(F,null,z(w.value,o=>(f(),_(V,{key:o.regionId,value:o.regionId,label:o.regionName},null,8,["value","label"]))),128))]),_:1},8,["modelValue"]),e[12]||(e[12]=a("div",{class:"extra"}," 如果选择了默认国家，则会员在选择地址时默认会显示该国家下的省份或地区，不再显示国家选择（修改设置对已经添加的会员地址不生效） ",-1))]),_:1}),e[18]||(e[18]=a("div",{class:"title",id:"categoryDisplay"},"分类显示",-1)),t(r,{label:"商城分类级数",prop:"showCatLevel"},{default:l(()=>[t(c,{modelValue:s.value.showCatLevel,"onUpdate:modelValue":e[5]||(e[5]=o=>s.value.showCatLevel=o),class:"itemWidth"},{default:l(()=>[t(m,{value:1},{default:l(()=>[...e[13]||(e[13]=[p("二级",-1)])]),_:1}),t(m,{value:0},{default:l(()=>[...e[14]||(e[14]=[p("三级或以上",-1)])]),_:1})]),_:1},8,["modelValue"]),e[15]||(e[15]=a("div",{class:"extra"},"根据商城情况，选择最多有多少分类级别，会影响到手机端分类展示方式（不推荐只设置一级分类）",-1))]),_:1})]),_:1},8,["model"]),e[20]||(e[20]=a("div",{style:{height:"20px"}},null,-1)),a("div",A,[a("div",G,[t(R,{loading:v.value,class:"form-submit-btn",size:"large",type:"primary",onClick:k},{default:l(()=>[...e[19]||(e[19]=[p("提 交",-1)])]),_:1},8,["loading"])])])]),_:1},8,["spinning"])}}}),de=M(J,[["__scopeId","data-v-d1627081"]]);export{de as default};

import{d as R,r as i,b as U,ab as E,o as F,P as d,f as n,g as O,h as V,i as f,k as q,l as I,m as a,z as o,L as j,j as G,Q as c,O as h}from"./index-B52YIGC0.js";import{F as z}from"./UploadAvatar.vue_vue_type_style_index_0_scoped_3ec2e0ca_lang-BGZZHoO-.js";import"./index-KjhYqCTY.js";import"./vuedraggable.umd-BauR0rTv.js";import{g as A,u as M}from"./example-foIgMYRk.js";import"./Image.vue_vue_type_script_setup_true_lang-B8qXJKJq.js";import"./format-BxqOrW-w.js";import"./BusinessImg-B_fZOjqm.js";import"./currencyManagement-DNysi_dA.js";import"./DialogForm.vue_vue_type_script_setup_true_lang-CT6mpwCc.js";import"./index-C9ZdVeVx.js";/* empty css                                                                    */const P={class:"container"},Q={class:"content_wrapper"},H={class:"lyecs-form-table"},re=R({__name:"Info",props:{id:Number,act:String,isDialog:Boolean},emits:["submitCallback","update:confirmLoading","close"],setup(w,{expose:k,emit:C}){const m=C,u=w,_=i(!0),v=U().currentRoute.value.query,S=i(u.isDialog?u.act:String(v.act)),g=i(u.isDialog?u.id:Number(v.id)),B=S.value==="add"?"insert":"update",b=E(),t=i({});F(()=>{N()});const N=async()=>{try{const s=await A({id:g.value});Object.assign(t.value,s)}catch(s){d.error(s.message),m("close")}finally{_.value=!1}},x=async()=>{await b.value.validate();try{m("update:confirmLoading",!0);const s=await M(B,{id:g.value,...t.value});m("submitCallback",s),d.success("操作成功")}catch(s){d.error(s.message)}finally{m("update:confirmLoading",!1)}};return k({onFormSubmit:()=>{x()}}),(s,e)=>{const p=n("TigInput"),r=n("el-form-item"),y=n("el-radio"),T=n("el-radio-group"),D=n("el-button"),L=n("el-form");return V(),O("div",P,[f("div",Q,[f("div",H,[_.value?I("",!0):(V(),q(L,{key:0,ref_key:"formRef",ref:b,model:t.value,"label-width":"auto"},{default:a(()=>[o(r,{prop:"example_name",label:"示例模板名称",rules:[{required:!0,message:"示例模板名称不能为空!"}]},{default:a(()=>[o(p,{classType:"tig-form-input",modelValue:t.value.example_name,"onUpdate:modelValue":e[0]||(e[0]=l=>t.value.example_name=l)},null,8,["modelValue"])]),_:1}),o(r,{prop:"example_logo",label:"示例模板LOGO"},{default:a(()=>[o(G(z),{photo:t.value.example_logo,"onUpdate:photo":e[1]||(e[1]=l=>t.value.example_logo=l)},null,8,["photo"]),e[5]||(e[5]=f("div",{class:"extra"},"请统一上传比例为2:1的图片，宽200px，高100px（高清）",-1))]),_:1}),o(r,{prop:"example_desc",label:"示例模板描述"},{default:a(()=>[o(p,{classType:"tig-form-input",type:"textarea",row:2,modelValue:t.value.example_desc,"onUpdate:modelValue":e[2]||(e[2]=l=>t.value.example_desc=l)},null,8,["modelValue"])]),_:1}),o(r,{prop:"sort_order",label:"排序"},{default:a(()=>[o(p,{classType:"tig-form-input",modelValue:t.value.sort_order,"onUpdate:modelValue":e[3]||(e[3]=l=>t.value.sort_order=l)},null,8,["modelValue"])]),_:1}),o(r,{prop:"is_show",label:"是否显示"},{default:a(()=>[o(T,{modelValue:t.value.is_show,"onUpdate:modelValue":e[4]||(e[4]=l=>t.value.is_show=l)},{default:a(()=>[o(y,{value:1},{default:a(()=>[...e[6]||(e[6]=[c("是",-1)])]),_:1}),o(y,{value:0},{default:a(()=>[...e[7]||(e[7]=[c("否",-1)])]),_:1})]),_:1},8,["modelValue"])]),_:1}),j(o(r,{"wrapper-col":{offset:4,span:16}},{default:a(()=>[o(D,{ref:"submitBtn",class:"form-submit-btn",type:"primary",onClick:x},{default:a(()=>[...e[8]||(e[8]=[c("提交",-1)])]),_:1},512)]),_:1},512),[[h,!u.isDialog]])]),_:1},8,["model"]))])])])}}});export{re as default};

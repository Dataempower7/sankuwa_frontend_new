import{d as H,Q as j,r as b,a as q,a2 as G,o as W,e as n,f as A,g as v,h as c,j as V,k as x,z as a,l as o,G as z,i as w,L as u,J as E,K as k}from"./index-BLXOA87U.js";import{F as J}from"./UploadAvatar.vue_vue_type_style_index_0_scoped_3ec2e0ca_lang-DfcXXcrS.js";import"./index-DpgvsnVO.js";import"./vuedraggable.umd-OAFqtEpj.js";import{i as K,j as M}from"./brand-CrKtj3RC.js";import{B as Q}from"./BusinessData-C9u0MQN0.js";import"./Image.vue_vue_type_script_setup_true_lang-BK00jvUw.js";import"./format-DdZABYp4.js";import"./BusinessImg-C3Ug8bC9.js";import"./currencyManagement-ZKRxsK3T.js";import"./version-hjn5tnxG.js";import"./DialogForm.vue_vue_type_script_setup_true_lang-6GHo9HCV.js";import"./index-B16C4gX_.js";const Z={class:"container"},P={class:"content_wrapper"},X={class:"lyecs-form-table"},me=H({__name:"Info",props:{id:{type:Number,default:0},act:{type:String,default:""},examine:{type:Number,default:0},isDialog:Boolean},emits:["submitCallback","update:confirmLoading","close"],setup(r,{expose:T,emit:C}){const B=j(),m=C,i=r,p=b(!0),S=q().currentRoute.value.query,g=b(i.isDialog?i.act:String(S.act)),y=b(i.isDialog?i.id:Number(S.id)),L=g.value==="add"?"create":"update",N=G(),t=b({sortOrder:50,isShow:1,brandIsHot:0}),O=async()=>{try{const d=await K(g.value,{id:y.value});Object.assign(t.value,d)}catch(d){k.error(d.message),m("close")}finally{p.value=!1}};W(()=>{g.value==="detail"?O():p.value=!1});const D=async()=>{await N.value.validate();try{m("update:confirmLoading",!0);const d=await M(L,{id:y.value,...t.value});m("submitCallback",d),k.success(d)}catch(d){k.error(d.message)}finally{m("update:confirmLoading",!1)}};return T({onFormSubmit:()=>{D()}}),(d,e)=>{const s=n("el-form-item"),_=n("TigInput"),f=n("el-radio"),I=n("el-radio-group"),U=n("el-button"),R=n("el-form"),F=n("a-spin");return v(),A("div",Z,[c("div",P,[c("div",X,[p.value?x("",!0):(v(),V(R,{key:0,ref_key:"formRef",ref:N,model:t.value,"label-width":"auto"},{default:o(()=>[a(s,{rules:[{required:!0,message:"品牌名称不能为空!"}],label:"品牌名称",prop:"brandName"},{default:o(()=>[a(Q,{modelValue:t.value.brandName,"onUpdate:modelValue":e[0]||(e[0]=l=>t.value.brandName=l),placeholder:"请输入品牌名称",dataType:4,dataId:y.value,disabled:r.examine==1},null,8,["modelValue","dataId","disabled"])]),_:1}),a(s,{label:"品牌LOGO",prop:"brandLogo"},{default:o(()=>[a(w(J),{photo:t.value.brandLogo,"onUpdate:photo":e[1]||(e[1]=l=>t.value.brandLogo=l),disabled:r.examine==1},null,8,["photo","disabled"]),e[7]||(e[7]=c("div",{class:"extra"},"请统一上传比例为2:1的图片，宽200px，高100px（高清）",-1))]),_:1,__:[7]}),a(s,{label:"品牌描述",prop:"brandDesc"},{default:o(()=>[a(_,{classType:"tig-form-input",modelValue:t.value.brandDesc,"onUpdate:modelValue":e[2]||(e[2]=l=>t.value.brandDesc=l),row:2,type:"textarea",disabled:r.examine==1},null,8,["modelValue","disabled"])]),_:1}),w(B)==="admin"?(v(),V(s,{key:0,label:"排序",prop:"sortOrder"},{default:o(()=>[a(_,{classType:"tig-form-input",type:"integer",modelValue:t.value.sortOrder,"onUpdate:modelValue":e[3]||(e[3]=l=>t.value.sortOrder=l),disabled:r.examine==1},null,8,["modelValue","disabled"])]),_:1})):x("",!0),a(s,{label:"首字母",prop:"firstWord"},{default:o(()=>[a(_,{classType:"tig-form-input",modelValue:t.value.firstWord,"onUpdate:modelValue":e[4]||(e[4]=l=>t.value.firstWord=l),disabled:r.examine==1},null,8,["modelValue","disabled"]),e[8]||(e[8]=c("div",{class:"extra"},"如果不填则自动生成，不过有些多音字无法准确判断，如“重”字系统则无法确认是Z还是C",-1))]),_:1,__:[8]}),a(s,{label:"是否显示",prop:"isShow"},{default:o(()=>[a(I,{modelValue:t.value.isShow,"onUpdate:modelValue":e[5]||(e[5]=l=>t.value.isShow=l),disabled:r.examine==1},{default:o(()=>[a(f,{value:1},{default:o(()=>e[9]||(e[9]=[u("是",-1)])),_:1,__:[9]}),a(f,{value:0},{default:o(()=>e[10]||(e[10]=[u("否",-1)])),_:1,__:[10]})]),_:1},8,["modelValue","disabled"])]),_:1}),w(B)==="admin"?(v(),V(s,{key:1,label:"是否热门品牌",prop:"brandIsHot"},{default:o(()=>[a(I,{modelValue:t.value.brandIsHot,"onUpdate:modelValue":e[6]||(e[6]=l=>t.value.brandIsHot=l),disabled:r.examine==1},{default:o(()=>[a(f,{value:1},{default:o(()=>e[11]||(e[11]=[u("是",-1)])),_:1,__:[11]}),a(f,{value:0},{default:o(()=>e[12]||(e[12]=[u("否",-1)])),_:1,__:[12]})]),_:1},8,["modelValue","disabled"])]),_:1})):x("",!0),z(a(s,{"wrapper-col":{offset:4,span:16}},{default:o(()=>[a(U,{ref:"submitBtn",class:"form-submit-btn",type:"primary",onClick:D},{default:o(()=>e[13]||(e[13]=[u("提交",-1)])),_:1,__:[13]},512)]),_:1},512),[[E,!i.isDialog]])]),_:1},8,["model"])),a(F,{spinning:p.value,style:{width:"100%","margin-top":"100px"}},null,8,["spinning"])])])])}}});export{me as default};

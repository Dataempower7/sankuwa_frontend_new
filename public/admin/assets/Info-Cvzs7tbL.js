import{d as L,r as d,a as q,a2 as A,o as I,e as u,f as P,g as k,h as w,j as h,k as j,z as t,l as a,G as F,L as f,i as z,J as E,K as v}from"./index-BLXOA87U.js";import{a as G,c as J}from"./suppliers-CxHmR-hR.js";import"./SelectTimeInterval.vue_vue_type_style_index_0_scoped_207fe586_lang-BfFy9xcT.js";import"./index-DpgvsnVO.js";/* empty css                                                                    *//* empty css                                                                  *//* empty css                                                                              */import{S as K}from"./SelectRegion-_j38Hbf_.js";/* empty css             */import"./time-DX2Q3n6c.js";import"./index-B16C4gX_.js";import"./region-7o97Bn5k.js";import"./region-BNulOgPD.js";const M={class:"container"},O={class:"content_wrapper"},H={class:"lyecs-form-table"},re=L({__name:"Info",props:{id:{type:Number,default:0},act:{type:String,default:""},isDialog:Boolean},emits:["submitCallback","update:confirmLoading","close"],setup(N,{expose:S,emit:C}){const p=C,r=N,m=d(!0),_=q().currentRoute.value.query,c=d(r.isDialog?r.act:String(_.act)),g=d(r.isDialog?r.id:Number(_.id)),D=c.value==="add"?"create":"update",b=A(),o=d({isCheck:1}),T=async()=>{try{const s=await G(c.value,{id:g.value});Object.assign(o.value,s)}catch(s){v.error(s.message),p("close")}finally{m.value=!1}};I(()=>{c.value==="detail"?T():m.value=!1});const V=async()=>{await b.value.validate();try{p("update:confirmLoading",!0);const s=await J(D,{id:g.value,...o.value});p("submitCallback",s),v.success("操作成功")}catch(s){v.error(s.message)}finally{p("update:confirmLoading",!1)}};return S({onFormSubmit:()=>{V()}}),(s,e)=>{const y=u("el-radio-button"),x=u("el-radio-group"),n=u("el-form-item"),i=u("TigInput"),U=u("el-button"),B=u("el-form"),R=u("a-spin");return k(),P("div",M,[w("div",O,[w("div",H,[m.value?j("",!0):(k(),h(B,{key:0,ref_key:"formRef",ref:b,model:o.value,"label-width":"auto"},{default:a(()=>[t(n,{label:"供应商状态",prop:"isCheck"},{default:a(()=>[t(x,{modelValue:o.value.isCheck,"onUpdate:modelValue":e[0]||(e[0]=l=>o.value.isCheck=l)},{default:a(()=>[t(y,{value:0},{default:a(()=>e[7]||(e[7]=[f("停用",-1)])),_:1,__:[7]}),t(y,{value:1},{default:a(()=>e[8]||(e[8]=[f("启用",-1)])),_:1,__:[8]})]),_:1},8,["modelValue"])]),_:1}),t(n,{rules:[{required:!0,message:"供应商名称不能为空!"}],label:"供应商名称",prop:"suppliersName"},{default:a(()=>[t(i,{classType:"tig-form-input",modelValue:o.value.suppliersName,"onUpdate:modelValue":e[1]||(e[1]=l=>o.value.suppliersName=l)},null,8,["modelValue"])]),_:1}),t(n,{label:"供应商备注",prop:"suppliersDesc"},{default:a(()=>[t(i,{classType:"tig-form-input",modelValue:o.value.suppliersDesc,"onUpdate:modelValue":e[2]||(e[2]=l=>o.value.suppliersDesc=l),row:2,type:"textarea"},null,8,["modelValue"])]),_:1}),t(n,{label:"负责人姓名",prop:"contactName"},{default:a(()=>[t(i,{classType:"tig-form-input",modelValue:o.value.contactName,"onUpdate:modelValue":e[3]||(e[3]=l=>o.value.contactName=l)},null,8,["modelValue"])]),_:1}),t(n,{label:"负责人联系方式",prop:"contactPhone"},{default:a(()=>[t(i,{classType:"tig-form-input",modelValue:o.value.contactPhone,"onUpdate:modelValue":e[4]||(e[4]=l=>o.value.contactPhone=l)},null,8,["modelValue"])]),_:1}),t(n,{label:"供应商所在区域",prop:"regions"},{default:a(()=>[t(z(K),{modelValue:o.value.regions,"onUpdate:modelValue":e[5]||(e[5]=l=>o.value.regions=l),style:{width:"100%"}},null,8,["modelValue"])]),_:1}),t(n,{label:"供应商地址",prop:"contactAddress"},{default:a(()=>[t(i,{classType:"tig-form-input",modelValue:o.value.contactAddress,"onUpdate:modelValue":e[6]||(e[6]=l=>o.value.contactAddress=l)},null,8,["modelValue"])]),_:1}),F(t(n,{"wrapper-col":{offset:4,span:16}},{default:a(()=>[t(U,{ref:"submitBtn",class:"form-submit-btn",type:"primary",onClick:V},{default:a(()=>e[9]||(e[9]=[f("提交",-1)])),_:1,__:[9]},512)]),_:1},512),[[E,!r.isDialog]])]),_:1},8,["model"])),t(R,{spinning:m.value,style:{width:"100%","margin-top":"100px"}},null,8,["spinning"])])])])}}});export{re as default};

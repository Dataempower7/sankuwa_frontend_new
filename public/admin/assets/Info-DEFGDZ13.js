import{d as oe,af as Ue,ag as Ne,o as ue,r as b,x as Ae,ah as Pe,K as C,e as I,f as g,g as u,z as a,k as v,l as i,j as f,i as c,L as m,h as d,t as X,F as U,m as q,_ as ne,Q as Be,a as $e,a2 as qe,S as Fe,n as de,q as te}from"./index-BLXOA87U.js";import{F as Re}from"./UploadAvatar.vue_vue_type_style_index_0_scoped_3ec2e0ca_lang-DfcXXcrS.js";import{F as De}from"./FormAddGalleryVideo-Bn23SMZg.js";import{e as Ee,f as he,h as Me,i as ze,j as je}from"./product-CsYu5zzV.js";import{R as Ge}from"./RadioType-IYIy_GoV.js";import{_ as Q}from"./Checkbox.vue_vue_type_script_setup_true_lang-RvWYXlsI.js";import{S as Oe}from"./SelectBrand-SbthwkIY.js";import{_ as He}from"./SelectCategory.vue_vue_type_script_setup_true_lang-CYLUeo0H.js";import"./index-DpgvsnVO.js";import"./SelectTimeInterval.vue_vue_type_style_index_0_scoped_207fe586_lang-BfFy9xcT.js";import{S as Ke}from"./SelectProduct-D-sQ619X.js";import{g as We}from"./article-1xRD0z6w.js";/* empty css                                                                    */import{P as Qe}from"./Pagination-w0YHSLYy.js";import{_ as J}from"./DialogForm.vue_vue_type_script_setup_true_lang-6GHo9HCV.js";/* empty css                                                                              */import{_ as Je}from"./SelectShopProductCategory.vue_vue_type_script_setup_true_lang-DR-Kx43O.js";/* empty css             */import re from"./ProductDesc-D-3cVsmy.js";import{_ as ae}from"./PriceInput.vue_vue_type_script_setup_true_lang-Dp3Vzeak.js";import Xe from"./Attr-BTuVeIsJ.js";import{B as se}from"./BusinessData-C9u0MQN0.js";import{_ as Ye}from"./Editor.vue_vue_type_style_index_0_lang-DAwN4rRQ.js";import"./vuedraggable.umd-OAFqtEpj.js";import"./Image.vue_vue_type_script_setup_true_lang-BK00jvUw.js";import"./format-DdZABYp4.js";import"./BusinessImg-C3Ug8bC9.js";import"./currencyManagement-ZKRxsK3T.js";import"./version-hjn5tnxG.js";/* empty css                                                                  */import"./brand-CrKtj3RC.js";import"./category-C1lvuGmx.js";import"./category-Bd8w-lZR.js";import"./index-B16C4gX_.js";import"./time-DX2Q3n6c.js";import"./SelectSku-DmHOajuh.js";/* empty css                                                                  */import"./shopProductCategory-DXFRoBhC.js";import"./PopSelect.vue_vue_type_style_index_0_scoped_5832cf6b_lang-Bx-dDInM.js";import"./index.esm-BvrkUkzo.js";const Ze={class:"lyecs-article-select-group"},_e={key:2,class:"ml10"},el={key:0,class:"lyecs-article-selected-con"},ll={class:"article-selected-list"},tl={class:"article-selected-list-tr"},al={class:"col col2 article-info"},il={class:"col col3"},dl=["onClick"],rl={key:0,class:"pagination-con"},sl=oe({__name:"SelectArticle",props:Ue({max:{type:Number,default:-1},disabled:{type:Boolean,default:!1},isMultiple:{type:Boolean,default:!0}},{modelValue:{type:Array,default:[]},modelModifiers:{}}),emits:["update:modelValue"],setup(s,{expose:Y}){const z=s,y=Ne(s,"modelValue");ue(async()=>{y.value&&y.value.length>0&&await E(y.value)});const x=b([]),w=b(0),Z=Ae(),F=b(!0),T=Pe({page:1,size:Z.get("pageSize"),sortField:"",sortOrder:"",keyword:""}),j=b(""),E=async k=>{F.value=!0;try{j.value=Array.isArray(k)?k.join(","):"";const p=await We({articleIds:j.value,...T});x.value=p.records,w.value=p.total}catch(p){C.error(p.message)}finally{F.value=!1}},V=k=>{let p=y.value;z.isMultiple==!1&&(p=[]);for(let S in k)p.push(k[S]);y.value=p,E(p)},G=()=>{x.value=[],y.value=[]},L=k=>{let p=x.value[k].articleId;y.value=y.value.filter(S=>S!==p),x.value.splice(k,1)};return Y({modelValue:y,articleList:x}),(k,p)=>{const S=I("el-button"),N=I("el-space");return u(),g("div",Ze,[a(N,null,{default:i(()=>[s.disabled?(u(),f(S,{key:1,disabled:s.max>0&&y.value.length>=s.max||s.disabled,type:"primary"},{default:i(()=>p[3]||(p[3]=[m("选择文章",-1)])),_:1,__:[3]},8,["disabled"])):(u(),f(c(J),{key:0,params:{selectedIds:y.value,isMultiple:z.isMultiple},isDrawer:"",path:"content/article/src/SelectArticle",title:"选择文章",width:"600px",onOkCallback:V},{default:i(()=>[a(S,{disabled:s.max>0&&y.value.length>=s.max,type:"primary"},{default:i(()=>p[2]||(p[2]=[m("选择文章",-1)])),_:1,__:[2]},8,["disabled"])]),_:1},8,["params"])),s.isMultiple&&y.value.length>0?(u(),g("span",_e,[p[4]||(p[4]=m("已选择 ",-1)),d("b",null,X(y.value.length),1),p[5]||(p[5]=m(" 个文章",-1))])):v("",!0),s.isMultiple&&y.value.length>0?(u(),f(S,{key:3,disabled:s.disabled,onClick:G},{default:i(()=>p[6]||(p[6]=[m("清空",-1)])),_:1,__:[6]},8,["disabled"])):v("",!0)]),_:1}),x.value.length>0&&!F.value?(u(),g("div",el,[d("div",ll,[p[7]||(p[7]=d("div",{class:"article-selected-list-tr article-selected-list-th"},[d("div",{class:"col col2"},"文章名称"),d("div",{class:"col col3"},"操作")],-1)),(u(!0),g(U,null,q(x.value,(l,O)=>(u(),g("div",tl,[d("div",al,X(l.articleTitle),1),d("div",il,[d("a",{class:"del-btn",onClick:_=>L(O)},"删除",8,dl)])]))),256))]),w.value>0?(u(),g("div",rl,[a(c(Qe),{page:T.page,"onUpdate:page":p[0]||(p[0]=l=>T.page=l),size:T.size,"onUpdate:size":p[1]||(p[1]=l=>T.size=l),total:w.value,onCallback:E,layout:"slot ,prev, pager, next",background:!1},null,8,["page","size","total"])])):v("",!0)])):v("",!0)])}}}),ol=ne(sl,[["__scopeId","data-v-9ce1b16a"]]),ul="/admin/assets/fixedShippingFee-Czd274cf.png",nl={class:"product-container"},pl={class:"anchor"},ml={class:"tab-row"},vl={id:"part1",class:"form-warp"},fl={key:0,class:"extra mt10"},cl={class:"flex flex-justify-between"},yl={class:"flex flex-justify-between"},gl={key:1,class:"con-btn"},bl={class:"keywords"},xl={id:"part2",class:"form-warp"},Vl={class:"flex"},kl={id:"part3",class:"form-warp"},Il={class:"flex"},Tl={class:"flex flex-justify-between"},wl={key:0,class:"con-btn"},Sl={class:"fixed-shipping-type"},Ll={class:"flex flex-align-center"},Cl={class:"extra",style:{"margin-top":"5px","margin-left":"20px"}},Ul={class:"flex"},Nl={class:"flex flex-justify-between"},Al={key:0,class:"con-btn"},Pl={id:"part4",class:"form-warp"},Bl={class:"relative"},$l={id:"part5",class:"form-warp"},ql=oe({__name:"Info",props:{id:{type:Number,default:0},shopId:{type:Number,default:0},act:{type:String,default:""},examine:{type:Number,default:0},isDialog:Boolean},emits:["submitCallback","update:confirmLoading","close","closeConfirm"],setup(s,{expose:Y,emit:z}){const y=Be(),x=z,w=s,Z=[{title:"基本信息",id:"part1"},{title:"价格及库存",id:"part2"},{title:"物流及配送",id:"part3"},{title:"商品详情",id:"part4"},{title:"高级信息",id:"part5"}],F=b(null),T=b(""),j=o=>{o.preventDefault()},E=o=>{T.value=o},V=b(!0),G=$e().currentRoute.value.query,L=b(w.isDialog?w.act:String(G.act)),k=b(w.isDialog?w.id:Number(G.id)),p=L.value==="add"?"create":L.value==="copy"?"copy":"update",S=qe(),N=b(!1),l=b({snType:1,productType:1,freeShipping:0,shopCategoryId:0,productStatus:1,giveIntegral:-1,rankIntegral:-1,integral:0,isSupportCod:0,productVideoInfo:[],productDescArr:[],productRelated:[],serviceList:[],eCardList:[],productList:[],limitNumber:"",virtualSample:"",paidContent:[],noShipping:0,fixedShippingType:1,attrList:{normal:[],spe:[],extra:[]}});Fe(l.value,o=>{o.productType!=1&&(l.value.noShipping=1)});const O=b([]);ue(async()=>{await h(!1),O.value=[{key:1,title:"普通商品",desc:"物流配送"},{key:3,title:"卡密商品",tips:"可以在菜单中【营销>电子卡券组】创建卡券组，然后在【查看卡列表】添加单个卡密或通过下载【批量导入模板文件】填好卡密后在通过批量导入电子卡券按钮上传该文件批量导入。",desc:"无需物流"},{key:2,title:"虚拟商品",tips:"网盘链接、视频链接，在添加商品添加虚拟商品。用户购买后将在订单详情直接展示。",desc:"无需物流"},{key:4,title:"付费内容",tips:"软件授权、在线课程等。通过简单的操作，即可将这些商品添加到您的商店中，为客户提供更丰富的选择。立即体验，享受便捷的付费内容管理服务。",desc:"无需物流"}],L.value==="detail"||L.value==="copy"||L.value==="again"?await xe():V.value=!1,setTimeout(()=>{x("closeConfirm",!0)},1e4)});const _=b([]),pe=(o,e,r)=>{if(e)r();else{r(new Error("商品名称不能为空"));return}},me=(o,e,r)=>{if(e)r();else{r(new Error("请选择商品图片"));return}},ve=(o,e,r)=>{if(e)r();else{r(new Error("请选择商品类目"));return}},fe=(o,e,r)=>{if(e)r();else{r(new Error("商品售价不能为空"));return}},ce=(o,e,r)=>{if(!e||Number(e)!==0){if(l.value.fixedShippingType==1){if(!e){r(new Error("运费不能为空"));return}if(Number(e)>999999){r(new Error("运费不能超过999999"));return}r();return}r()}else r()},ye=(o,e,r)=>{if(e)r();else{r(new Error("商品库存不能为空"));return}},ge=(o,e,r)=>{if(e)r();else{r(new Error("请选择电子卡券组"));return}},be=(o,e,r)=>{if(e=="<p><br></p>"||e==""){r(new Error("请选择运费模板"));return}else r()},xe=async()=>{try{const o=await Ee("detail",{id:k.value});o.productRelated==null&&(o.productRelated=[]),o.brandId==0&&(o.brandId=""),o.shippingTplId==0&&(o.shippingTplId=""),o.limitNumber===0?(o.limitNumber="",N.value=!1):N.value=!0,l.value.serviceList=l.value.serviceList.map(e=>{var r;return{...e,check:(r=o.productServiceIds)!=null&&r.includes(e.productServiceId)?1:0}}),Object.assign(l.value,o,o)}catch(o){C.error(o.message),x("close")}finally{V.value=!1}},B=b(!1),ee=b(),ie=async()=>{B.value=!0;try{ee.value.loaded=!1,await ee.value.loadCategory()}catch(o){C.error(o.message)}finally{setTimeout(()=>{B.value=!1},200)}},h=async(o=!0)=>{var e;B.value=!0;try{const r=await he({shopId:w.shopId});_.value=r.attrTplList,l.value.serviceList=r.serviceList,l.value.serviceList=(e=r.serviceList)==null?void 0:e.map(R=>{var n;return{...R,check:(n=r.item.productServiceIds)!=null&&n.includes(R.productServiceId)?1:0}}),l.value.suppliersList=r.suppliersList,l.value.shippingTplList=r.shippingTplList,l.value.eCardList=r.eCardList}catch(r){C.error(r.message),x("close")}finally{V.value=!1,setTimeout(()=>{B.value=!1},200)}};function Ve(o){for(let e=0;e<o.length;e++){const r=o[e];if(!r.attrValues||r.attrValues.length===0||r.attrValues.some(R=>R==="")||r.skuStock===null||r.skuStock===void 0)return console.error("请填写完整的规格信息"),!1}return!0}const H=b(),ke=async()=>{try{if(await S.value.validate(),l.value.productType==4&&l.value.paidContent.length==0){C.error("付费内容信息不能为空!"),await te(),le(".goods-info-edit-row");return}Ve(l.value.productList)?H.value.skuErrorText="":(C.error("请将商品规格的信息填写完整!"),H.value.skuErrorText="请将商品规格的信息填写完整",await te(),le(".sku-error")),await H.value.validateProductSku(),l.value.attrList.spe.length>0&&(l.value.productStock=0);try{x("update:confirmLoading",!0),l.value.productServiceIds=l.value.serviceList.filter(e=>e.check===1).map(e=>e.productServiceId),l.value.limitNumber=N.value?l.value.limitNumber:0;const o=await ze(p,{...l.value});w.act==="again"&&await je({id:k.value}),x("submitCallback",o),C.success(o)}catch(o){C.error(o.message)}finally{console.log("提交完成"),x("update:confirmLoading",!1)}}catch(o){await te(),le(),console.error("表单验证失败:",o)}},le=(o=".el-form-item.is-error")=>{const e=document.querySelector(o);if(e){e.scrollIntoView({behavior:"instant",block:"center"});const r=e.querySelector("input, textarea, select");r&&(r==null||r.focus())}},Ie=()=>{ke()},Te=async()=>{try{const o=await Me({productName:l.value.productName});l.value.keywords=o}catch(o){C.error(o.message)}finally{V.value=!1}},we=o=>{o?l.value.limitNumber=l.value.limitNumber?l.value.limitNumber:1:l.value.limitNumber=""};return Y({onFormSubmit:Ie}),(o,e)=>{const r=I("el-anchor-link"),R=I("el-anchor"),n=I("el-form-item"),M=I("el-option"),K=I("el-select"),$=I("el-button"),A=I("TigInput"),P=I("el-radio"),D=I("el-radio-group"),Se=I("el-popover"),Le=I("el-form");return u(),g("div",nl,[d("div",pl,[a(R,{container:F.value,offset:10,direction:"horizontal",onChange:E,onClick:j},{default:i(()=>[d("div",ml,[(u(),g(U,null,q(Z,(t,W)=>a(r,{key:t.id,class:de({active:T.value===""&&W===0?!0:T.value==="#"+t.id}),href:"#"+t.id},{default:i(()=>[d("div",{class:de([{active:T.value===""&&W===0?!0:T.value==="#"+t.id},"item"])},X(t.title),3)]),_:2},1032,["class","href"])),64))])]),_:1},8,["container"])]),d("div",{ref_key:"containerRef",ref:F,class:"form-container"},[V.value?v("",!0):(u(),f(Le,{key:0,ref_key:"formRef",ref:S,model:l.value,"label-width":"110px",name:"form_in_modal"},{default:i(()=>[d("div",vl,[e[55]||(e[55]=d("div",{class:"title"},[d("p",{class:"xian"}),m(" 基本信息 ")],-1)),a(n,{rules:[{required:!0}],label:"商品类型",prop:"productType"},{default:i(()=>[d("div",null,[e[40]||(e[40]=d("div",{class:"extra mb10",style:{"margin-top":"3px"}},"不同商品类型可编辑的字段内容不同，商品类型一旦发布后将不可更改",-1)),a(c(Ge),{modelValue:l.value.productType,"onUpdate:modelValue":e[0]||(e[0]=t=>l.value.productType=t),disabled:L.value=="detail",radioList:O.value},null,8,["modelValue","disabled","radioList"]),l.value.productType!=1?(u(),g("div",fl,"该类型商品同样需要客户填写收货地址")):v("",!0)])]),_:1}),a(n,{rules:[{required:!0,validator:me}],label:"商品图片",prop:"imgList"},{default:i(()=>[V.value?v("",!0):(u(),f(c(Re),{key:0,photos:l.value.imgList,"onUpdate:photos":e[1]||(e[1]=t=>l.value.imgList=t),disabled:s.examine==1,isMultiple:!0,pageType:"product"},null,8,["photos","disabled"])),e[41]||(e[41]=d("div",{class:"extra"},"您可以通过拖拽来调整相册图片顺序，第一张图将作为商品主图展示",-1))]),_:1,__:[41]},8,["rules"]),a(n,{label:"商品视频",prop:"productVideoInfo"},{default:i(()=>[V.value?v("",!0):(u(),f(c(De),{key:0,video:l.value.productVideoInfo,"onUpdate:video":e[2]||(e[2]=t=>l.value.productVideoInfo=t),disabled:s.examine==1},null,8,["video","disabled"])),e[42]||(e[42]=d("div",{class:"extra"},"如有商品视频则商品视频作为商品主图展示",-1))]),_:1,__:[42]}),l.value.productType==3?(u(),f(n,{key:0,rules:[{required:!0,validator:ge}],class:"inner-item",label:"电子卡券分组",prop:"cardGroupId"},{default:i(()=>[d("div",cl,[a(K,{modelValue:l.value.cardGroupId,"onUpdate:modelValue":e[3]||(e[3]=t=>l.value.cardGroupId=t),disabled:s.examine==1,placeholder:"请选择",style:{width:"200px"}},{default:i(()=>[(u(!0),g(U,null,q(l.value.eCardList,t=>(u(),f(M,{key:t.groupId,label:t.groupName,value:t.groupId},null,8,["label","value"]))),128))]),_:1},8,["modelValue","disabled"])])]),_:1},8,["rules"])):v("",!0),a(n,{rules:[{required:!0,validator:pe}],class:"inner-item",label:"商品名称",prop:"productName"},{default:i(()=>[a(se,{width:"300px",modelValue:l.value.productName,"onUpdate:modelValue":e[4]||(e[4]=t=>l.value.productName=t),dataId:k.value,dataType:2,disabled:s.examine==1,maxlength:100,placeholder:"请输入商品名称"},null,8,["modelValue","dataId","disabled"])]),_:1},8,["rules"]),a(n,{class:"inner-item",label:"商品品牌",prop:"brandId"},{default:i(()=>[V.value?v("",!0):(u(),f(c(Oe),{key:0,brandId:l.value.brandId,"onUpdate:brandId":e[5]||(e[5]=t=>l.value.brandId=t),disabled:s.examine==1,style:{width:"200px"}},null,8,["brandId","disabled"]))]),_:1}),a(n,{rules:[{required:!0,message:"请选择商品类目!",validator:ve}],class:"inner-item",label:"商品类目",prop:"categoryId"},{default:i(()=>[d("div",yl,[V.value?v("",!0):(u(),f(c(He),{key:0,ref_key:"selectCategory",ref:ee,categoryId:l.value.categoryId,"onUpdate:categoryId":e[6]||(e[6]=t=>l.value.categoryId=t),disabled:s.examine==1,multiple:!1,style:{width:"200px"}},null,8,["categoryId","disabled"])),s.examine!=1?(u(),g("div",gl,[c(y)==="admin"?(u(),g(U,{key:0},[a(c(J),{params:{act:"add",parentId:0},isDrawer:"",path:"product/category/Info",title:"添加分类",width:"600px",onOkCallback:ie},{default:i(()=>[a($,{link:"",type:"primary"},{default:i(()=>e[43]||(e[43]=[m("新建",-1)])),_:1,__:[43]})]),_:1}),e[44]||(e[44]=d("p",{class:"ml10 mr10",style:{"margin-bottom":"3px"}},"|",-1))],64)):v("",!0),a($,{loading:B.value,link:"",type:"primary",onClick:ie},{default:i(()=>e[45]||(e[45]=[m("刷新 ",-1)])),_:1,__:[45]},8,["loading"])])):v("",!0)])]),_:1},8,["rules"]),c(y)=="shop"?(u(),f(n,{key:1,class:"inner-item",label:"店铺商品分类",prop:"shopCategoryId"},{default:i(()=>[a(c(Je),{categoryId:l.value.shopCategoryId,"onUpdate:categoryId":e[7]||(e[7]=t=>l.value.shopCategoryId=t),disabled:s.examine==1},null,8,["categoryId","disabled"])]),_:1})):v("",!0),a(n,{class:"inner-item",label:"商品重量",prop:"decimal"},{default:i(()=>[a(A,{modelValue:l.value.productWeight,"onUpdate:modelValue":e[8]||(e[8]=t=>l.value.productWeight=t),decimalPlaces:3,disabled:s.examine==1,class:"InputBox",placeholder:"请输入",type:"decimal",width:"200px"},{append:i(()=>e[46]||(e[46]=[m("Kg",-1)])),_:1},8,["modelValue","disabled"])]),_:1}),a(n,{class:"inner-item",label:"商品条码",prop:"productTsn"},{default:i(()=>[d("div",null,[a(A,{modelValue:l.value.productTsn,"onUpdate:modelValue":e[9]||(e[9]=t=>l.value.productTsn=t),disabled:s.examine==1,classType:"tig-form-input"},null,8,["modelValue","disabled"]),e[47]||(e[47]=d("div",{class:"extra"},"用于快速识商品所标记的编码，比如：69开头的13位标准码",-1))])]),_:1}),a(n,{class:"inner-item",label:"商品编码",prop:"productSn"},{default:i(()=>[d("div",null,[a(A,{modelValue:l.value.productSn,"onUpdate:modelValue":e[10]||(e[10]=t=>l.value.productSn=t),disabled:s.examine==1,classType:"tig-form-input"},null,8,["modelValue","disabled"]),e[48]||(e[48]=d("div",{class:"extra"},"如果您不输入商品编码，系统将自动生成一个唯一的编码",-1))])]),_:1}),a(n,{class:"inner-item",label:"搜索关键词",prop:"keywords"},{default:i(()=>[d("div",bl,[a(A,{modelValue:l.value.keywords,"onUpdate:modelValue":e[11]||(e[11]=t=>l.value.keywords=t),disabled:s.examine==1,class:"InputBox",classType:"tig-form-input",placeholder:"例如：牙刷 自动 清洁"},null,8,["modelValue","disabled"]),a($,{disabled:s.examine==1,onClick:Te,style:{"margin-top":"2px"}},{default:i(()=>e[49]||(e[49]=[m("更新关键词",-1)])),_:1,__:[49]},8,["disabled"])]),e[50]||(e[50]=d("div",{class:"extra"},"用空格分隔，为空时会自动根据商品名称分词",-1))]),_:1,__:[50]}),a(n,{class:"inner-item",extra:"",label:"商品描述",prop:"productBrief"},{default:i(()=>[d("div",null,[a(A,{modelValue:l.value.productBrief,"onUpdate:modelValue":e[12]||(e[12]=t=>l.value.productBrief=t),disabled:s.examine==1,rows:2,classType:"tig-form-input",placeholder:"例如：顺丰快递 又快又好",type:"textarea"},null,8,["modelValue","disabled"]),e[51]||(e[51]=d("div",{class:"extra"},"该描述一般会高亮出现在商品名称后面",-1))])]),_:1}),a(n,{class:"inner-item",label:"是否上架",prop:"productStatus"},{default:i(()=>[a(D,{modelValue:l.value.productStatus,"onUpdate:modelValue":e[13]||(e[13]=t=>l.value.productStatus=t),disabled:s.examine==1,style:{width:"100%"}},{default:i(()=>[a(P,{value:1},{default:i(()=>e[52]||(e[52]=[m("上架",-1)])),_:1,__:[52]}),a(P,{value:0},{default:i(()=>e[53]||(e[53]=[m("下架",-1)])),_:1,__:[53]})]),_:1},8,["modelValue","disabled"]),e[54]||(e[54]=d("div",{class:"extra"},"上架则允许销售（未审核的商品无法手动上架）",-1))]),_:1,__:[54]})]),d("div",xl,[e[60]||(e[60]=d("div",{class:"title"},[d("p",{class:"xian"}),m(" 价格及库存 ")],-1)),d("div",null,[a(n,{rules:[{required:!0,message:"商品售价不能为空",validator:fe}],class:"inner-item",label:"商品售价",prop:"productPrice"},{default:i(()=>[a(ae,{modelValue:l.value.productPrice,"onUpdate:modelValue":e[14]||(e[14]=t=>l.value.productPrice=t),disabled:s.examine==1,placeholder:"请输入商品售价",width:"200px"},null,8,["modelValue","disabled"])]),_:1},8,["rules"]),a(n,{class:"inner-item",extra:"不填则根据设置的比例自动计算",label:"市场价",prop:"marketPrice"},{default:i(()=>[d("div",null,[a(ae,{modelValue:l.value.marketPrice,"onUpdate:modelValue":e[15]||(e[15]=t=>l.value.marketPrice=t),disabled:s.examine==1,placeholder:"请输入商品市场价",width:"200px"},null,8,["modelValue","disabled"]),e[56]||(e[56]=d("div",{class:"extra"},"划线价格，不填则不显示",-1))])]),_:1})]),V.value?v("",!0):(u(),f(Xe,{key:0,ref_key:"attrForm",ref:H,attrChanged:l.value.attrChanged,"onUpdate:attrChanged":e[16]||(e[16]=t=>l.value.attrChanged=t),attrList:l.value.attrList,"onUpdate:attrList":e[17]||(e[17]=t=>l.value.attrList=t),productList:l.value.productList,"onUpdate:productList":e[18]||(e[18]=t=>l.value.productList=t),action:L.value,attrTplList:_.value,disabled:s.examine==1},null,8,["attrChanged","attrList","productList","action","attrTplList","disabled"])),!l.value.productList||l.value.productList.length==0&&l.value.productType!==3?(u(),f(n,{key:1,rules:[{required:!0,message:"商品库存不能为空",validator:ye}],class:"inner-item",label:"库存",prop:"productStock"},{default:i(()=>[a(A,{modelValue:l.value.productStock,"onUpdate:modelValue":e[19]||(e[19]=t=>l.value.productStock=t),disabled:s.examine==1,placeholder:"请输入商品库存",type:"integer",width:"200px"},null,8,["modelValue","disabled"])]),_:1},8,["rules"])):v("",!0),a(n,{class:"inner-item",label:"商品限购",prop:"limitNumber"},{default:i(()=>[a(D,{modelValue:N.value,"onUpdate:modelValue":e[21]||(e[21]=t=>N.value=t),style:{width:"100%","margin-bottom":"10px","flex-direction":"column","align-items":"flex-start"},onChange:we},{default:i(()=>[a(P,{value:!1},{default:i(()=>e[57]||(e[57]=[m("不限购",-1)])),_:1,__:[57]}),a(P,{value:!0},{default:i(()=>[d("div",Vl,[e[58]||(e[58]=d("div",{class:"mr10"},"限购",-1)),a(A,{modelValue:l.value.limitNumber,"onUpdate:modelValue":e[20]||(e[20]=t=>l.value.limitNumber=t),disabled:!N.value,placeholder:"请输入限购数量",type:"integer",width:"200px"},null,8,["modelValue","disabled"]),e[59]||(e[59]=d("div",{class:"ml10"},"件",-1))])]),_:1})]),_:1},8,["modelValue"])]),_:1})]),d("div",kl,[e[74]||(e[74]=d("div",{class:"title"},[d("p",{class:"xian"}),m(" 物流及配送 ")],-1)),l.value.productType!=1?(u(),f(n,{key:0,rules:[{required:!0,message:"请选择配送方式!"}],label:"配送方式",prop:"noShipping"},{default:i(()=>[a(D,{modelValue:l.value.noShipping,"onUpdate:modelValue":e[22]||(e[22]=t=>l.value.noShipping=t),disabled:s.examine==1,style:{width:"100%","margin-bottom":"10px"}},{default:i(()=>[a(P,{value:1},{default:i(()=>e[61]||(e[61]=[m("无需配送",-1)])),_:1,__:[61]})]),_:1},8,["modelValue","disabled"]),a(D,{modelValue:l.value.noShipping,"onUpdate:modelValue":e[24]||(e[24]=t=>l.value.noShipping=t),disabled:s.examine==1||l.value.productType!=1,style:{width:"100%"}},{default:i(()=>[a(P,{value:0},{default:i(()=>[d("div",Il,[e[65]||(e[65]=d("div",{class:"mr10"},"运费模板",-1)),a(n,{label:"",prop:"shippingTplId"},{default:i(()=>[d("div",Tl,[a(K,{modelValue:l.value.shippingTplId,"onUpdate:modelValue":e[23]||(e[23]=t=>l.value.shippingTplId=t),disabled:s.examine==1||l.value.productType!=1||l.value.noShipping==1,placeholder:"请选择",style:{width:"100%"}},{default:i(()=>[(u(!0),g(U,null,q(l.value.shippingTplList,t=>(u(),f(M,{key:t.shippingTplId,label:t.shippingTplName,value:t.shippingTplId},null,8,["label","value"]))),128))]),_:1},8,["modelValue","disabled"]),s.examine!=1?(u(),g("div",wl,[a(c(J),{params:{act:"add"},isDrawer:"",path:"setting/shippingTpl/Info",title:"添加运费模板",width:"900px",onOkCallback:h},{default:i(()=>[a($,{link:"",type:"primary"},{default:i(()=>e[62]||(e[62]=[m("新建",-1)])),_:1,__:[62]})]),_:1}),e[64]||(e[64]=d("p",{class:"ml10 mr10",style:{"margin-bottom":"3px"}},"|",-1)),a($,{loading:B.value,link:"",type:"primary",onClick:h},{default:i(()=>e[63]||(e[63]=[m("刷新 ",-1)])),_:1,__:[63]},8,["loading"])])):v("",!0)])]),_:1})])]),_:1})]),_:1},8,["modelValue","disabled"])]),_:1})):v("",!0),l.value.productType==1?(u(),f(n,{key:1,rules:[{required:!0}],label:"快递运费",prop:"fixedShippingType"},{default:i(()=>[a(D,{modelValue:l.value.fixedShippingType,"onUpdate:modelValue":e[26]||(e[26]=t=>l.value.fixedShippingType=t),disabled:s.examine==1,style:{width:"100%","margin-bottom":"25px"}},{default:i(()=>[d("div",null,[a(P,{value:1},{default:i(()=>[d("div",Sl,[d("div",Ll,[e[66]||(e[66]=d("div",{class:"mr10"},"固定运费",-1)),a(n,{rules:[{required:!0,validator:ce}],class:"inner-item",label:"",prop:"fixedShippingFee"},{default:i(()=>[a(ae,{modelValue:l.value.fixedShippingFee,"onUpdate:modelValue":e[25]||(e[25]=t=>l.value.fixedShippingFee=t),disabled:s.examine==1||l.value.fixedShippingType==2,placeholder:"请输入运费",width:"200px"},null,8,["modelValue","disabled"])]),_:1},8,["rules"])])])]),_:1}),d("div",Cl,[e[69]||(e[69]=m(" 设置固定运费为0时，前台展示为包邮。 ",-1)),a(Se,{width:400,placement:"right-end",trigger:"click"},{reference:i(()=>e[67]||(e[67]=[d("a",null,"查看示例",-1)])),default:i(()=>e[68]||(e[68]=[d("img",{src:ul,style:{width:"380px"}},null,-1)])),_:1})])])]),_:1},8,["modelValue","disabled"]),a(D,{modelValue:l.value.fixedShippingType,"onUpdate:modelValue":e[28]||(e[28]=t=>l.value.fixedShippingType=t),disabled:s.examine==1||l.value.productType!=1,style:{width:"100%"}},{default:i(()=>[a(P,{value:2},{default:i(()=>[d("div",Ul,[e[73]||(e[73]=d("div",{class:"mr10"},"运费模板",-1)),a(n,{label:"",prop:"shippingTplId"},{default:i(()=>[d("div",Nl,[a(K,{modelValue:l.value.shippingTplId,"onUpdate:modelValue":e[27]||(e[27]=t=>l.value.shippingTplId=t),disabled:s.examine==1||l.value.productType!=1||l.value.fixedShippingType==1,placeholder:"请选择",style:{width:"100%"}},{default:i(()=>[(u(!0),g(U,null,q(l.value.shippingTplList,t=>(u(),f(M,{key:t.shippingTplId,label:t.shippingTplName,value:t.shippingTplId},null,8,["label","value"]))),128))]),_:1},8,["modelValue","disabled"]),s.examine!=1?(u(),g("div",Al,[a(c(J),{params:{act:"add"},isDrawer:"",path:"setting/shippingTpl/Info",title:"添加运费模板",width:"900px",onOkCallback:h},{default:i(()=>[a($,{link:"",type:"primary"},{default:i(()=>e[70]||(e[70]=[m("新建",-1)])),_:1,__:[70]})]),_:1}),e[72]||(e[72]=d("p",{class:"ml10 mr10",style:{"margin-bottom":"3px"}},"|",-1)),a($,{loading:B.value,link:"",type:"primary",onClick:h},{default:i(()=>e[71]||(e[71]=[m("刷新 ",-1)])),_:1,__:[71]},8,["loading"])])):v("",!0)])]),_:1})])]),_:1})]),_:1},8,["modelValue","disabled"])]),_:1})):v("",!0)]),d("div",Pl,[e[76]||(e[76]=d("div",{class:"title"},[d("p",{class:"xian"}),m(" 商品详情 ")],-1)),l.value.productType==4?(u(),f(re,{key:0,descArr:l.value.paidContent,"onUpdate:descArr":e[29]||(e[29]=t=>l.value.paidContent=t),disabled:s.examine==1,productType:l.value.productType,label:"付费内容详情"},null,8,["descArr","disabled","productType"])):v("",!0),a(re,{descArr:l.value.productDescArr,"onUpdate:descArr":e[30]||(e[30]=t=>l.value.productDescArr=t),disabled:s.examine==1,label:l.value.productType==4?"普通商品详情":"商品详情"},null,8,["descArr","disabled","label"]),l.value.productType==2?(u(),f(n,{key:1,rules:[{required:!0,message:"虚拟商品信息不能为空!",validator:be}],label:"虚拟商品信息",prop:"virtualSample"},{default:i(()=>[d("div",Bl,[a(c(Ye),{html:l.value.virtualSample,"onUpdate:html":e[31]||(e[31]=t=>l.value.virtualSample=t),height:"350px"},null,8,["html"]),a(se,{modelValue:l.value.virtualSample,"onUpdate:modelValue":e[32]||(e[32]=t=>l.value.virtualSample=t),dataType:9,type:"editor"},null,8,["modelValue"])]),e[75]||(e[75]=d("div",{class:"extra"},"此处填写内容，将在订单详情中展示",-1))]),_:1,__:[75]},8,["rules"])):v("",!0)]),d("div",$l,[e[83]||(e[83]=d("div",{class:"title"},[d("p",{class:"xian"}),m(" 高级信息 ")],-1)),c(y)==="admin"?(u(),g(U,{key:0},[a(n,{label:"加入推荐"},{default:i(()=>[a(c(Q),{modelValue:l.value.isBest,"onUpdate:modelValue":e[33]||(e[33]=t=>l.value.isBest=t),disabled:s.examine==1},{default:i(()=>e[77]||(e[77]=[m(" 精品",-1)])),_:1},8,["modelValue","disabled"]),a(c(Q),{modelValue:l.value.isNew,"onUpdate:modelValue":e[34]||(e[34]=t=>l.value.isNew=t),disabled:s.examine==1},{default:i(()=>e[78]||(e[78]=[m(" 新品",-1)])),_:1},8,["modelValue","disabled"]),a(c(Q),{modelValue:l.value.isHot,"onUpdate:modelValue":e[35]||(e[35]=t=>l.value.isHot=t),disabled:s.examine==1},{default:i(()=>e[79]||(e[79]=[m(" 热销",-1)])),_:1},8,["modelValue","disabled"])]),_:1}),a(n,{class:"inner-item",label:"供应商",prop:"suppliersId"},{default:i(()=>[a(K,{modelValue:l.value.suppliersId,"onUpdate:modelValue":e[36]||(e[36]=t=>l.value.suppliersId=t),disabled:s.examine==1,placeholder:"请选择"},{default:i(()=>[a(M,{value:0,label:"请选择"}),(u(!0),g(U,null,q(l.value.suppliersList,t=>(u(),f(M,{key:t.suppliersId,label:t.suppliersName,value:t.suppliersId},null,8,["label","value"]))),128))]),_:1},8,["modelValue","disabled"])]),_:1})],64)):v("",!0),a(n,{label:"服务说明",prop:"productServiceIds"},{default:i(()=>[(u(!0),g(U,null,q(l.value.serviceList,(t,W)=>(u(),f(c(Q),{key:W,modelValue:t.check,"onUpdate:modelValue":Ce=>t.check=Ce,disabled:s.examine==1},{default:i(()=>[m(X(t.productServiceName),1)]),_:2},1032,["modelValue","onUpdate:modelValue","disabled"]))),128))]),_:1}),a(n,{class:"inner-item",label:"显示销量",prop:"virtualSales"},{default:i(()=>[d("div",null,[a(A,{modelValue:l.value.virtualSales,"onUpdate:modelValue":e[37]||(e[37]=t=>l.value.virtualSales=t),disabled:s.examine==1,class:"InputBox",type:"integer",width:"190px"},null,8,["modelValue","disabled"]),e[80]||(e[80]=d("div",{class:"extra"},"显示销量会随下单而增加，但不是真实销售数据",-1))])]),_:1}),a(n,{label:"相关商品",prop:"productRelated"},{default:i(()=>[V.value?v("",!0):(u(),f(c(Ke),{key:0,ids:l.value.productRelated,"onUpdate:ids":e[38]||(e[38]=t=>l.value.productRelated=t),disabled:s.examine==1,max:10},null,8,["ids","disabled"])),e[81]||(e[81]=d("div",{class:"extra"},"最多添加10个商品，仅用于在商品详情页展示",-1))]),_:1,__:[81]}),c(y)==="admin"?(u(),f(n,{key:1,label:"关联文章",prop:"productArticleList"},{default:i(()=>[V.value?v("",!0):(u(),f(c(ol),{key:0,modelValue:l.value.productArticleList,"onUpdate:modelValue":e[39]||(e[39]=t=>l.value.productArticleList=t),disabled:s.examine==1,max:10},null,8,["modelValue","disabled"])),e[82]||(e[82]=d("div",{class:"extra"},"最多添加10篇文章",-1))]),_:1,__:[82]})):v("",!0)])]),_:1},8,["model"]))],512)])}}}),kt=ne(ql,[["__scopeId","data-v-29e60902"]]);export{kt as default};

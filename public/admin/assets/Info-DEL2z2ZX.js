import{d as w,as as h,v as x,b as k,r as u,ab as V,f as p,k as C,h as D,m as l,L as F,z as t,j as R,O as T,i as v,t as B,fI as U,P as g}from"./index-B52YIGC0.js";import{F as q}from"./UploadAvatar.vue_vue_type_style_index_0_scoped_3ec2e0ca_lang-BGZZHoO-.js";import"./index-KjhYqCTY.js";import"./vuedraggable.umd-BauR0rTv.js";import"./Image.vue_vue_type_script_setup_true_lang-B8qXJKJq.js";import"./format-BxqOrW-w.js";import"./BusinessImg-B_fZOjqm.js";import"./currencyManagement-DNysi_dA.js";import"./DialogForm.vue_vue_type_script_setup_true_lang-CT6mpwCc.js";import"./index-C9ZdVeVx.js";/* empty css                                                                    */const W=w({__name:"Info",props:{act:{type:String,default:""},id:{type:Number,default:0},type:{type:Number,default:1},page:{type:Number,default:1},isDialog:Boolean},emits:["submitCallback","update:confirmLoading","close"],setup(f,{expose:b,emit:y}){const s=y,a=f,N=localStorage.getItem("vendorId")||"",n=h(JSON.parse(JSON.stringify(x().vendorInfo))),c=k().currentRoute.value.query,S=u(a.isDialog?a.act:String(c.act));u(a.isDialog?a.id:Number(c.id)),S.value;const i=V(),e=u({vendorId:N,vendorName:n.vendorName,vendorLogo:n.vendorLogo}),_=async()=>{await i.value.validate();try{s("update:confirmLoading",!0);const r=await U({...e.value});await i.value.resetFields(),g.success("操作成功"),s("submitCallback",r)}catch(r){g.error(r.message)}finally{s("update:confirmLoading",!1)}};return b({onFormSubmit:()=>{_()}}),(r,o)=>{const m=p("el-form-item"),I=p("TigInput"),L=p("el-form");return D(),C(L,{ref_key:"formRef",ref:i,model:e.value,class:"form-body","label-suffix":"：","label-width":"auto"},{default:l(()=>[F(t(m,{label:"供应商管理Logo"},{default:l(()=>[t(R(q),{photo:e.value.vendorLogo,"onUpdate:photo":o[0]||(o[0]=d=>e.value.vendorLogo=d),isMultiple:!1},null,8,["photo"])]),_:1},512),[[T,f.page]]),t(m,{rules:[{required:!0,message:"请输入供应商管理名称!"}],label:"供应商管理名称",prop:"vendorName"},{default:l(()=>[t(I,{classType:"tig-form-input",modelValue:e.value.vendorName,"onUpdate:modelValue":o[1]||(o[1]=d=>e.value.vendorName=d),maxlength:15,placeholder:"请输入供应商管理名称"},null,8,["modelValue"]),o[2]||(o[2]=v("div",{class:"extra"},"供应商管理名称应尽量简洁易记, 建议15字以内",-1))]),_:1}),t(m,{label:"创建时间",prop:"addTime"},{default:l(()=>[v("p",null,B(n.addTime),1)]),_:1})]),_:1},8,["model"])}}});export{W as default};

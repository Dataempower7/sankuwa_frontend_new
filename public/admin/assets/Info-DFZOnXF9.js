import{d as w,as as x,v as L,b as I,r as m,ab as N,f as d,k as V,h as k,m as s,L as C,z as t,j as D,O as F,i as b,t as R,P as h}from"./index-B52YIGC0.js";import{F as B}from"./UploadAvatar.vue_vue_type_style_index_0_scoped_3ec2e0ca_lang-BGZZHoO-.js";import"./index-KjhYqCTY.js";import"./vuedraggable.umd-BauR0rTv.js";import{u as U}from"./team-Dn9wJjqq.js";import"./Image.vue_vue_type_script_setup_true_lang-B8qXJKJq.js";import"./format-BxqOrW-w.js";import"./BusinessImg-B_fZOjqm.js";import"./currencyManagement-DNysi_dA.js";import"./DialogForm.vue_vue_type_script_setup_true_lang-CT6mpwCc.js";import"./index-C9ZdVeVx.js";/* empty css                                                                    */const W=w({__name:"Info",props:{act:{type:String,default:""},id:{type:Number,default:0},type:{type:Number,default:1},page:{type:Number,default:1},isDialog:Boolean},emits:["submitCallback","update:confirmLoading","close"],setup(f,{expose:v,emit:y}){const n=y,r=f,a=x(JSON.parse(JSON.stringify(L().shopInfo))),c=I().currentRoute.value.query,S=m(r.isDialog?r.act:String(c.act));m(r.isDialog?r.id:Number(c.id)),S.value;const u=N(),e=m({shopId:a.shopId,shopTitle:a.shopTitle,shopLogo:a.shopLogo,description:a.description}),T=async()=>{await u.value.validate();try{n("update:confirmLoading",!0);const i=await U({...e.value});await u.value.resetFields(),h.success("操作成功"),n("submitCallback",i)}catch(i){h.error(i.message)}finally{n("update:confirmLoading",!1)}};return v({onFormSubmit:()=>{T()}}),(i,o)=>{const p=d("el-form-item"),g=d("TigInput"),_=d("el-form");return k(),V(_,{ref_key:"formRef",ref:u,model:e.value,class:"form-body","label-suffix":"：","label-width":"auto"},{default:s(()=>[C(t(p,{label:"店铺Logo"},{default:s(()=>[t(D(B),{photo:e.value.shopLogo,"onUpdate:photo":o[0]||(o[0]=l=>e.value.shopLogo=l),isMultiple:!1},null,8,["photo"])]),_:1},512),[[F,f.page]]),t(p,{rules:[{required:!0,message:"请输入店铺名称!"}],label:"店铺名称",prop:"shopTitle"},{default:s(()=>[t(g,{classType:"tig-form-input",modelValue:e.value.shopTitle,"onUpdate:modelValue":o[1]||(o[1]=l=>e.value.shopTitle=l),maxlength:15,placeholder:"请输入店铺名称"},null,8,["modelValue"]),o[3]||(o[3]=b("div",{class:"extra"},"店铺名称应尽量简洁易记, 建议15字以内",-1))]),_:1}),t(p,{label:"创建时间",prop:"addTime"},{default:s(()=>[b("p",null,R(a.addTime),1)]),_:1}),t(p,{label:"店铺简介",prop:"description"},{default:s(()=>[t(g,{classType:"tig-form-input",modelValue:e.value.description,"onUpdate:modelValue":o[2]||(o[2]=l=>e.value.description=l),rows:4,type:"textarea",maxlength:200},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])}}});export{W as default};

import{d as L,r as m,a as T,a2 as h,o as j,e as r,f as q,g as V,h as _,j as F,k as P,z as e,l as a,G as z,L as l,t as u,J as E,K as v}from"./index-BLXOA87U.js";import{a as G,u as J}from"./userInvoice-DtXgZrQE.js";const K={class:"container"},M={class:"content_wrapper"},O={class:"lyecs-form-table"},X=L({__name:"Info",props:{id:{type:Number,default:0},act:{type:String,default:""},isDialog:Boolean},emits:["submitCallback","update:confirmLoading","close"],setup(C,{expose:x,emit:B}){const i=B,p=C,d=m(!0),y=T().currentRoute.value.query,b=m(p.isDialog?p.act:String(y.act)),g=m(p.isDialog?p.id:Number(y.id)),N=b.value==="add"?"create":"update",w=h(),o=m({}),R=async()=>{try{const s=await G(b.value,{id:g.value});Object.assign(o.value,s)}catch(s){v.error(s.message),i("close")}finally{d.value=!1}};j(()=>{R()});const k=async()=>{await w.value.validate();try{i("update:confirmLoading",!0);const s=await J(N,{id:g.value,...o.value});i("submitCallback",s),v.success("操作成功")}catch(s){v.error(s.message)}finally{i("update:confirmLoading",!1)}};return x({onFormSubmit:()=>{k()}}),(s,t)=>{const n=r("el-form-item"),c=r("el-radio"),S=r("el-radio-group"),D=r("TigInput"),I=r("el-button"),U=r("el-form"),A=r("a-spin");return V(),q("div",K,[_("div",M,[_("div",O,[d.value?P("",!0):(V(),F(U,{key:0,ref_key:"formRef",ref:w,model:o.value,"label-width":"auto"},{default:a(()=>[e(n,{label:"申请会员",prop:"username"},{default:a(()=>[l(u(o.value.username),1)]),_:1}),e(n,{label:"公司名称",prop:"companyName"},{default:a(()=>[l(u(o.value.companyName),1)]),_:1}),e(n,{label:"纳税人识别码",prop:"companyCode"},{default:a(()=>[l(u(o.value.companyCode),1)]),_:1}),e(n,{label:"注册地址",prop:"companyAddress"},{default:a(()=>[l(u(o.value.companyAddress),1)]),_:1}),e(n,{label:"注册电话",prop:"companyPhone"},{default:a(()=>[l(u(o.value.companyPhone),1)]),_:1}),e(n,{label:"开户银行",prop:"companyBank"},{default:a(()=>[l(u(o.value.companyBank),1)]),_:1}),e(n,{label:"银行账户",prop:"companyAccount"},{default:a(()=>[l(u(o.value.companyAccount),1)]),_:1}),e(n,{label:"申请状态",prop:"status"},{default:a(()=>[e(S,{modelValue:o.value.status,"onUpdate:modelValue":t[0]||(t[0]=f=>o.value.status=f)},{default:a(()=>[e(c,{value:1},{default:a(()=>t[2]||(t[2]=[l("审核通过",-1)])),_:1,__:[2]}),e(c,{value:2},{default:a(()=>t[3]||(t[3]=[l("待审核",-1)])),_:1,__:[3]}),e(c,{value:3},{default:a(()=>t[4]||(t[4]=[l("审核未通过",-1)])),_:1,__:[4]})]),_:1},8,["modelValue"])]),_:1}),e(n,{label:"申请未通过原因",prop:"applyReply"},{default:a(()=>[e(D,{classType:"tig-form-input",modelValue:o.value.applyReply,"onUpdate:modelValue":t[1]||(t[1]=f=>o.value.applyReply=f),row:2,type:"textarea"},null,8,["modelValue"]),t[5]||(t[5]=_("div",{class:"extra"},"若通过可不写",-1))]),_:1,__:[5]}),z(e(n,{"wrapper-col":{offset:4,span:16}},{default:a(()=>[e(I,{ref:"submitBtn",class:"form-submit-btn",type:"primary",onClick:k},{default:a(()=>t[6]||(t[6]=[l("提交",-1)])),_:1,__:[6]},512)]),_:1},512),[[E,!p.isDialog]])]),_:1},8,["model"])),e(A,{spinning:d.value,style:{width:"100%","margin-top":"100px"}},null,8,["spinning"])])])])}}});export{X as default};

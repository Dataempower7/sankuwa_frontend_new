import{d as C,b as D,r as c,ab as h,f as l,g as x,h as B,i as _,z as e,m as s,L as N,Q as R,O as L,P as b}from"./index-B52YIGC0.js";import{c as O}from"./mobileDecorate-DdVOYq1U.js";const q={class:"container"},I={class:"content_wrapper"},F={class:"lyecs-form-table"},P=C({__name:"Info",props:{id:{type:Number,default:0},act:{type:String,default:""},isDialog:Boolean},emits:["submitCallback","update:confirmLoading","close"],setup(v,{expose:g,emit:y}){const n=y,a=v,m=D().currentRoute.value.query,w=c(a.isDialog?a.act:String(m.act)),V=c(a.isDialog?a.id:Number(m.id)),T=w.value==="add"?"create":"update",d=h(),t=c({}),p=async()=>{await d.value.validate();try{n("update:confirmLoading",!0);const r=await O(T,{id:V.value,...t.value});n("submitCallback",r),b.success("操作成功")}catch(r){b.error(r.message)}finally{n("update:confirmLoading",!1)}};return g({onFormSubmit:()=>{p()}}),(r,o)=>{const f=l("TigInput"),i=l("el-form-item"),S=l("el-button"),k=l("el-form");return B(),x("div",q,[_("div",I,[_("div",F,[e(k,{ref_key:"formRef",ref:d,model:t.value,"label-width":"auto"},{default:s(()=>[e(i,{prop:"decorateTitle",label:"页面名称",rules:[{required:!0,message:"页面名称不能为空!"}]},{default:s(()=>[e(f,{classType:"tig-form-input",modelValue:t.value.decorateTitle,"onUpdate:modelValue":o[0]||(o[0]=u=>t.value.decorateTitle=u)},null,8,["modelValue"])]),_:1}),e(i,{prop:"sortOrder",label:"排序"},{default:s(()=>[e(f,{classType:"tig-form-input",modelValue:t.value.sortOrder,"onUpdate:modelValue":o[1]||(o[1]=u=>t.value.sortOrder=u)},null,8,["modelValue"])]),_:1}),N(e(i,{"wrapper-col":{offset:4,span:16}},{default:s(()=>[e(S,{ref:"submitBtn",class:"form-submit-btn",type:"primary",onClick:p},{default:s(()=>[...o[2]||(o[2]=[R("提交",-1)])]),_:1},512)]),_:1},512),[[L,!a.isDialog]])]),_:1},8,["model"])])])])}}});export{P as default};

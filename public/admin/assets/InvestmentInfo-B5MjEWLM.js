import{d as C,r as k,ab as U,o as D,f,g as N,h as r,i as s,k as u,l as d,z as a,m as l,L as P,j as c,Q as F,O as H,P as S}from"./index-B52YIGC0.js";import{_ as V}from"./Editor.vue_vue_type_style_index_0_lang-ChPMQjFJ.js";import{u as L}from"./decorateDiscrete-9ZAAaA_1.js";import{F as j}from"./UploadAvatar.vue_vue_type_style_index_0_scoped_3ec2e0ca_lang-BGZZHoO-.js";import"./index-KjhYqCTY.js";import"./vuedraggable.umd-BauR0rTv.js";import{_ as O}from"./PicList.vue_vue_type_script_setup_true_lang-DwHBNuNM.js";import"./SelectTimeInterval.vue_vue_type_style_index_0_scoped_207fe586_lang-1fz1RqDZ.js";/* empty css                                                                    *//* empty css                                                                  *//* empty css                                                                              *//* empty css                                                                     *//* empty css             */import"./buyShowProductGroupSelect.vue_vue_type_style_index_0_scoped_8e785396_lang-D9c7S773.js";import"./lodash-DLXBIuYo.js";import{B as y}from"./BusinessData-Dbgv1FCM.js";import"./index.esm-CBYqueH9.js";import"./format-BxqOrW-w.js";import"./DialogForm.vue_vue_type_script_setup_true_lang-CT6mpwCc.js";import"./index-C9ZdVeVx.js";import"./Image.vue_vue_type_script_setup_true_lang-B8qXJKJq.js";import"./BusinessImg-B_fZOjqm.js";import"./currencyManagement-DNysi_dA.js";/* empty css                                                                    */import"./SelectLink-BttPowUZ.js";import"./SelectColor.vue_vue_type_script_setup_true_lang-C0gzgyIL.js";import"./time-EzYK4E-P.js";const R={class:"container"},I={class:"content_wrapper"},M={class:"lyecs-form-table"},$={class:"relative"},q={class:"relative"},ye=C({__name:"InvestmentInfo",props:{module:{type:Object,default:{}},decorateSn:{type:String,default:""},index:{type:Number,default:0},isDialog:Boolean},emits:["submitCallback","update:confirmLoading","close"],setup(n,{expose:_,emit:h}){const v=h,i=n,g=k(!0),b=U(),t=k({title:"",content:"",image:"",images:[],index:0});D(()=>{Object.assign(t.value,i.module[i.index]),t.value.index=i.index,g.value=!1});const x=async()=>{await b.value.validate();try{v("update:confirmLoading",!0);let p=i.module;p[i.index]=t.value;const e=await L({decorateSn:i.decorateSn,data:p});v("submitCallback",e),S.success("操作成功")}catch(p){S.error(p.message)}finally{v("update:confirmLoading",!1)}};return _({onFormSubmit:()=>{x()}}),(p,e)=>{const m=f("el-form-item"),w=f("el-button"),T=f("el-form"),B=f("a-spin");return r(),N("div",R,[s("div",I,[s("div",M,[g.value?d("",!0):(r(),u(T,{key:0,ref_key:"formRef",ref:b,model:t.value,"label-width":"auto"},{default:l(()=>[a(m,{rules:[{required:!0,message:"流程标题不能为空!"}],label:"流程标题",prop:"title"},{default:l(()=>[a(y,{modelValue:t.value.title,"onUpdate:modelValue":e[0]||(e[0]=o=>t.value.title=o),dataType:13,classType:"tig-form-input"},null,8,["modelValue"])]),_:1}),n.decorateSn=="investmentPromotionHomepage"&&n.index!=0?(r(),u(m,{key:0,label:"流程图",prop:"image"},{default:l(()=>[a(c(j),{photo:t.value.image,"onUpdate:photo":e[1]||(e[1]=o=>t.value.image=o),pageType:"overseas",dataType:13},null,8,["photo"]),e[7]||(e[7]=s("div",{class:"extra"},"提示：请根据具体需求设置对应大小的图片，高清需要上传双倍大小",-1))]),_:1})):d("",!0),n.decorateSn=="investmentPromotionHomepage"&&n.index==0?(r(),u(m,{key:1,label:"轮播图",prop:"images"},{default:l(()=>[a(c(O),{isMultiple:!0,photos:t.value.images,"onUpdate:photos":e[2]||(e[2]=o=>t.value.images=o),pageType:"overseas",dataType:13},null,8,["photos"]),e[8]||(e[8]=s("div",{class:"extra"},"提示：请根据具体需求设置对应大小的图片，高清需要上传双倍大小",-1))]),_:1})):d("",!0),n.decorateSn!="investmentPromotionHomepage"?(r(),u(m,{key:2,label:"流程描述",prop:"content"},{default:l(()=>[s("div",$,[a(c(V),{html:t.value.content,"onUpdate:html":e[3]||(e[3]=o=>t.value.content=o),height:"300px"},null,8,["html"]),a(y,{modelValue:t.value.content,"onUpdate:modelValue":e[4]||(e[4]=o=>t.value.content=o),dataType:9,type:"editor"},null,8,["modelValue"])])]),_:1})):d("",!0),n.decorateSn=="investmentPromotionHomepage"&&n.index!=0?(r(),u(m,{key:3,label:"流程描述",prop:"content"},{default:l(()=>[s("div",q,[a(c(V),{html:t.value.content,"onUpdate:html":e[5]||(e[5]=o=>t.value.content=o),height:"300px"},null,8,["html"]),a(y,{modelValue:t.value.content,"onUpdate:modelValue":e[6]||(e[6]=o=>t.value.content=o),dataType:9,type:"editor"},null,8,["modelValue"])])]),_:1})):d("",!0),P(a(m,{"wrapper-col":{offset:4,span:16}},{default:l(()=>[a(w,{ref:"submitBtn",class:"form-submit-btn",type:"primary",onClick:x},{default:l(()=>[...e[9]||(e[9]=[F("提交",-1)])]),_:1},512)]),_:1},512),[[H,!i.isDialog]])]),_:1},8,["model"])),a(B,{spinning:g.value,style:{width:"100%","margin-top":"100px"}},null,8,["spinning"])])])])}}});export{ye as default};

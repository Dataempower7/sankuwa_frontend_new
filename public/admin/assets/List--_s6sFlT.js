import{d as T,x as K,f as l,g as p,h as c,i as o,l as b,z as a,m as s,j as t,a8 as P,Q as d,t as v}from"./index-B52YIGC0.js";/* empty css             */import"./index-KjhYqCTY.js";import{D as q}from"./DeleteRecord-BTXBpwL2.js";/* empty css                                                                    */import{P as F}from"./Pagination-C8J7-6Em.js";import{g as L,d as U,b as R}from"./subgroup-BHqHMm_X.js";import{u as $}from"./useListRequest-CprjeVXp.js";import{_ as k}from"./DialogForm.vue_vue_type_script_setup_true_lang-CT6mpwCc.js";import"./index-C9ZdVeVx.js";const j={class:"container"},E={class:"content_wrapper"},Q={class:"lyecs-table-list-warp"},G={class:"list-table-tool lyecs-search-warp",style:{"margin-bottom":"0px"}},H={class:"list-table-tool-row"},J={class:"simple-form-warp"},M={class:"simple-form-field"},W={class:"form-group"},X={class:"control-container"},Y={class:"simple-form-field"},Z={class:"form-group"},tt={class:"control-container"},et={class:"table-container"},ot={style:{position:"relative"}},at={class:"empty-warp"},st={key:0,class:"empty-bg"},nt={key:0,class:"pagination-con"},lt={key:0,class:"selected-action-warp selected-warp-left"},it={class:"selected-action"},ht=T({__name:"List",setup(rt){const y=K(),{listData:w,loading:m,total:u,selectedIds:h,filterParams:i,loadData:r,onSearchSubmit:_,onSortChange:S,onSelectChange:I,onBatchAction:x}=$({apiFunction:L,idKey:"groupId",defaultParams:{sortField:"",sortOrder:"",groupName:"",page:1,size:y.get("pageSize")}}),D=async C=>{await x(C,R)};return r(),(C,e)=>{const g=l("el-button"),z=l("TigInput"),f=l("el-table-column"),N=l("el-divider"),V=l("el-table"),A=l("a-spin"),B=l("el-popconfirm"),O=l("el-space");return c(),p("div",j,[o("div",E,[o("div",Q,[o("div",G,[o("div",H,[o("div",J,[o("div",M,[o("div",W,[o("div",X,[a(z,{name:"keyword",modelValue:t(i).groupName,"onUpdate:modelValue":e[0]||(e[0]=n=>t(i).groupName=n),placeholder:"输入分组名称",onKeyup:P(t(_),["enter"]),clearable:"",onClear:t(_)},{append:s(()=>[a(g,{onClick:t(_)},{default:s(()=>[...e[4]||(e[4]=[o("span",{class:"iconfont icon-chakan1"},null,-1)])]),_:1},8,["onClick"])]),_:1},8,["modelValue","onKeyup","onClear"])])])]),o("div",Y,[o("div",Z,[o("div",tt,[a(t(k),{isDrawer:"",onOkCallback:t(r),title:"新建分组",width:"600px",path:"salesman/subgroup/Info",params:{act:"add"}},{default:s(()=>[a(g,{type:"primary"},{default:s(()=>[...e[5]||(e[5]=[d("新建分组",-1)])]),_:1})]),_:1},8,["onOkCallback"])])])])])])]),o("div",et,[a(A,{spinning:t(m)},{default:s(()=>[a(V,{data:t(w),"row-key":"groupId",onSelectionChange:t(I),total:t(u),onSortChange:t(S),loading:t(m)},{empty:s(()=>[o("div",at,[t(m)?b("",!0):(c(),p("div",st,"暂无数据"))])]),default:s(()=>[a(f,{label:"分组名称",prop:"groupId",sortable:"custom"},{default:s(({row:n})=>[o("div",ot,[o("div",null,v(n.groupName),1)])]),_:1}),a(f,{label:"创建时间",prop:"addTime",sortable:"custom"},{default:s(({row:n})=>[o("div",null,v(n.addTime),1)]),_:1}),a(f,{label:"操作",fixed:"right",width:150},{default:s(({row:n})=>[a(t(k),{isDrawer:"",onOkCallback:t(r),title:"编辑分组",width:"600px",path:"salesman/subgroup/Info",params:{act:"detail",id:n.groupId}},{default:s(()=>[...e[6]||(e[6]=[o("a",{class:"btn-link"},"编辑",-1)])]),_:1},8,["onOkCallback","params"]),a(N,{direction:"vertical"}),a(t(q),{onAfterDelete:t(r),requestApi:t(U),params:{id:n.groupId}},{default:s(()=>[...e[7]||(e[7]=[d("删除",-1)])]),_:1},8,["onAfterDelete","requestApi","params"])]),_:1})]),_:1},8,["data","onSelectionChange","total","onSortChange","loading"])]),_:1},8,["spinning"]),t(u)>0?(c(),p("div",nt,[a(t(F),{page:t(i).page,"onUpdate:page":e[1]||(e[1]=n=>t(i).page=n),size:t(i).size,"onUpdate:size":e[2]||(e[2]=n=>t(i).size=n),total:t(u),onCallback:t(r)},null,8,["page","size","total","onCallback"])])):b("",!0)]),t(h).length>0?(c(),p("div",lt,[o("div",it,[a(O,null,{default:s(()=>[o("span",null,[e[8]||(e[8]=d("已选择：",-1)),o("b",null,v(t(h).length),1),e[9]||(e[9]=d(" 项",-1))]),a(B,{title:"您确认要批量删除所选数据吗？",onConfirm:e[3]||(e[3]=n=>D("del"))},{reference:s(()=>[a(g,null,{default:s(()=>[...e[10]||(e[10]=[d("批量删除",-1)])]),_:1})]),_:1})]),_:1})])])):b("",!0)])])])}}});export{ht as default};

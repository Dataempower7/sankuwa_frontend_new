import{d as K,x as I,dJ as L,f as n,g as m,h as u,i as l,l as f,z as a,m as s,j as e,a8 as $,Q as i,t as g,n as T}from"./index-B52YIGC0.js";/* empty css             */import"./index-KjhYqCTY.js";import{P as R}from"./PopSelect.vue_vue_type_style_index_0_scoped_5832cf6b_lang-CRFq-JzZ.js";import{_ as j}from"./Switch.vue_vue_type_script_setup_true_lang-D-71VfIC.js";import{D as E}from"./DeleteRecord-BTXBpwL2.js";/* empty css                                                                    */import{P as J}from"./Pagination-C8J7-6Em.js";import{g as Q,u as D,d as G,b as H}from"./pcCatFloor-eUrX5duh.js";import{u as M}from"./useListRequest-CprjeVXp.js";import{_ as O}from"./DialogForm.vue_vue_type_script_setup_true_lang-CT6mpwCc.js";import"./index-C9ZdVeVx.js";const W={class:"container"},X={class:"content_wrapper"},Y={class:"lyecs-table-list-warp"},Z={class:"list-table-tool lyecs-search-warp"},ee={class:"list-table-tool-row"},te={class:"simple-form-warp"},oe={class:"simple-form-field"},ae={class:"form-group"},le={class:"control-container"},se={class:"simple-form-field"},ne={class:"form-group"},ie={class:"simple-form-field"},re={class:"form-group"},de={key:0},pe={class:"table-container"},ce={class:"empty-warp"},me={key:0,class:"empty-bg"},ue={key:0,class:"pagination-con"},_e={key:0,class:"selected-action-warp selected-warp-left"},fe={class:"selected-action"},xe=K({__name:"List",setup(ge){const v=I();v.config.icoDefinedCss&&L(v.config.icoDefinedCss);const x=I(),{listData:z,loading:b,total:C,selectedIds:p,filterParams:r,loadData:c,onSearchSubmit:h,onSortChange:A,onSelectChange:P,onBatchAction:V}=M({apiFunction:Q,idKey:"catFloorId",defaultParams:{sortField:"",sortOrder:"",keyword:"",page:1,size:x.get("pageSize")}}),y=async w=>{await V(w,H)};return c(),(w,t)=>{const _=n("el-button"),q=n("TigInput"),F=n("el-popconfirm"),S=n("el-space"),d=n("el-table-column"),N=n("el-divider"),U=n("el-table"),B=n("a-spin");return u(),m("div",W,[l("div",X,[l("div",Y,[l("div",Z,[l("div",ee,[l("div",te,[l("div",oe,[l("div",ae,[l("div",le,[a(q,{modelValue:e(r).keyword,"onUpdate:modelValue":t[0]||(t[0]=o=>e(r).keyword=o),name:"keyword",placeholder:"输入楼层名称",onKeyup:$(e(h),["enter"]),clearable:"",onClear:e(h)},{append:s(()=>[a(_,{onClick:e(h)},{default:s(()=>[...t[5]||(t[5]=[l("span",{class:"iconfont icon-chakan1"},null,-1)])]),_:1},8,["onClick"])]),_:1},8,["modelValue","onKeyup","onClear"])])])]),l("div",se,[l("div",ne,[a(e(O),{params:{act:"add"},isDrawer:"",path:"decorate/pcCatFloor/Info",title:"添加抽屉楼层",width:"800px",onOkCallback:e(c)},{default:s(()=>[a(_,{type:"primary"},{default:s(()=>[...t[6]||(t[6]=[i("添加抽屉楼层",-1)])]),_:1})]),_:1},8,["onOkCallback"])])]),l("div",ie,[l("div",re,[a(S,null,{default:s(()=>[a(F,{title:"您确认要批量删除所选数据吗？",onConfirm:t[1]||(t[1]=o=>y("del"))},{reference:s(()=>[a(_,{disabled:e(p).length===0},{default:s(()=>[...t[7]||(t[7]=[i("批量删除",-1)])]),_:1},8,["disabled"])]),_:1}),e(p).length>0?(u(),m("span",de,[t[8]||(t[8]=i(" 已选择：",-1)),l("b",null,g(e(p).length),1),t[9]||(t[9]=i(" 项 ",-1))])):f("",!0)]),_:1})])])])])]),l("div",pe,[a(B,{spinning:e(b)},{default:s(()=>[a(U,{data:e(z),loading:e(b),total:e(C),"row-key":"catFloorId",onSelectionChange:e(P),onSortChange:e(A)},{empty:s(()=>[l("div",ce,[e(b)?f("",!0):(u(),m("div",me,"暂无数据"))])]),default:s(()=>[a(d,{type:"selection",width:"32"}),a(d,{width:100,label:"楼层图标"},{default:s(({row:o})=>[l("em",{class:T([o.floorIcoFont,"main_pel_m"])},null,2)]),_:1}),a(d,{label:"楼层名称",prop:"catFloorName"},{default:s(({row:o})=>[l("span",null,g(o.catFloorName?o.catFloorName:"--"),1)]),_:1}),a(d,{width:120,label:"是否显示",sortable:"custom"},{default:s(({row:o})=>[a(e(j),{checked:o.isShow,"onUpdate:checked":k=>o.isShow=k,params:{id:o.catFloorId,field:"isShow"},requestApi:e(D)},null,8,["checked","onUpdate:checked","params","requestApi"])]),_:1}),a(d,{width:120,label:"排序",prop:"sortOrder",sortable:"custom"},{default:s(({row:o})=>[a(e(R),{"org-value":o.sortOrder,"onUpdate:orgValue":k=>o.sortOrder=k,params:{id:o.catFloorId,field:"sortOrder"},requestApi:e(D),extra:"默认值为50，数值越小，排序越靠前",label:"排序",type:"integer"},{default:s(()=>[l("div",null,g(o.sortOrder),1)]),_:2},1032,["org-value","onUpdate:orgValue","params","requestApi"])]),_:1}),a(d,{width:150,fixed:"right",label:"操作"},{default:s(({row:o})=>[a(e(O),{params:{act:"detail",id:o.catFloorId},isDrawer:"",path:"decorate/pcCatFloor/Info",title:"编辑抽屉楼层",width:"800px",onOkCallback:e(c)},{default:s(()=>[...t[10]||(t[10]=[l("a",{class:"btn-link"},"编辑",-1)])]),_:1},8,["params","onOkCallback"]),a(N,{direction:"vertical"}),a(e(E),{params:{id:o.catFloorId},requestApi:e(G),onAfterDelete:e(c)},{default:s(()=>[...t[11]||(t[11]=[i("删除 ",-1)])]),_:1},8,["params","requestApi","onAfterDelete"])]),_:1})]),_:1},8,["data","loading","total","onSelectionChange","onSortChange"])]),_:1},8,["spinning"]),e(C)>0?(u(),m("div",ue,[a(e(J),{page:e(r).page,"onUpdate:page":t[2]||(t[2]=o=>e(r).page=o),size:e(r).size,"onUpdate:size":t[3]||(t[3]=o=>e(r).size=o),total:e(C),onCallback:e(c)},null,8,["page","size","total","onCallback"])])):f("",!0)]),e(p).length>0?(u(),m("div",_e,[l("div",fe,[a(S,null,{default:s(()=>[l("span",null,[t[12]||(t[12]=i("已选择：",-1)),l("b",null,g(e(p).length),1),t[13]||(t[13]=i(" 项",-1))]),a(F,{title:"您确认要批量删除所选数据吗？",onConfirm:t[4]||(t[4]=o=>y("del"))},{reference:s(()=>[a(_,null,{default:s(()=>[...t[14]||(t[14]=[i("批量删除",-1)])]),_:1})]),_:1})]),_:1})])])):f("",!0)])])])}}});export{xe as default};

import{d as T,x as K,f as c,h as l,k,z as o,l as a,e as s,i as e,a1 as L,L as d,t as m,g as _}from"./index-BLXOA87U.js";/* empty css             */import"./index-DpgvsnVO.js";import{D as P}from"./DeleteRecord-D6PcywRa.js";/* empty css                                                                    */import{P as q}from"./Pagination-w0YHSLYy.js";import{d as F,b as U,g as R}from"./category-jSin5Wbi.js";import{u as $}from"./useListRequest-qe4Wn36b.js";import{_ as h}from"./DialogForm.vue_vue_type_script_setup_true_lang-6GHo9HCV.js";import"./index-B16C4gX_.js";const E={class:"container"},j={class:"content_wrapper"},G={class:"lyecs-table-list-warp"},H={class:"list-table-tool lyecs-search-warp"},J={class:"list-table-tool-row"},M={class:"list-table-tool-col"},Q={class:"table-container"},W={style:{position:"relative"}},X={class:"empty-warp"},Y={key:0,class:"empty-bg"},Z={key:0,class:"pagination-con"},ee={key:0,class:"selected-action-warp selected-warp-left"},te={class:"selected-action"},_e=T({__name:"List",setup(oe){const w=K(),{listData:S,loading:u,total:g,selectedIds:v,filterParams:i,loadData:r,onSearchSubmit:f,onSortChange:I,onSelectChange:D,onBatchAction:x}=$({apiFunction:R,idKey:"categoryId",defaultParams:{sortField:"",sortOrder:"",categoryName:"",page:1,size:w.get("pageSize")}}),z=async C=>{await x(C,U)};return r(),(C,t)=>{const b=s("el-button"),N=s("TigInput"),y=s("el-space"),p=s("el-table-column"),O=s("el-divider"),V=s("el-table"),A=s("a-spin"),B=s("el-popconfirm");return _(),c("div",E,[l("div",j,[l("div",G,[l("div",H,[l("div",J,[l("div",M,[o(y,null,{default:a(()=>[o(N,{name:"keyword",modelValue:e(i).categoryName,"onUpdate:modelValue":t[0]||(t[0]=n=>e(i).categoryName=n),placeholder:"输入分类名称",onKeyup:L(e(f),["enter"]),clearable:"",onClear:e(f)},{append:a(()=>[o(b,{onClick:e(f)},{default:a(()=>t[4]||(t[4]=[l("span",{class:"iconfont icon-chakan1"},null,-1)])),_:1,__:[4]},8,["onClick"])]),_:1},8,["modelValue","onKeyup","onClear"])]),_:1}),o(y,{class:"ml10"},{default:a(()=>[o(e(h),{isDrawer:"",onOkCallback:e(r),title:"新建分类",width:"600px",path:"salesman/category/Info",params:{act:"add"}},{default:a(()=>[o(b,{type:"primary"},{default:a(()=>t[5]||(t[5]=[d("新建分类",-1)])),_:1,__:[5]})]),_:1},8,["onOkCallback"])]),_:1})])])]),l("div",Q,[o(A,{spinning:e(u)},{default:a(()=>[o(V,{data:e(S),"row-key":"categoryId",onSelectionChange:e(D),total:e(g),onSortChange:e(I),loading:e(u)},{empty:a(()=>[l("div",X,[e(u)?k("",!0):(_(),c("div",Y,"暂无数据"))])]),default:a(()=>[o(p,{label:"分类名称",prop:"categoryId",sortable:"custom"},{default:a(({row:n})=>[l("div",W,[l("div",null,m(n.categoryName),1)])]),_:1}),o(p,{label:"创建时间",prop:"addTime",sortable:"custom"},{default:a(({row:n})=>[l("div",null,m(n.addTime),1)]),_:1}),o(p,{label:"排序",prop:"sortOrder",sortable:"custom"},{default:a(({row:n})=>[l("div",null,m(n.sortOrder||"--"),1)]),_:1}),o(p,{label:"操作",fixed:"right",width:150},{default:a(({row:n})=>[o(e(h),{isDrawer:"",onOkCallback:e(r),title:"编辑分类",width:"600px",path:"salesman/category/Info",params:{act:"detail",id:n.categoryId}},{default:a(()=>t[6]||(t[6]=[l("a",{class:"btn-link"},"编辑",-1)])),_:2,__:[6]},1032,["onOkCallback","params"]),o(O,{direction:"vertical"}),o(e(P),{onAfterDelete:e(r),requestApi:e(F),params:{id:n.categoryId}},{default:a(()=>t[7]||(t[7]=[d("删除",-1)])),_:2,__:[7]},1032,["onAfterDelete","requestApi","params"])]),_:1})]),_:1},8,["data","onSelectionChange","total","onSortChange","loading"])]),_:1},8,["spinning"]),e(g)>0?(_(),c("div",Z,[o(e(q),{page:e(i).page,"onUpdate:page":t[1]||(t[1]=n=>e(i).page=n),size:e(i).size,"onUpdate:size":t[2]||(t[2]=n=>e(i).size=n),total:e(g),onCallback:e(r)},null,8,["page","size","total","onCallback"])])):k("",!0)]),e(v).length>0?(_(),c("div",ee,[l("div",te,[o(y,null,{default:a(()=>[l("span",null,[t[8]||(t[8]=d("已选择：",-1)),l("b",null,m(e(v).length),1),t[9]||(t[9]=d(" 项",-1))]),o(B,{title:"您确认要批量删除所选数据吗？",onConfirm:t[3]||(t[3]=n=>z("del"))},{reference:a(()=>[o(b,null,{default:a(()=>t[10]||(t[10]=[d("批量删除",-1)])),_:1,__:[10]})]),_:1})]),_:1})])])):k("",!0)])])])}}});export{_e as default};

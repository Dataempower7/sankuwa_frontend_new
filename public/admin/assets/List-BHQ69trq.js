import{d as T,x as K,f as s,g as c,h as m,i as l,l as v,z as o,m as a,j as e,a8 as P,Q as d,t as u}from"./index-B52YIGC0.js";/* empty css             */import"./index-KjhYqCTY.js";import{D as q}from"./DeleteRecord-BTXBpwL2.js";/* empty css                                                                    */import{P as F}from"./Pagination-C8J7-6Em.js";import{g as L,d as U,b as R}from"./category-C7a6pPpp.js";import{u as $}from"./useListRequest-CprjeVXp.js";import{_ as h}from"./DialogForm.vue_vue_type_script_setup_true_lang-CT6mpwCc.js";import"./index-C9ZdVeVx.js";const j={class:"container"},E={class:"content_wrapper"},Q={class:"lyecs-table-list-warp"},G={class:"list-table-tool lyecs-search-warp"},H={class:"list-table-tool-row"},J={class:"list-table-tool-col"},M={class:"table-container"},W={style:{position:"relative"}},X={class:"empty-warp"},Y={key:0,class:"empty-bg"},Z={key:0,class:"pagination-con"},ee={key:0,class:"selected-action-warp selected-warp-left"},te={class:"selected-action"},ue=T({__name:"List",setup(oe){const w=K(),{listData:S,loading:_,total:g,selectedIds:C,filterParams:i,loadData:r,onSearchSubmit:f,onSortChange:I,onSelectChange:D,onBatchAction:x}=$({apiFunction:L,idKey:"categoryId",defaultParams:{sortField:"",sortOrder:"",categoryName:"",page:1,size:w.get("pageSize")}}),z=async k=>{await x(k,R)};return r(),(k,t)=>{const b=s("el-button"),N=s("TigInput"),y=s("el-space"),p=s("el-table-column"),O=s("el-divider"),V=s("el-table"),A=s("a-spin"),B=s("el-popconfirm");return m(),c("div",j,[l("div",E,[l("div",Q,[l("div",G,[l("div",H,[l("div",J,[o(y,null,{default:a(()=>[o(N,{name:"keyword",modelValue:e(i).categoryName,"onUpdate:modelValue":t[0]||(t[0]=n=>e(i).categoryName=n),placeholder:"输入分类名称",onKeyup:P(e(f),["enter"]),clearable:"",onClear:e(f)},{append:a(()=>[o(b,{onClick:e(f)},{default:a(()=>[...t[4]||(t[4]=[l("span",{class:"iconfont icon-chakan1"},null,-1)])]),_:1},8,["onClick"])]),_:1},8,["modelValue","onKeyup","onClear"])]),_:1}),o(y,{class:"ml10"},{default:a(()=>[o(e(h),{isDrawer:"",onOkCallback:e(r),title:"新建分类",width:"600px",path:"salesman/category/Info",params:{act:"add"}},{default:a(()=>[o(b,{type:"primary"},{default:a(()=>[...t[5]||(t[5]=[d("新建分类",-1)])]),_:1})]),_:1},8,["onOkCallback"])]),_:1})])])]),l("div",M,[o(A,{spinning:e(_)},{default:a(()=>[o(V,{data:e(S),"row-key":"categoryId",onSelectionChange:e(D),total:e(g),onSortChange:e(I),loading:e(_)},{empty:a(()=>[l("div",X,[e(_)?v("",!0):(m(),c("div",Y,"暂无数据"))])]),default:a(()=>[o(p,{label:"分类名称",prop:"categoryId",sortable:"custom"},{default:a(({row:n})=>[l("div",W,[l("div",null,u(n.categoryName),1)])]),_:1}),o(p,{label:"创建时间",prop:"addTime",sortable:"custom"},{default:a(({row:n})=>[l("div",null,u(n.addTime),1)]),_:1}),o(p,{label:"排序",prop:"sortOrder",sortable:"custom"},{default:a(({row:n})=>[l("div",null,u(n.sortOrder||"--"),1)]),_:1}),o(p,{label:"操作",fixed:"right",width:150},{default:a(({row:n})=>[o(e(h),{isDrawer:"",onOkCallback:e(r),title:"编辑分类",width:"600px",path:"salesman/category/Info",params:{act:"detail",id:n.categoryId}},{default:a(()=>[...t[6]||(t[6]=[l("a",{class:"btn-link"},"编辑",-1)])]),_:1},8,["onOkCallback","params"]),o(O,{direction:"vertical"}),o(e(q),{onAfterDelete:e(r),requestApi:e(U),params:{id:n.categoryId}},{default:a(()=>[...t[7]||(t[7]=[d("删除",-1)])]),_:1},8,["onAfterDelete","requestApi","params"])]),_:1})]),_:1},8,["data","onSelectionChange","total","onSortChange","loading"])]),_:1},8,["spinning"]),e(g)>0?(m(),c("div",Z,[o(e(F),{page:e(i).page,"onUpdate:page":t[1]||(t[1]=n=>e(i).page=n),size:e(i).size,"onUpdate:size":t[2]||(t[2]=n=>e(i).size=n),total:e(g),onCallback:e(r)},null,8,["page","size","total","onCallback"])])):v("",!0)]),e(C).length>0?(m(),c("div",ee,[l("div",te,[o(y,null,{default:a(()=>[l("span",null,[t[8]||(t[8]=d("已选择：",-1)),l("b",null,u(e(C).length),1),t[9]||(t[9]=d(" 项",-1))]),o(B,{title:"您确认要批量删除所选数据吗？",onConfirm:t[3]||(t[3]=n=>z("del"))},{reference:a(()=>[o(b,null,{default:a(()=>[...t[10]||(t[10]=[d("批量删除",-1)])]),_:1})]),_:1})]),_:1})])])):v("",!0)])])])}}});export{ue as default};

import{d as T,ab as E,r as m,u as k,o as B,f as s,a7 as N,L as z,g as D,h as M,z as l,i as a,m as t,t as U,Q as p,ah as G,j as I,P as f}from"./index-B52YIGC0.js";import{s as L,r as R}from"./buyShow-GI1gwX70.js";const Y="/admin/assets/nameDisplay-fhsZY4Tk.png",j="/admin/assets/doubleBar-_KQmAd37.png",q={class:"flex flex-justify-center"},Q={class:"ml5"},A={class:"flex flex-align-center",style:{transform:"translateY(-4px)"}},K={class:"flex flex-align-center",style:{transform:"translateY(-4px)"}},P={class:"selected-action"},J=T({__name:"List",setup(Z){const c=E(),n=m(!1),o=m({buyerShowTemplateStyle:0}),{themeInfo:y}=k(),i=m(!1),h=async()=>{await c.value.validate();try{i.value=!0,n.value=!0,await L({...o.value,buyerShowEnabled:o.value.buyerShowEnabled?1:0}),i.value=!1,n.value=!1,f.success("保存成功"),b()}catch(r){f.error(r.message),i.value=!1,n.value=!1}},b=async()=>{try{n.value=!0;const r=await R();o.value={...r,buyerShowEnabled:r.buyerShowEnabled===1},n.value=!1}catch(r){f.error(r.message),n.value=!1}};return B(()=>{b()}),(r,e)=>{const S=s("el-switch"),d=s("el-form-item"),v=s("TigInput"),w=s("el-popover"),_=s("el-radio"),g=s("el-radio-group"),x=s("el-form"),V=s("el-button"),C=N("loading");return z((M(),D("div",null,[l(x,{ref_key:"formRef",ref:c,model:o.value,"label-width":"auto"},{default:t(()=>[l(d,{label:"功能开关"},{default:t(()=>[a("div",q,[l(S,{modelValue:o.value.buyerShowEnabled,"onUpdate:modelValue":e[0]||(e[0]=u=>o.value.buyerShowEnabled=u),class:"mb-2",style:{"--el-switch-on-color":"#13ce66","--el-switch-off-color":"#ccc"}},null,8,["modelValue"]),a("div",Q,U(o.value.buyerShowEnabled?"已开启":"已关闭"),1)])]),_:1}),l(d,{label:"手机端展示名称",prop:"buyerShowMobileShowName",rules:[{required:!0,message:"请填写手机端展示名称!"}]},{default:t(()=>[a("div",A,[l(v,{placeholder:"请输入",class:"mr10",modelValue:o.value.buyerShowMobileShowName,"onUpdate:modelValue":e[1]||(e[1]=u=>o.value.buyerShowMobileShowName=u),maxlength:"10","show-word-limit":""},null,8,["modelValue"]),l(w,{class:"box-item",title:"",placement:"bottom",width:"320"},{reference:t(()=>[...e[4]||(e[4]=[a("span",{class:"btn-link"},"示例",-1)])]),default:t(()=>[e[5]||(e[5]=a("img",{src:Y,alt:"",width:"300"},null,-1))]),_:1})])]),_:1}),l(d,{label:"评论引导文案",prop:"buyerShowGuidanceContent"},{default:t(()=>[l(v,{placeholder:"请输入",modelValue:o.value.buyerShowGuidanceContent,"onUpdate:modelValue":e[2]||(e[2]=u=>o.value.buyerShowGuidanceContent=u),maxlength:"15","show-word-limit":""},null,8,["modelValue"])]),_:1}),l(d,{label:"模板样式",prop:"buyerShowTemplateStyle",rules:[{required:!0,message:"请选择模板样式!"}]},{default:t(()=>[a("div",K,[l(g,{modelValue:o.value.buyerShowTemplateStyle,"onUpdate:modelValue":e[3]||(e[3]=u=>o.value.buyerShowTemplateStyle=u),class:"mr10"},{default:t(()=>[l(_,{value:0,size:"large"},{default:t(()=>[...e[6]||(e[6]=[p("双栏列表",-1)])]),_:1}),l(_,{value:1,size:"large"},{default:t(()=>[...e[7]||(e[7]=[p("单栏列表",-1)])]),_:1})]),_:1},8,["modelValue"]),l(w,{class:"box-item",title:"",placement:"bottom",width:"420"},{reference:t(()=>[...e[8]||(e[8]=[a("span",{class:"btn-link ml5"},"示例",-1)])]),default:t(()=>[e[9]||(e[9]=a("img",{src:j,alt:"",width:"400"},null,-1))]),_:1})])]),_:1})]),_:1},8,["model"]),a("div",{class:"selected-action-warp selected-warp-left",style:G({left:I(y).layout!=="topMenu"?"369px":"270px"})},[a("div",P,[l(V,{loading:i.value,class:"form-submit-btn",size:"large",type:"primary",onClick:h},{default:t(()=>[...e[10]||(e[10]=[p("保存设置",-1)])]),_:1},8,["loading"])])],4)])),[[C,n.value]])}}});export{J as default};

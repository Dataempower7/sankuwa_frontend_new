import{d as x,x as O,f as c,h as s,z as t,l,e as d,L as _,i as e,a1 as U,k as h,t as z,g as u}from"./index-BLXOA87U.js";/* empty css             */import"./index-DpgvsnVO.js";import{_ as V}from"./Switch.vue_vue_type_script_setup_true_lang-D9gOYX51.js";import{D as L}from"./DeleteRecord-D6PcywRa.js";/* empty css                                                                    */import{P as S}from"./Pagination-w0YHSLYy.js";import{u as q,d as A,g as N}from"./eCard-Vemd3tY-.js";import{u as T}from"./useListRequest-qe4Wn36b.js";import{_ as f}from"./DialogForm.vue_vue_type_script_setup_true_lang-6GHo9HCV.js";import"./index-B16C4gX_.js";const E={class:"container"},F={class:"content_wrapper"},K={class:"lyecs-table-list-warp"},P={class:"list-table-tool lyecs-search-warp"},B={class:"list-table-tool-row"},G={class:"simple-form-warp"},$={class:"simple-form-field"},R={class:"form-group"},j={class:"simple-form-field"},H={class:"form-group"},J={class:"control-container"},M={class:"table-container"},Q={class:"empty-warp"},W={key:0,class:"empty-bg"},X={key:0,class:"pagination-con"},me=x({__name:"List",setup(Y){const v=O(),{listData:w,loading:k,total:p,filterParams:r,loadData:n,onSearchSubmit:m}=T({apiFunction:N,idKey:"groupId",defaultParams:{sortField:"",sortOrder:"",keyword:"",page:1,size:v.get("pageSize")}});return n(),(Z,a)=>{const g=d("el-button"),y=d("TigInput"),i=d("el-table-column"),b=d("el-divider"),I=d("el-table"),D=d("a-spin");return u(),c("div",E,[s("div",F,[s("div",K,[s("div",P,[s("div",B,[s("div",G,[s("div",$,[s("div",R,[t(e(f),{params:{act:"add"},isDrawer:"",delayed:2e4,path:"promotion/eCard/Info",title:"添加电子卡券组",width:"600px",onOkCallback:e(n)},{default:l(()=>[t(g,{type:"primary"},{default:l(()=>a[4]||(a[4]=[_("添加电子卡券组",-1)])),_:1,__:[4]})]),_:1},8,["onOkCallback"])])]),s("div",j,[s("div",H,[s("div",J,[t(y,{modelValue:e(r).keyword,"onUpdate:modelValue":a[0]||(a[0]=o=>e(r).keyword=o),name:"wechat_live_title",placeholder:"输入电子卡券组名称",onKeyup:U(e(m),["enter"]),clearable:"",onClear:e(m)},{append:l(()=>[t(g,{onClick:e(m)},{default:l(()=>a[5]||(a[5]=[s("span",{class:"iconfont icon-chakan1"},null,-1)])),_:1,__:[5]},8,["onClick"])]),_:1},8,["modelValue","onKeyup","onClear"])])])])])])]),s("div",M,[t(D,{spinning:e(k)},{default:l(()=>[t(I,{data:e(w),"row-key":"groupId",total:e(p)},{empty:l(()=>[s("div",Q,[e(k)?h("",!0):(u(),c("div",W,"暂无数据"))])]),default:l(()=>[t(i,{label:"分组ID",prop:"groupId",width:80}),t(i,{label:"分组名称",prop:"groupName"}),t(i,{label:"是否使用",prop:"isUse"},{default:l(({row:o})=>[t(e(V),{checked:o.isUse,"onUpdate:checked":C=>o.isUse=C,params:{id:o.groupId,field:"isUse"},requestApi:e(q)},null,8,["checked","onUpdate:checked","params","requestApi"])]),_:1}),t(i,{label:"备注",prop:"remark",width:300},{default:l(({row:o})=>[_(z(o.remark||"--"),1)]),_:1}),t(i,{label:"创建时间",prop:"addTime"}),t(i,{label:"修改时间",prop:"upTime"}),t(i,{label:"操作",fixed:"right",width:200},{default:l(({row:o})=>[t(e(f),{isDrawer:"",onOkCallback:e(n),showOnOk:!1,showClose:!1,title:"查看卡列表",width:"800px",path:"promotion/eCard/eCardList/List",params:{groupId:o.groupId}},{default:l(()=>a[6]||(a[6]=[s("a",{class:"btn-link"},"查看卡列表",-1)])),_:2,__:[6]},1032,["onOkCallback","params"]),t(b,{direction:"vertical"}),t(e(f),{isDrawer:"",onOkCallback:e(n),title:"编辑电子卡券组",width:"600px",path:"promotion/eCard/Info",params:{act:"detail",id:o.groupId}},{default:l(()=>a[7]||(a[7]=[s("a",{class:"btn-link"},"编辑",-1)])),_:2,__:[7]},1032,["onOkCallback","params"]),t(b,{direction:"vertical"}),t(e(L),{params:{id:o.groupId},requestApi:e(A),onAfterDelete:a[1]||(a[1]=C=>e(n)())},{default:l(()=>a[8]||(a[8]=[_("删除 ",-1)])),_:2,__:[8]},1032,["params","requestApi"])]),_:1})]),_:1},8,["data","total"])]),_:1},8,["spinning"]),e(p)>0?(u(),c("div",X,[t(e(S),{page:e(r).page,"onUpdate:page":a[2]||(a[2]=o=>e(r).page=o),size:e(r).size,"onUpdate:size":a[3]||(a[3]=o=>e(r).size=o),total:e(p),onCallback:e(n)},null,8,["page","size","total","onCallback"])])):h("",!0)])])])])}}});export{me as default};

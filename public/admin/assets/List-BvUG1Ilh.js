import{d as S,x as z,f as n,g as u,h as p,i as a,z as o,m as l,j as e,a8 as L,l as g,k as x,dP as P,t as V}from"./index-B52YIGC0.js";/* empty css             */import"./index-KjhYqCTY.js";/* empty css                                                                    */import{P as O}from"./Pagination-C8J7-6Em.js";import{g as q}from"./adminLog-BZFva956.js";import{u as B}from"./useListRequest-CprjeVXp.js";import{_ as D}from"./DialogForm.vue_vue_type_script_setup_true_lang-CT6mpwCc.js";import"./index-C9ZdVeVx.js";const K={class:"container"},T={class:"content_wrapper"},F={class:"lyecs-table-list-warp"},N={class:"list-table-tool lyecs-search-warp"},U={class:"list-table-tool-row"},A={class:"list-table-tool-col"},j={class:"table-container"},E={class:"flex flex-align-center"},R={class:"empty-warp"},$={key:0,class:"empty-bg"},G={key:0,class:"pagination-con"},ae=S({__name:"List",setup(H){const f=z(),{listData:b,loading:d,total:c,filterParams:i,loadData:_,onSearchSubmit:m,onSortChange:k}=B({apiFunction:q,idKey:"articleId",defaultParams:{page:1,size:f.get("pageSize"),sortField:"logTime",sortOrder:"desc",keyword:""}});return _(),(J,s)=>{const h=n("el-button"),y=n("TigInput"),C=n("el-space"),r=n("el-table-column"),w=n("el-icon"),v=n("el-table"),I=n("a-spin");return p(),u("div",K,[a("div",T,[a("div",F,[a("div",N,[a("div",U,[a("div",A,[o(C,null,{default:l(()=>[o(y,{modelValue:e(i).keyword,"onUpdate:modelValue":s[0]||(s[0]=t=>e(i).keyword=t),class:"width240",name:"keyword",placeholder:"输入关键词或IP地址",onKeyup:L(e(m),["enter"]),clearable:"",onClear:e(m)},{append:l(()=>[o(h,{onClick:e(m)},{default:l(()=>[...s[3]||(s[3]=[a("span",{class:"iconfont icon-chakan1"},null,-1)])]),_:1},8,["onClick"])]),_:1},8,["modelValue","onKeyup","onClear"])]),_:1})])])]),a("div",j,[o(I,{spinning:e(d)},{default:l(()=>[o(v,{data:e(b),loading:e(d),total:e(c),"row-key":"logId",onSortChange:e(k)},{empty:l(()=>[a("div",R,[e(d)?g("",!0):(p(),u("div",$,"暂无数据"))])]),default:l(()=>[o(r,{label:"编号",prop:"logId"}),o(r,{label:"操作者",prop:"username"}),o(r,{label:"IP地址",prop:"ipAddress"}),o(r,{label:"操作日期",prop:"logTime",sortable:"custom"}),o(r,{label:"操作记录",prop:"logInfo"},{default:l(({row:t})=>[t.requestLog&&t.requestLog!=null?(p(),x(e(D),{key:0,params:{data:t.requestLog},isDrawer:"",path:"authority/adminLog/Info",title:"操作详情",width:"500px",showClose:!1,showOnOk:!1,onOkCallback:e(_)},{default:l(()=>[a("div",E,[o(w,null,{default:l(()=>[o(e(P))]),_:1}),a("p",null,"  "+V(t.logInfo),1)])]),_:2},1032,["params","onOkCallback"])):g("",!0)]),_:1})]),_:1},8,["data","loading","total","onSortChange"])]),_:1},8,["spinning"]),e(c)>0?(p(),u("div",G,[o(e(O),{page:e(i).page,"onUpdate:page":s[1]||(s[1]=t=>e(i).page=t),size:e(i).size,"onUpdate:size":s[2]||(s[2]=t=>e(i).size=t),total:e(c),onCallback:e(_)},null,8,["page","size","total","onCallback"])])):g("",!0)])])])])}}});export{ae as default};

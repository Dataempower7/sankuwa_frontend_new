import{d as q,x as P,f as n,g as c,h as m,i as l,z as o,m as s,j as e,Q as p,l as k,t as v,q as F,ah as L}from"./index-B52YIGC0.js";/* empty css             */import"./index-KjhYqCTY.js";import{D as U}from"./DeleteRecord-BTXBpwL2.js";/* empty css                                                                    */import{P as E}from"./Pagination-C8J7-6Em.js";import{g as R,d as $,b as j}from"./seckill-CM8TjXL6.js";import{u as K}from"./useListRequest-CprjeVXp.js";import{_ as C}from"./DialogForm.vue_vue_type_script_setup_true_lang-CT6mpwCc.js";import"./index-C9ZdVeVx.js";const M={class:"container"},Q={class:"content_wrapper"},G={class:"lyecs-table-list-warp"},H={class:"list-table-tool lyecs-search-warp"},J={class:"list-table-tool-row"},W={class:"simple-form-warp"},X={class:"simple-form-field"},Y={class:"form-group"},Z={class:"control-container"},ee={class:"simple-form-field"},te={class:"form-group"},oe={class:"simple-form-field"},le={class:"form-group"},se={key:0},ae={class:"table-container"},ne={class:"empty-warp"},ie={key:0,class:"empty-bg"},re={key:0,class:"pagination-con"},ve=q({__name:"List",setup(de){const y=P(),{listData:w,loading:_,total:u,selectedIds:f,filterParams:i,loadData:d,onSearchSubmit:b,onSortChange:S,onSelectChange:N,onBatchAction:z}=K({apiFunction:R,idKey:"seckillId",defaultParams:{sortField:"",sortOrder:"",keyword:"",page:1,size:y.get("pageSize")}}),D=async h=>{await z(h,j)};return d(),(h,t)=>{const g=n("el-button"),I=n("TigInput"),x=n("el-popconfirm"),V=n("el-space"),A=n("el-form"),r=n("el-table-column"),B=n("el-divider"),O=n("el-table"),T=n("a-spin");return m(),c("div",M,[l("div",Q,[l("div",G,[l("div",H,[o(A,{model:e(i),onSubmit:F(e(b),["prevent"])},{default:s(()=>[l("div",J,[l("div",W,[l("div",X,[l("div",Y,[l("div",Z,[o(I,{modelValue:e(i).keyword,"onUpdate:modelValue":t[0]||(t[0]=a=>e(i).keyword=a),name:"keyword",placeholder:"输入秒杀名称",clearable:"",onClear:e(b)},{append:s(()=>[o(g,{onClick:e(b)},{default:s(()=>[...t[4]||(t[4]=[l("span",{class:"iconfont icon-chakan1"},null,-1)])]),_:1},8,["onClick"])]),_:1},8,["modelValue","onClear"])])])]),l("div",ee,[l("div",te,[o(e(C),{params:{act:"add"},isDrawer:"",path:"promotion/seckill/Info",title:"添加限时秒杀",width:"800px",onOkCallback:e(d)},{default:s(()=>[o(g,{type:"primary"},{default:s(()=>[...t[5]||(t[5]=[p("添加限时秒杀",-1)])]),_:1})]),_:1},8,["onOkCallback"])])]),l("div",oe,[l("div",le,[o(V,null,{default:s(()=>[o(x,{title:"您确认要批量删除所选数据吗？",onConfirm:t[1]||(t[1]=a=>D("del"))},{reference:s(()=>[o(g,{disabled:e(f).length===0},{default:s(()=>[...t[6]||(t[6]=[p("批量删除",-1)])]),_:1},8,["disabled"])]),_:1}),e(f).length>0?(m(),c("span",se,[t[7]||(t[7]=p(" 已选择：",-1)),l("b",null,v(e(f).length),1),t[8]||(t[8]=p(" 项 ",-1))])):k("",!0)]),_:1})])])])])]),_:1},8,["model","onSubmit"])]),l("div",ae,[o(T,{spinning:e(_)},{default:s(()=>[o(O,{data:e(w),loading:e(_),total:e(u),"row-key":"seckillId",onSelectionChange:e(N),onSortChange:e(S)},{empty:s(()=>[l("div",ne,[e(_)?k("",!0):(m(),c("div",ie,"暂无数据"))])]),default:s(()=>[o(r,{type:"selection",width:"32"}),o(r,{label:"秒杀名称",prop:"seckillName",sortable:"custom"}),o(r,{label:"商品名称",prop:"productName"}),o(r,{label:"秒杀开始时间",prop:"seckillStartTime",sortable:"custom",width:"160"}),o(r,{label:"秒杀结束时间",prop:"seckillEndTime",sortable:"custom",width:"160"}),o(r,{width:100,label:"秒杀状态",prop:"statusName"},{default:s(({row:a})=>[l("span",{style:L({color:a.statusName==="已结束"?"red":a.statusName==="进行中"?"green":"black"})},v(a.statusName),5)]),_:1}),o(r,{width:100,fixed:"right",label:"操作"},{default:s(({row:a})=>[o(e(C),{params:{act:"detail",id:a.seckillId},isDrawer:"",title:"编辑限时秒杀",width:"800px",path:"promotion/seckill/Info",onOkCallback:e(d)},{default:s(()=>[...t[9]||(t[9]=[l("a",{class:"btn-link"},"编辑",-1)])]),_:1},8,["params","onOkCallback"]),o(B,{direction:"vertical"}),o(e(U),{params:{id:a.seckillId},requestApi:e($),onAfterDelete:e(d)},{default:s(()=>[...t[10]||(t[10]=[p("删除",-1)])]),_:1},8,["params","requestApi","onAfterDelete"])]),_:1})]),_:1},8,["data","loading","total","onSelectionChange","onSortChange"])]),_:1},8,["spinning"]),e(u)>0?(m(),c("div",re,[o(e(E),{page:e(i).page,"onUpdate:page":t[2]||(t[2]=a=>e(i).page=a),size:e(i).size,"onUpdate:size":t[3]||(t[3]=a=>e(i).size=a),total:e(u),onCallback:e(d)},null,8,["page","size","total","onCallback"])])):k("",!0)])])])])}}});export{ve as default};

import{d as B,x as F,f as u,h as s,z as a,l,e as i,i as e,a1 as L,L as d,k,t as w,g as c}from"./index-BLXOA87U.js";/* empty css             */import"./index-DpgvsnVO.js";import{P as K}from"./PopSelect.vue_vue_type_style_index_0_scoped_5832cf6b_lang-Bx-dDInM.js";import{_ as T}from"./Switch.vue_vue_type_script_setup_true_lang-D9gOYX51.js";import{D as $}from"./DeleteRecord-D6PcywRa.js";/* empty css                                                                    */import{P as R}from"./Pagination-w0YHSLYy.js";import{u as S,d as E,b as j,g as G}from"./suppliers-CxHmR-hR.js";import{u as H}from"./useListRequest-qe4Wn36b.js";import{_ as v}from"./DialogForm.vue_vue_type_script_setup_true_lang-6GHo9HCV.js";import"./index-B16C4gX_.js";const J={class:"container"},M={class:"content_wrapper"},Q={class:"lyecs-table-list-warp"},W={class:"list-table-tool lyecs-search-warp"},X={class:"list-table-tool-row"},Y={class:"simple-form-warp"},Z={class:"simple-form-field"},ee={class:"form-group"},te={class:"control-container"},se={class:"simple-form-field"},ae={class:"form-group"},oe={class:"simple-form-field"},le={class:"form-group"},ie={key:0},ne={class:"table-container"},pe={class:"empty-warp"},re={key:0,class:"empty-bg"},de={key:0,class:"pagination-con"},Se=B({__name:"List",setup(ue){const I=F(),{listData:x,loading:m,total:_,selectedIds:f,filterParams:n,loadData:r,onSearchSubmit:g,onSortChange:D,onSelectChange:N,onBatchAction:A}=H({apiFunction:G,idKey:"suppliersId",defaultParams:{sortField:"",sortOrder:"",keyword:"",page:1,size:I.get("pageSize")}}),V=async y=>{await A(y,j)};return r(),(y,t)=>{const b=i("el-button"),z=i("TigInput"),U=i("el-popconfirm"),q=i("el-space"),p=i("el-table-column"),C=i("el-divider"),O=i("el-table"),P=i("a-spin");return c(),u("div",J,[s("div",M,[s("div",Q,[s("div",W,[t[9]||(t[9]=s("div",{class:"notice-warp"},[s("p",null,"- 添加供应商后，您可以在商品编辑中，设置商品所属供应商"),s("p",null,"- 供应商可通过其管理员账号，登录管理员后台，权限默认为处理订单和退货"),s("p",null,"- 供应商只能看到有自己所属商品的订单，且只能对其所属商品进行发货操作")],-1)),s("div",X,[s("div",Y,[s("div",Z,[s("div",ee,[s("div",te,[a(z,{modelValue:e(n).keyword,"onUpdate:modelValue":t[0]||(t[0]=o=>e(n).keyword=o),name:"keyword",placeholder:"输入关键词",onKeyup:L(e(g),["enter"]),clearable:"",onClear:e(g)},{append:l(()=>[a(b,{onClick:e(g)},{default:l(()=>t[4]||(t[4]=[s("span",{class:"iconfont icon-chakan1"},null,-1)])),_:1,__:[4]},8,["onClick"])]),_:1},8,["modelValue","onKeyup","onClear"])])])]),s("div",se,[s("div",ae,[a(e(v),{params:{act:"add"},isDrawer:"",path:"authority/suppliers/Info",title:"添加供应商",width:"580px",onOkCallback:e(r)},{default:l(()=>[a(b,{type:"primary"},{default:l(()=>t[5]||(t[5]=[d("添加供应商",-1)])),_:1,__:[5]})]),_:1},8,["onOkCallback"])])]),s("div",oe,[s("div",le,[a(q,null,{default:l(()=>[a(U,{title:"您确认要批量删除所选数据吗？",onConfirm:t[1]||(t[1]=o=>V("del"))},{reference:l(()=>[a(b,{disabled:e(f).length===0},{default:l(()=>t[6]||(t[6]=[d("批量删除",-1)])),_:1,__:[6]},8,["disabled"])]),_:1}),e(f).length>0?(c(),u("span",ie,[t[7]||(t[7]=d(" 已选择：",-1)),s("b",null,w(e(f).length),1),t[8]||(t[8]=d(" 项 ",-1))])):k("",!0)]),_:1})])])])])]),s("div",ne,[a(P,{spinning:e(m)},{default:l(()=>[a(O,{data:e(x),loading:e(m),total:e(_),"row-key":"suppliersId",onSelectionChange:e(N),onSortChange:e(D)},{empty:l(()=>[s("div",pe,[e(m)?k("",!0):(c(),u("div",re,"暂无数据"))])]),default:l(()=>[a(p,{type:"selection",width:"32"}),a(p,{label:"供应商名称",width:"200"},{default:l(({row:o})=>[a(e(K),{"org-value":o.suppliersName,"onUpdate:orgValue":h=>o.suppliersName=h,max:10,params:{id:o.suppliersId,field:"suppliersName"},requestApi:e(S),label:"权限组名称",type:"input"},{default:l(()=>[s("div",null,w(o.suppliersName),1)]),_:2},1032,["org-value","onUpdate:orgValue","params","requestApi"])]),_:1}),a(p,{label:"负责人姓名",prop:"contactName"}),a(p,{label:"负责人联系方式",prop:"contactPhone"}),a(p,{label:"供应商状态"},{default:l(({row:o})=>[a(e(T),{checked:o.isCheck,"onUpdate:checked":h=>o.isCheck=h,params:{id:o.suppliersId,field:"isCheck"},requestApi:e(S)},null,8,["checked","onUpdate:checked","params","requestApi"])]),_:1}),a(p,{width:180,fixed:"right",label:"操作"},{default:l(({row:o})=>[a(e(v),{params:{act:"detail",id:o.suppliersId},isDrawer:"",path:"authority/suppliers/Info",title:"编辑供应商",width:"580px",onOkCallback:e(r)},{default:l(()=>t[10]||(t[10]=[s("a",{class:"btn-link"},"编辑",-1)])),_:2,__:[10]},1032,["params","onOkCallback"]),a(C,{direction:"vertical"}),a(e(v),{params:{act:"suppliers",id:o.suppliersId},showOnOk:!1,isDrawer:"",path:"authority/adminUser/List",title:o.suppliersName+" - 账号管理",width:"1000px"},{default:l(()=>t[11]||(t[11]=[s("a",{class:"btn-link"},"账号管理",-1)])),_:2,__:[11]},1032,["params","title"]),a(C,{direction:"vertical"}),a(e($),{params:{id:o.suppliersId},requestApi:e(E),onAfterDelete:e(r)},{default:l(()=>t[12]||(t[12]=[d("删除 ",-1)])),_:2,__:[12]},1032,["params","requestApi","onAfterDelete"])]),_:1})]),_:1},8,["data","loading","total","onSelectionChange","onSortChange"])]),_:1},8,["spinning"]),e(_)>0?(c(),u("div",de,[a(e(R),{page:e(n).page,"onUpdate:page":t[2]||(t[2]=o=>e(n).page=o),size:e(n).size,"onUpdate:size":t[3]||(t[3]=o=>e(n).size=o),total:e(_),onCallback:e(r)},null,8,["page","size","total","onCallback"])])):k("",!0)])])])])}}});export{Se as default};

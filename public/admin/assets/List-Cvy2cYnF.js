import{d as U,W as q,x as O,r as B,f as n,g as f,h as u,i as a,z as s,m as l,j as t,a8 as K,F as L,p as M,k as R,Q as d,l as y,t as v,P as $}from"./index-B52YIGC0.js";/* empty css             */import"./index-KjhYqCTY.js";import{_ as j}from"./Switch.vue_vue_type_script_setup_true_lang-D-71VfIC.js";import{D as E}from"./DeleteRecord-BTXBpwL2.js";/* empty css                                                                    */import{P as Q}from"./Pagination-C8J7-6Em.js";import{t as W,u as G,d as H,a as J}from"./storeTipManage-CIFieGB0.js";import{u as X}from"./useListRequest-CprjeVXp.js";import{_ as h}from"./DialogForm.vue_vue_type_script_setup_true_lang-CT6mpwCc.js";import"./index-C9ZdVeVx.js";const Y={class:"container"},Z={class:"content_wrapper"},tt={class:"lyecs-table-list-warp"},et={class:"list-table-tool lyecs-search-warp"},at={class:"advanced-search-warp list-table-tool-row"},ot={class:"simple-form-warp"},st={class:"simple-form-field"},lt={class:"form-group"},nt={class:"control-container"},it={class:"simple-form-field"},rt={class:"form-group"},dt={class:"control-container"},pt={class:"simple-form-warp"},ct={class:"simple-form-field"},mt={class:"control-container"},ut={class:"list-table-tool-row"},_t={class:"list-table-tool-col"},ft={class:"table-container"},gt={class:"empty-warp"},bt={key:0,class:"empty-bg"},kt={key:0,class:"pagination-con"},At=U({__name:"List",setup(vt){q();const w=O(),{listData:S,loading:g,total:b,filterParams:i,loadData:p,onSearchSubmit:c,onSortChange:D,onSelectChange:T,resetParams:V}=X({apiFunction:W,idKey:"tipId",defaultParams:{page:1,size:w.get("pageSize"),sortField:"",sortOrder:"",keyword:"",status:""}}),C=B({});return(async()=>{try{const m=await J();console.log(m),C.value=m}catch(m){$.error(m.message)}finally{}})(),p(),(m,e)=>{const _=n("el-button"),I=n("TigInput"),x=n("el-option"),z=n("el-select"),P=n("el-space"),r=n("el-table-column"),A=n("el-divider"),F=n("el-table"),N=n("a-spin");return u(),f("div",Y,[a("div",Z,[a("div",tt,[a("div",et,[a("div",at,[a("div",ot,[a("div",st,[a("div",lt,[e[5]||(e[5]=a("label",{class:"control-label"},[a("span",null,"标签名称：")],-1)),a("div",nt,[s(I,{modelValue:t(i).keyword,"onUpdate:modelValue":e[0]||(e[0]=o=>t(i).keyword=o),name:"keyword",placeholder:"输入标签名称",onKeyup:K(t(c),["enter"]),clearable:"",onClear:t(c)},{append:l(()=>[s(_,{onClick:t(c)},{default:l(()=>[...e[4]||(e[4]=[a("span",{class:"iconfont icon-chakan1"},null,-1)])]),_:1},8,["onClick"])]),_:1},8,["modelValue","onKeyup","onClear"])])])]),a("div",it,[a("div",rt,[e[6]||(e[6]=a("label",{class:"control-label"},[a("span",null,"状态 ：")],-1)),a("div",dt,[s(z,{modelValue:t(i).status,"onUpdate:modelValue":e[1]||(e[1]=o=>t(i).status=o),clearable:"",onChange:t(c)},{default:l(()=>[(u(!0),f(L,null,M(C.value,o=>(u(),R(x,{key:o.status,label:o.description,value:o.status},null,8,["label","value"]))),128))]),_:1},8,["modelValue","onChange"])])])]),a("div",pt,[a("div",ct,[e[9]||(e[9]=a("label",{class:"control-label"},null,-1)),a("div",mt,[s(_,{type:"primary",plain:"",onClick:t(c)},{default:l(()=>[...e[7]||(e[7]=[d("搜索",-1)])]),_:1},8,["onClick"]),s(_,{plain:"",onClick:t(V)},{default:l(()=>[...e[8]||(e[8]=[d("重置",-1)])]),_:1},8,["onClick"])])])])])])]),a("div",ut,[a("div",_t,[s(P,null,{default:l(()=>[s(t(h),{params:{act:"add"},isDrawer:"",path:"store/adminPages/storeTipManage/Info",title:"新增标签",width:"600px",onOkCallback:t(p)},{default:l(()=>[s(_,{type:"primary"},{default:l(()=>[...e[10]||(e[10]=[d("新增标签",-1)])]),_:1})]),_:1},8,["onOkCallback"])]),_:1})])]),a("div",ft,[s(N,{spinning:t(g)},{default:l(()=>[s(F,{data:t(S),loading:t(g),total:t(b),"row-key":"tipId","show-overflow-tooltip":"",onSelectionChange:t(T),onSortChange:t(D)},{empty:l(()=>[a("div",gt,[t(g)?y("",!0):(u(),f("div",bt,"暂无数据"))])]),default:l(()=>[s(r,{type:"selection",width:"32"}),s(r,{width:80,label:"序号"},{default:l(({row:o,$index:k})=>[d(v(k+1),1)]),_:1}),s(r,{label:"标签名称",prop:"tipName"},{default:l(({row:o})=>[d(v(o.tipName),1)]),_:1}),s(r,{label:"创建时间",prop:"addTime"},{default:l(({row:o})=>[a("div",null,v(o.addTime||"--"),1)]),_:1}),s(r,{label:"状态",prop:"status"},{default:l(({row:o})=>[s(t(j),{checked:o.status,"onUpdate:checked":k=>o.status=k,params:{id:o.tipId,field:"status"},requestApi:t(G)},null,8,["checked","onUpdate:checked","params","requestApi"])]),_:1}),s(r,{width:130,fixed:"right",label:"操作"},{default:l(({row:o})=>[s(t(h),{params:{act:"detail",id:o.tipId},isDrawer:"",path:"store/adminPages/storeTipManage/Info",title:"编辑区域",width:"600px",onOkCallback:t(p)},{default:l(()=>[...e[11]||(e[11]=[a("a",{class:"btn-link"},"编辑",-1)])]),_:1},8,["params","onOkCallback"]),s(A,{direction:"vertical"}),s(t(E),{params:{id:o.tipId},requestApi:t(H),onAfterDelete:t(p)},{default:l(()=>[...e[12]||(e[12]=[d("删除 ",-1)])]),_:1},8,["params","requestApi","onAfterDelete"])]),_:1})]),_:1},8,["data","loading","total","onSelectionChange","onSortChange"])]),_:1},8,["spinning"]),t(b)>0?(u(),f("div",kt,[s(t(Q),{page:t(i).page,"onUpdate:page":e[2]||(e[2]=o=>t(i).page=o),size:t(i).size,"onUpdate:size":e[3]||(e[3]=o=>t(i).size=o),total:t(b),onCallback:t(p)},null,8,["page","size","total","onCallback"])])):y("",!0)])])])])}}});export{At as default};

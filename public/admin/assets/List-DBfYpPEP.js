/* empty css             */import"./index-KjhYqCTY.js";import{d as B,x as F,r as L,f as m,g as f,h as n,i as a,l as d,z as l,m as o,j as e,Q as i,t as u,k as v,_ as V}from"./index-B52YIGC0.js";import{D as y}from"./DeleteRecord-BTXBpwL2.js";/* empty css                                                                    */import{P as U}from"./Pagination-C8J7-6Em.js";import{g as $,u as D,d as R}from"./material-5oLPtTc4.js";import{_ as j}from"./selectCategory.vue_vue_type_script_setup_true_lang-BAK7jiRQ.js";import{u as E}from"./useListRequest-CprjeVXp.js";import{_ as S}from"./DialogForm.vue_vue_type_script_setup_true_lang-CT6mpwCc.js";import"./index-C9ZdVeVx.js";import"./category-C7a6pPpp.js";const K={class:"container"},Q={class:"content_wrapper"},G={class:"lyecs-table-list-warp"},H={class:"list-table-tool lyecs-search-warp"},J={class:"advanced-search-warp list-table-tool-row"},M={class:"simple-form-warp"},W={class:"simple-form-field"},X={class:"form-group"},Y={class:"control-container"},Z={class:"simple-form-warp"},ee={class:"simple-form-field"},te={class:"control-container"},ae={class:"list-table-tool-row"},se={class:"simple-form-warp"},le={class:"simple-form-field"},oe={class:"table-container"},ie={class:"tit-row flex flex-align-center"},ne={key:0,class:"label"},de={class:"txt"},re={class:"empty-warp"},pe={key:0,class:"empty-bg"},me={key:0,class:"pagination-con"},ce={key:0,class:"selected-action-warp selected-warp-left"},_e={class:"selected-action"},fe=B({__name:"List",setup(ue){const w=F(),{listData:I,loading:C,total:b,selectedIds:A,filterParams:r,loadData:p,onSearchSubmit:h,onSortChange:z,onSelectChange:q,resetParams:O}=E({apiFunction:$,idKey:"id",defaultParams:{page:1,size:w.get("pageSize"),sortField:"",sortOrder:"",categoryId:"",endTime:"",startTime:""}});return p(),L(-1),(ge,t)=>{const c=m("el-button"),T=m("el-form"),g=m("el-table-column"),k=m("el-divider"),x=m("el-space"),N=m("el-table"),P=m("a-spin");return n(),f("div",K,[a("div",Q,[a("div",G,[a("div",H,[l(T,{model:e(r),name:"form"},{default:o(()=>[a("div",J,[a("div",M,[a("div",W,[a("div",X,[t[3]||(t[3]=a("label",{class:"control-label"},[a("span",null,"素材分类：")],-1)),a("div",Y,[l(j,{categoryId:e(r).categoryId,"onUpdate:categoryId":t[0]||(t[0]=s=>e(r).categoryId=s),onOnChange:e(h)},null,8,["categoryId","onOnChange"])])])]),a("div",Z,[a("div",ee,[t[6]||(t[6]=a("label",{class:"control-label"},null,-1)),a("div",te,[l(c,{type:"primary",plain:"",onClick:e(h)},{default:o(()=>[...t[4]||(t[4]=[i("搜索",-1)])]),_:1},8,["onClick"]),l(c,{plain:"",onClick:e(O)},{default:o(()=>[...t[5]||(t[5]=[i("重置",-1)])]),_:1},8,["onClick"])])])])])]),a("div",ae,[a("div",se,[a("div",le,[l(e(S),{isDrawer:"",onOkCallback:e(p),title:"添加素材",width:"700px",path:"salesman/material/Info",params:{act:"add"}},{default:o(()=>[l(c,{type:"primary"},{default:o(()=>[...t[7]||(t[7]=[i("立即新建",-1)])]),_:1})]),_:1},8,["onOkCallback"])])])])]),_:1},8,["model"])]),a("div",oe,[l(P,{spinning:e(C)},{default:o(()=>[l(N,{data:e(I),total:e(b),"row-key":"id",onSelectionChange:e(q),onSortChange:e(z)},{empty:o(()=>[a("div",re,[e(C)?d("",!0):(n(),f("div",pe,"暂无数据"))])]),default:o(()=>[l(g,{label:"素材内容",prop:"content",fixed:"left"},{default:o(({row:s})=>[a("div",ie,[s.isTop!=0?(n(),f("div",ne,"置顶")):d("",!0),a("div",de,u(s.content||"--"),1)])]),_:1}),l(g,{label:"相关商品",width:200},{default:o(({row:s})=>{var _;return[i(u(((_=s.product)==null?void 0:_.productName)||"--"),1)]}),_:1}),l(g,{label:"分类",width:160},{default:o(({row:s})=>{var _;return[i(u(((_=s.category)==null?void 0:_.categoryName)||"--"),1)]}),_:1}),l(g,{width:200,fixed:"right",label:"操作"},{default:o(({row:s})=>[l(x,{size:0},{default:o(()=>[s.isTop!=0?(n(),v(e(y),{key:0,onAfterDelete:e(p),requestApi:e(D),params:{id:s.id,field:"isTop",val:0},title:"确定取消置顶吗？"},{default:o(()=>[...t[8]||(t[8]=[i("取消置顶",-1)])]),_:1},8,["onAfterDelete","requestApi","params"])):d("",!0),s.isTop!=0?(n(),v(k,{key:1,direction:"vertical"})):d("",!0),l(e(S),{params:{act:"detail",id:s.id},isDrawer:"",path:"salesman/material/Info",title:"编辑素材",width:"700px",onOkCallback:e(p)},{default:o(()=>[...t[9]||(t[9]=[a("a",{class:"btn-link"},"编辑",-1)])]),_:1},8,["params","onOkCallback"]),l(k,{direction:"vertical"}),l(e(y),{onAfterDelete:e(p),requestApi:e(D),params:{id:s.id,field:"isAvailable",val:s.isAvailable==1?0:1},title:`确认${s.isAvailable==1?"失效":"恢复"}？`,message:"操作成功"},{default:o(()=>[i(u(s.isAvailable==1?"失效":"恢复"),1)]),_:2},1032,["onAfterDelete","requestApi","params","title"]),s.isAvailable!==1?(n(),v(k,{key:2,direction:"vertical"})):d("",!0),s.isAvailable!==1?(n(),v(e(y),{key:3,onAfterDelete:e(p),requestApi:e(R),params:{id:s.id}},{default:o(()=>[...t[10]||(t[10]=[i("删除",-1)])]),_:1},8,["onAfterDelete","requestApi","params"])):d("",!0)]),_:2},1024)]),_:1})]),_:1},8,["data","total","onSelectionChange","onSortChange"])]),_:1},8,["spinning"]),e(b)>0?(n(),f("div",me,[l(e(U),{page:e(r).page,"onUpdate:page":t[1]||(t[1]=s=>e(r).page=s),size:e(r).size,"onUpdate:size":t[2]||(t[2]=s=>e(r).size=s),total:e(b),onCallback:e(p)},null,8,["page","size","total","onCallback"])])):d("",!0)]),e(A).length>0?(n(),f("div",ce,[a("div",_e,[l(x,null,{default:o(()=>[a("span",null,[t[11]||(t[11]=i("已选择：",-1)),a("b",null,u(e(A).length),1),t[12]||(t[12]=i(" 项",-1))]),l(c,null,{default:o(()=>[...t[13]||(t[13]=[i("设置等级",-1)])]),_:1}),l(c,null,{default:o(()=>[...t[14]||(t[14]=[i("分组",-1)])]),_:1}),l(c,null,{default:o(()=>[...t[15]||(t[15]=[i("清退",-1)])]),_:1})]),_:1})])])):d("",!0)])])])}}}),ze=V(fe,[["__scopeId","data-v-7e03b129"]]);export{ze as default};

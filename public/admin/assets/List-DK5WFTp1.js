import{d as P,x as B,f as s,g as m,h as c,i as l,z as a,m as n,j as e,a8 as K,Q as p,l as v,t as _}from"./index-B52YIGC0.js";/* empty css             */import"./index-KjhYqCTY.js";import{P as C}from"./PopSelect.vue_vue_type_style_index_0_scoped_5832cf6b_lang-CRFq-JzZ.js";import{D as N}from"./DeleteRecord-BTXBpwL2.js";/* empty css                                                                    */import{P as $}from"./Pagination-C8J7-6Em.js";import{g as R,u as S,d as j,b as E}from"./friendLinks-6_LXMSWv.js";import{_ as G}from"./Image.vue_vue_type_script_setup_true_lang-B8qXJKJq.js";import{u as Q}from"./useListRequest-CprjeVXp.js";import{_ as w}from"./DialogForm.vue_vue_type_script_setup_true_lang-CT6mpwCc.js";import"./index-C9ZdVeVx.js";import"./format-BxqOrW-w.js";const H={class:"container"},J={class:"content_wrapper"},M={class:"lyecs-table-list-warp"},W={class:"list-table-tool lyecs-search-warp"},X={class:"list-table-tool-row"},Y={class:"simple-form-warp"},Z={class:"simple-form-field"},ee={class:"form-group"},te={class:"control-container"},oe={class:"simple-form-field"},ae={class:"form-group"},le={class:"simple-form-field"},ne={class:"form-group"},se={key:0},ie={class:"table-container"},re=["href"],de={class:"empty-warp"},pe={key:0,class:"empty-bg"},me={key:0,class:"pagination-con"},Oe=P({__name:"List",setup(ce){const x=B(),{listData:O,loading:u,total:f,selectedIds:g,filterParams:i,loadData:d,onSearchSubmit:k,onSortChange:I,onSelectChange:V,onBatchAction:L}=Q({apiFunction:R,idKey:"linkId",defaultParams:{sortField:"",sortOrder:"",keyword:"",page:1,size:x.get("pageSize")}}),U=async y=>{await L(y,E)};return d(),(y,o)=>{const b=s("el-button"),A=s("TigInput"),D=s("el-popconfirm"),z=s("el-space"),r=s("el-table-column"),F=s("el-divider"),q=s("el-table"),T=s("a-spin");return c(),m("div",H,[l("div",J,[l("div",M,[l("div",W,[l("div",X,[l("div",Y,[l("div",Z,[l("div",ee,[l("div",te,[a(A,{modelValue:e(i).keyword,"onUpdate:modelValue":o[0]||(o[0]=t=>e(i).keyword=t),name:"keyword",placeholder:"输入链接名称",onKeyup:K(e(k),["enter"]),clearable:"",onClear:e(k)},{append:n(()=>[a(b,{onClick:e(k)},{default:n(()=>[...o[4]||(o[4]=[l("span",{class:"iconfont icon-chakan1"},null,-1)])]),_:1},8,["onClick"])]),_:1},8,["modelValue","onKeyup","onClear"])])])]),l("div",oe,[l("div",ae,[a(e(w),{params:{act:"add"},isDrawer:"",path:"setting/friendLinks/Info",title:"添加友情链接",width:"580px",onOkCallback:e(d)},{default:n(()=>[a(b,{type:"primary"},{default:n(()=>[...o[5]||(o[5]=[p("添加友情链接",-1)])]),_:1})]),_:1},8,["onOkCallback"])])]),l("div",le,[l("div",ne,[a(z,null,{default:n(()=>[a(D,{title:"您确认要批量删除所选数据吗？",onConfirm:o[1]||(o[1]=t=>U("del"))},{reference:n(()=>[a(b,{disabled:e(g).length===0},{default:n(()=>[...o[6]||(o[6]=[p("批量删除",-1)])]),_:1},8,["disabled"])]),_:1}),e(g).length>0?(c(),m("span",se,[o[7]||(o[7]=p(" 已选择：",-1)),l("b",null,_(e(g).length),1),o[8]||(o[8]=p(" 项 ",-1))])):v("",!0)]),_:1})])])])])]),l("div",ie,[a(T,{spinning:e(u)},{default:n(()=>[a(q,{data:e(O),loading:e(u),total:e(f),"row-key":"linkId",onSelectionChange:e(V),onSortChange:e(I)},{empty:n(()=>[l("div",de,[e(u)?v("",!0):(c(),m("div",pe,"暂无数据"))])]),default:n(()=>[a(r,{type:"selection",width:"32"}),a(r,{label:"链接名称"},{default:n(({row:t})=>[a(e(C),{"org-value":t.linkTitle,"onUpdate:orgValue":h=>t.linkTitle=h,max:10,params:{id:t.linkId,field:"linkTitle"},requestApi:e(S),label:"链接名称",type:"input"},{default:n(()=>[l("div",null,_(t.linkTitle),1)]),_:2},1032,["org-value","onUpdate:orgValue","params","requestApi"])]),_:1}),a(r,{label:"链接地址",prop:"linkUrl"},{default:n(({row:t})=>[l("a",{href:t.linkUrl,target:"_blank"},_(t.linkUrl),9,re)]),_:1}),a(r,{label:"链接LOGO"},{default:n(({row:t})=>[a(e(G),{src:t.linkLogo,fit:"contain",style:{height:"25px",width:"60px"}},null,8,["src"])]),_:1}),a(r,{label:"排序",prop:"sortOrder",sortable:"custom"},{default:n(({row:t})=>[a(e(C),{"org-value":t.sortOrder,"onUpdate:orgValue":h=>t.sortOrder=h,params:{id:t.linkId,field:"sortOrder"},requestApi:e(S),extra:"默认值为50，数值越小，排序越靠前",label:"排序",type:"integer"},{default:n(()=>[l("div",null,_(t.sortOrder),1)]),_:2},1032,["org-value","onUpdate:orgValue","params","requestApi"])]),_:1}),a(r,{width:150,fixed:"right",label:"操作"},{default:n(({row:t})=>[a(e(w),{params:{act:"detail",id:t.linkId},isDrawer:"",path:"setting/friendLinks/Info",title:"编辑友情链接",width:"580px",onOkCallback:e(d)},{default:n(()=>[...o[9]||(o[9]=[l("a",{class:"btn-link"},"编辑",-1)])]),_:1},8,["params","onOkCallback"]),a(F,{direction:"vertical"}),a(e(N),{params:{id:t.linkId},requestApi:e(j),onAfterDelete:e(d)},{default:n(()=>[...o[10]||(o[10]=[p("删除 ",-1)])]),_:1},8,["params","requestApi","onAfterDelete"])]),_:1})]),_:1},8,["data","loading","total","onSelectionChange","onSortChange"])]),_:1},8,["spinning"]),e(f)>0?(c(),m("div",me,[a(e($),{page:e(i).page,"onUpdate:page":o[2]||(o[2]=t=>e(i).page=t),size:e(i).size,"onUpdate:size":o[3]||(o[3]=t=>e(i).size=t),total:e(f),onCallback:e(d)},null,8,["page","size","total","onCallback"])])):v("",!0)])])])])}}});export{Oe as default};

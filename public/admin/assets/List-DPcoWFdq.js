import{d as q,x as B,f as l,g as c,h as _,i as s,z as o,m as i,j as e,a8 as O,Q as n,l as v,t as m}from"./index-B52YIGC0.js";/* empty css             */import"./index-KjhYqCTY.js";import{P as U}from"./PopSelect.vue_vue_type_style_index_0_scoped_5832cf6b_lang-CRFq-JzZ.js";import{D as K}from"./DeleteRecord-BTXBpwL2.js";/* empty css                                                                    */import{P as L}from"./Pagination-C8J7-6Em.js";import{g as R,u as $,d as j,b as E}from"./shippingTpl-B-kc-mDP.js";import{u as Q}from"./useListRequest-CprjeVXp.js";import{_ as y}from"./DialogForm.vue_vue_type_script_setup_true_lang-CT6mpwCc.js";import"./index-C9ZdVeVx.js";const G={class:"container"},H={class:"content_wrapper"},J={class:"lyecs-table-list-warp"},M={class:"list-table-tool lyecs-search-warp"},W={class:"list-table-tool-row"},X={class:"simple-form-warp"},Y={class:"simple-form-field"},Z={class:"form-group"},ee={class:"control-container"},te={class:"simple-form-field"},oe={class:"form-group"},ae={class:"simple-form-field"},se={class:"form-group"},ie={key:0},le={class:"table-container"},ne={class:"empty-warp"},pe={key:0,class:"empty-bg"},de={key:0,class:"pagination-con"},Ce=q({__name:"List",setup(re){const C=B(),{listData:S,loading:u,total:g,selectedIds:f,filterParams:d,loadData:r,onSearchSubmit:h,onSortChange:T,onSelectChange:w,onBatchAction:D}=Q({apiFunction:R,idKey:"shippingTplId",defaultParams:{sortField:"",sortOrder:"",keyword:"",page:1,size:C.get("pageSize")}}),I=async k=>{await D(k,E)};return r(),(k,t)=>{const b=l("el-button"),x=l("TigInput"),V=l("el-popconfirm"),z=l("el-space"),p=l("el-table-column"),N=l("el-divider"),A=l("el-table"),F=l("a-spin");return _(),c("div",G,[s("div",H,[s("div",J,[s("div",M,[s("div",W,[s("div",X,[s("div",Y,[s("div",Z,[s("div",ee,[o(x,{modelValue:e(d).keyword,"onUpdate:modelValue":t[0]||(t[0]=a=>e(d).keyword=a),name:"keyword",placeholder:"输入模板名称",onKeyup:O(e(h),["enter"]),clearable:"",onClear:e(h)},{append:i(()=>[o(b,{onClick:e(h)},{default:i(()=>[...t[4]||(t[4]=[s("span",{class:"iconfont icon-chakan1"},null,-1)])]),_:1},8,["onClick"])]),_:1},8,["modelValue","onKeyup","onClear"])])])]),s("div",te,[s("div",oe,[o(e(y),{params:{act:"add"},isDrawer:"",path:"setting/shippingTpl/Info",title:"添加运费模板",width:"900px",onOkCallback:e(r)},{default:i(()=>[o(b,{type:"primary"},{default:i(()=>[...t[5]||(t[5]=[n("添加运费模板",-1)])]),_:1})]),_:1},8,["onOkCallback"])])]),s("div",ae,[s("div",se,[o(z,null,{default:i(()=>[o(V,{title:"您确认要批量删除所选数据吗？",onConfirm:t[1]||(t[1]=a=>I("del"))},{reference:i(()=>[o(b,{disabled:e(f).length===0},{default:i(()=>[...t[6]||(t[6]=[n("批量删除",-1)])]),_:1},8,["disabled"])]),_:1}),e(f).length>0?(_(),c("span",ie,[t[7]||(t[7]=n(" 已选择：",-1)),s("b",null,m(e(f).length),1),t[8]||(t[8]=n(" 项 ",-1))])):v("",!0)]),_:1})])])])])]),s("div",le,[o(F,{spinning:e(u)},{default:i(()=>[o(A,{data:e(S),loading:e(u),total:e(g),"row-key":"shippingTplId",onSelectionChange:e(w),onSortChange:e(T)},{empty:i(()=>[s("div",ne,[e(u)?v("",!0):(_(),c("div",pe,"暂无数据"))])]),default:i(()=>[o(p,{type:"selection",width:"32"}),o(p,{label:"模板名称"},{default:i(({row:a})=>[o(e(U),{"org-value":a.shippingTplName,"onUpdate:orgValue":P=>a.shippingTplName=P,max:10,params:{id:a.shippingTplId,field:"shippingTplName"},requestApi:e($),label:"模板名称",type:"input"},{default:i(()=>[s("div",null,m(a.shippingTplName),1)]),_:2},1032,["org-value","onUpdate:orgValue","params","requestApi"])]),_:1}),o(p,{label:"是否包邮",prop:"isFree"},{default:i(({row:a})=>[n(m(a.isFree===0?"自定义运费":"卖家承担运费"),1)]),_:1}),o(p,{label:"计价方式",prop:"isSupportCod"},{default:i(({row:a})=>[n(m(a.pricingType===1?"按件数":"按重量"),1)]),_:1}),o(p,{label:"发货时间",prop:"shippingTime",sortable:"custom"}),o(p,{label:"是否默认",prop:"isSupportCod"},{default:i(({row:a})=>[n(m(a.isDefault===1?"是":"--"),1)]),_:1}),o(p,{width:150,fixed:"right",label:"操作"},{default:i(({row:a})=>[o(e(y),{params:{act:"detail",id:a.shippingTplId},isDrawer:"",path:"setting/shippingTpl/Info",title:"编辑运费模板",width:"900px",onOkCallback:e(r)},{default:i(()=>[...t[9]||(t[9]=[s("a",{class:"btn-link"},"编辑",-1)])]),_:1},8,["params","onOkCallback"]),o(N,{direction:"vertical"}),o(e(K),{params:{id:a.shippingTplId},requestApi:e(j),onAfterDelete:e(r)},{default:i(()=>[...t[10]||(t[10]=[n("删除 ",-1)])]),_:1},8,["params","requestApi","onAfterDelete"])]),_:1})]),_:1},8,["data","loading","total","onSelectionChange","onSortChange"])]),_:1},8,["spinning"]),e(g)>0?(_(),c("div",de,[o(e(L),{page:e(d).page,"onUpdate:page":t[2]||(t[2]=a=>e(d).page=a),size:e(d).size,"onUpdate:size":t[3]||(t[3]=a=>e(d).size=a),total:e(g),onCallback:e(r)},null,8,["page","size","total","onCallback"])])):v("",!0)])])])])}}});export{Ce as default};

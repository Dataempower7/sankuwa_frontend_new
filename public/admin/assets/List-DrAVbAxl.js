/* empty css             */import"./index-DpgvsnVO.js";import{P as B}from"./PopSelect.vue_vue_type_style_index_0_scoped_5832cf6b_lang-Bx-dDInM.js";import{d as O,x as I,r as v,ah as T,o as K,f as y,h as s,z as t,l,e as u,k as w,i,L as _,t as b,K as D,g as h}from"./index-BLXOA87U.js";import{_ as S}from"./Switch.vue_vue_type_script_setup_true_lang-D9gOYX51.js";import{D as M}from"./DeleteRecord-D6PcywRa.js";/* empty css                                                                    */import{P as R}from"./Pagination-w0YHSLYy.js";import{u as x,d as j,g as G,b as H}from"./languagesList-g8H0RafD.js";import{_ as U}from"./DialogForm.vue_vue_type_script_setup_true_lang-6GHo9HCV.js";import"./index-B16C4gX_.js";const J={class:"container"},Q={class:"content_wrapper"},W={class:"lyecs-table-list-warp"},X={class:"list-table-tool lyecs-search-warp"},Y={class:"list-table-tool-row"},Z={class:"list-table-tool-col"},ee={key:0},te={class:"table-container"},ae={style:{position:"relative"}},le={class:"empty-warp"},se={key:0,class:"empty-bg"},oe={key:0,class:"pagination-con"},ve=O({__name:"List",props:{promotionType:{type:Number,default:1}},setup(ne,{expose:q}){const z=I(),A=v(),f=v(!0),g=v(0),c=v([]),p=T({page:1,size:z.get("pageSize"),sortField:"",sortOrder:"",keyword:""}),d=async()=>{f.value=!0;try{const o=await G({...p});A.value=o.records,g.value=o.total}catch(o){D.error(o.message)}finally{f.value=!1}};K(()=>{d()});const L=({prop:o,order:e})=>{p.sortField=o,p.sortOrder=e=="ascending"?"asc":e=="descending"?"desc":"",d()},k=async(o,e)=>{try{const m=await H(o,{ids:c.value,value:e});D.success("操作成功"),d()}catch(m){D.error(m.message)}},V=o=>{c.value=o.map(e=>e.id)};return q({loadFilter:d}),(o,e)=>{const m=u("el-button"),C=u("el-popconfirm"),E=u("el-space"),F=u("el-form"),r=u("el-table-column"),N=u("el-divider"),P=u("el-table"),$=u("a-spin");return h(),y("div",J,[s("div",Q,[s("div",W,[s("div",X,[t(F,{model:p},{default:l(()=>[s("div",Y,[s("div",Z,[t(E,null,{default:l(()=>[t(i(U),{params:{act:"add"},isDrawer:"",path:"setting/multilingual/languagesList/Info",title:"添加语言",width:"580px",onOkCallback:d},{default:l(()=>[t(m,{type:"primary"},{default:l(()=>e[5]||(e[5]=[_("添加语言",-1)])),_:1,__:[5]})]),_:1}),t(C,{title:"您确认要批量删除所选数据吗？",onConfirm:e[0]||(e[0]=a=>k("del"))},{reference:l(()=>[t(m,{disabled:c.value.length===0},{default:l(()=>e[6]||(e[6]=[_("批量删除",-1)])),_:1,__:[6]},8,["disabled"])]),_:1}),t(C,{title:"您确认要批量启用所选数据吗？",onConfirm:e[1]||(e[1]=a=>k("enabled",1))},{reference:l(()=>[t(m,{disabled:c.value.length===0},{default:l(()=>e[7]||(e[7]=[_("批量启用",-1)])),_:1,__:[7]},8,["disabled"])]),_:1}),t(C,{title:"您确认要批量取消启用所选数据吗？",onConfirm:e[2]||(e[2]=a=>k("enabled",0))},{reference:l(()=>[t(m,{disabled:c.value.length===0},{default:l(()=>e[8]||(e[8]=[_("批量取消启用",-1)])),_:1,__:[8]},8,["disabled"])]),_:1}),c.value.length>0?(h(),y("span",ee,[e[9]||(e[9]=_(" 已选择：",-1)),s("b",null,b(c.value.length),1),e[10]||(e[10]=_(" 项 ",-1))])):w("",!0)]),_:1})])])]),_:1},8,["model"])]),s("div",te,[t($,{spinning:f.value},{default:l(()=>[t(P,{data:A.value,"row-key":"id",onSelectionChange:V,total:g.value,onSortChange:L,loading:f.value},{empty:l(()=>[s("div",le,[f.value?w("",!0):(h(),y("div",se,"暂无数据"))])]),default:l(()=>[t(r,{type:"selection",width:"32"}),t(r,{label:"语言名称",prop:"language",width:150},{default:l(({row:a})=>[s("div",ae,[s("div",null,b(a.language||"--"),1)])]),_:1}),t(r,{label:"语言识别码",prop:"localeCode",width:"200"}),t(r,{label:"货币",prop:"name",width:"200"},{default:l(({row:a})=>{var n;return[s("div",null,b(((n=a.currency)==null?void 0:n.name)||"--"),1)]}),_:1}),t(r,{label:"货币符号",prop:"symbol",width:"200"},{default:l(({row:a})=>{var n;return[s("div",null,b(((n=a.currency)==null?void 0:n.symbol)||"--"),1)]}),_:1}),t(r,{label:"最后更新时间",prop:"lastUpdated",width:"200",sortable:"custom"}),t(r,{label:"是否启用",prop:"isEnabled",sortable:"custom",width:110},{default:l(({row:a})=>[t(i(S),{checked:a.isEnabled,"onUpdate:checked":n=>a.isEnabled=n,requestApi:i(x),params:{id:a.id,field:"isEnabled"}},null,8,["checked","onUpdate:checked","requestApi","params"])]),_:1}),t(r,{label:"是否默认",prop:"isDefault",sortable:"custom",width:110},{default:l(({row:a})=>[t(i(S),{checked:a.isDefault,"onUpdate:checked":n=>a.isDefault=n,requestApi:i(x),onCallback:d,params:{id:a.id,field:"isDefault"}},null,8,["checked","onUpdate:checked","requestApi","params"])]),_:1}),t(r,{label:"排序",prop:"sort",sortable:"custom"},{default:l(({row:a})=>[t(i(B),{"org-value":a.sort,"onUpdate:orgValue":n=>a.sort=n,params:{id:a.id,field:"sort"},requestApi:i(x),label:"排序",type:"integer",onCallback:d},{default:l(()=>[s("div",null,b(a.sort||"--"),1)]),_:2},1032,["org-value","onUpdate:orgValue","params","requestApi"])]),_:1}),t(r,{label:"操作",fixed:"right",width:"150"},{default:l(({row:a})=>[t(i(U),{isDrawer:"",onOkCallback:d,title:"编辑语言",width:"580px",path:"setting/multilingual/languagesList/Info",params:{act:"detail",id:a.id}},{default:l(()=>e[11]||(e[11]=[s("a",{class:"btn-link"},"编辑",-1)])),_:2,__:[11]},1032,["params"]),t(N,{direction:"vertical"}),t(i(M),{onAfterDelete:d,requestApi:i(j),params:{id:a.id}},{default:l(()=>e[12]||(e[12]=[_("删除",-1)])),_:2,__:[12]},1032,["requestApi","params"])]),_:1})]),_:1},8,["data","total","loading"])]),_:1},8,["spinning"]),g.value>0?(h(),y("div",oe,[t(i(R),{page:p.page,"onUpdate:page":e[3]||(e[3]=a=>p.page=a),size:p.size,"onUpdate:size":e[4]||(e[4]=a=>p.size=a),total:g.value,onCallback:d},null,8,["page","size","total"])])):w("",!0)])])])])}}});export{ve as default};

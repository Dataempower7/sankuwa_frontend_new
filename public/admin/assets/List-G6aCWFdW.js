import{d as $,x as L,f as i,g as u,h as m,i as l,z as o,m as s,j as e,Q as c,l as k,t as _,q as T}from"./index-B52YIGC0.js";/* empty css             */import"./index-KjhYqCTY.js";import{P as y}from"./PopSelect.vue_vue_type_style_index_0_scoped_5832cf6b_lang-CRFq-JzZ.js";import{_ as R}from"./Switch.vue_vue_type_script_setup_true_lang-D-71VfIC.js";import{D as j}from"./DeleteRecord-BTXBpwL2.js";/* empty css                                                                    */import{P as E}from"./Pagination-C8J7-6Em.js";import{_ as K}from"./Image.vue_vue_type_script_setup_true_lang-B8qXJKJq.js";import{g as M,u as f,d as Q,b as G}from"./productServices-CYxWbb8w.js";import{u as H}from"./useListRequest-CprjeVXp.js";import{_ as I}from"./DialogForm.vue_vue_type_script_setup_true_lang-CT6mpwCc.js";import"./index-C9ZdVeVx.js";import"./format-BxqOrW-w.js";const J={class:"container"},W={class:"content_wrapper"},X={class:"lyecs-table-list-warp"},Y={class:"list-table-tool lyecs-search-warp"},Z={class:"list-table-tool-row"},ee={class:"simple-form-warp"},te={class:"simple-form-field"},oe={class:"form-group"},ae={class:"control-container"},se={class:"simple-form-field"},le={class:"form-group"},ie={class:"simple-form-field"},re={class:"form-group"},ne={key:0},de={class:"table-container"},pe={style:{position:"relative"}},ce={class:"empty-warp"},ue={key:0,class:"empty-bg"},me={key:0,class:"pagination-con"},Ve=$({__name:"List",setup(_e){const D=L(),{listData:O,loading:v,total:g,selectedIds:b,filterParams:r,loadData:p,onSearchSubmit:S,onSortChange:x,onSelectChange:A,onBatchAction:V}=H({apiFunction:M,idKey:"productServiceId",defaultParams:{sortField:"",sortOrder:"",keyword:"",page:1,size:D.get("pageSize")}}),q=async C=>{await V(C,G)};return p(),(C,a)=>{const h=i("el-button"),U=i("TigInput"),w=i("el-popconfirm"),P=i("el-space"),z=i("el-form"),n=i("el-table-column"),N=i("el-divider"),B=i("el-table"),F=i("a-spin");return m(),u("div",J,[l("div",W,[l("div",X,[l("div",Y,[o(z,{model:e(r),onSubmit:T(e(S),["prevent"])},{default:s(()=>[l("div",Z,[l("div",ee,[l("div",te,[l("div",oe,[l("div",ae,[o(U,{modelValue:e(r).keyword,"onUpdate:modelValue":a[0]||(a[0]=t=>e(r).keyword=t),name:"keyword",placeholder:"输入服务名称",clearable:"",onClear:e(S)},{append:s(()=>[o(h,{onClick:e(S)},{default:s(()=>[...a[4]||(a[4]=[l("span",{class:"iconfont icon-chakan1"},null,-1)])]),_:1},8,["onClick"])]),_:1},8,["modelValue","onClear"])])])]),l("div",se,[l("div",le,[o(e(I),{params:{act:"add"},isDrawer:"",path:"product/productServices/Info",title:"添加商品服务",width:"600px",onOkCallback:e(p)},{default:s(()=>[o(h,{type:"primary"},{default:s(()=>[...a[5]||(a[5]=[c("添加商品服务",-1)])]),_:1})]),_:1},8,["onOkCallback"])])]),l("div",ie,[l("div",re,[o(P,null,{default:s(()=>[o(w,{title:"您确认要批量删除所选数据吗？",onConfirm:a[1]||(a[1]=t=>q("del"))},{reference:s(()=>[o(h,{disabled:e(b).length===0},{default:s(()=>[...a[6]||(a[6]=[c("批量删除",-1)])]),_:1},8,["disabled"])]),_:1}),e(b).length>0?(m(),u("span",ne,[a[7]||(a[7]=c(" 已选择：",-1)),l("b",null,_(e(b).length),1),a[8]||(a[8]=c(" 项 ",-1))])):k("",!0)]),_:1})])])])])]),_:1},8,["model","onSubmit"])]),l("div",de,[o(F,{spinning:e(v)},{default:s(()=>[o(B,{data:e(O),loading:e(v),total:e(g),"row-key":"productServiceId",onSelectionChange:e(A),onSortChange:e(x)},{empty:s(()=>[l("div",ce,[e(v)?k("",!0):(m(),u("div",ue,"暂无数据"))])]),default:s(()=>[o(n,{type:"selection",width:"32"}),o(n,{width:300,label:"服务名称",prop:"productServiceId",sortable:"custom"},{default:s(({row:t})=>[l("div",pe,[o(e(y),{label:"服务名称",type:"textarea",requestApi:e(f),"org-value":t.productServiceName,"onUpdate:orgValue":d=>t.productServiceName=d,params:{id:t.productServiceId,field:"productServiceName"},max:100},{default:s(()=>[l("div",null,_(t.productServiceName),1)]),_:2},1032,["requestApi","org-value","onUpdate:orgValue","params"])])]),_:1}),o(n,{label:"图标"},{default:s(({row:t})=>[o(e(K),{src:t.icoImg,fit:"contain",style:{height:"25px"}},null,8,["src"])]),_:1}),o(n,{label:"简介",prop:"productServiceDesc"},{default:s(({row:t})=>[o(e(y),{max:100,label:"简介",type:"input",requestApi:e(f),"org-value":t.productServiceDesc,"onUpdate:orgValue":d=>t.productServiceDesc=d,params:{id:t.productServiceId,field:"productServiceDesc"}},{default:s(()=>[l("div",null,_(t.productServiceDesc),1)]),_:2},1032,["requestApi","org-value","onUpdate:orgValue","params"])]),_:1}),o(n,{label:"默认显示",prop:"defaultOn",sortable:"custom"},{default:s(({row:t})=>[o(e(R),{checked:t.defaultOn,"onUpdate:checked":d=>t.defaultOn=d,requestApi:e(f),params:{id:t.productServiceId,field:"defaultOn"}},null,8,["checked","onUpdate:checked","requestApi","params"])]),_:1}),o(n,{label:"排序",prop:"sortOrder",sortable:"custom"},{default:s(({row:t})=>[o(e(y),{label:"排序",type:"integer",requestApi:e(f),"org-value":t.sortOrder,"onUpdate:orgValue":d=>t.sortOrder=d,params:{id:t.productServiceId,field:"sortOrder"},extra:"默认值为50，数值越小，排序越靠前"},{default:s(()=>[l("div",null,_(t.sortOrder),1)]),_:2},1032,["requestApi","org-value","onUpdate:orgValue","params"])]),_:1}),o(n,{width:150,fixed:"right",label:"操作"},{default:s(({row:t})=>[o(e(I),{params:{act:"detail",id:t.productServiceId},isDrawer:"",path:"product/productServices/Info",title:"编辑商品服务",width:"600px",onOkCallback:e(p)},{default:s(()=>[...a[9]||(a[9]=[l("a",{class:"btn-link"},"编辑",-1)])]),_:1},8,["params","onOkCallback"]),o(N,{direction:"vertical"}),o(e(j),{params:{id:t.productServiceId},requestApi:e(Q),onAfterDelete:e(p)},{default:s(()=>[...a[10]||(a[10]=[c("删除 ",-1)])]),_:1},8,["params","requestApi","onAfterDelete"])]),_:1})]),_:1},8,["data","loading","total","onSelectionChange","onSortChange"])]),_:1},8,["spinning"]),e(g)>0?(m(),u("div",me,[o(e(E),{page:e(r).page,"onUpdate:page":a[2]||(a[2]=t=>e(r).page=t),size:e(r).size,"onUpdate:size":a[3]||(a[3]=t=>e(r).size=t),total:e(g),onCallback:e(p)},null,8,["page","size","total","onCallback"])])):k("",!0)])])])])}}});export{Ve as default};

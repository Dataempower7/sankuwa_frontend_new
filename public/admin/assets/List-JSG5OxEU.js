import{d as R,b as Y,x as q,r as C,o as O,an as j,f as c,g as l,h as i,i as n,l as m,z as s,m as a,j as o,a8 as A,Q as p,t as r,_ as E}from"./index-B52YIGC0.js";/* empty css             *//* empty css                                                                    */import{P as $}from"./Pagination-C8J7-6Em.js";import{c as Q}from"./shop-CBisV8Of.js";import{b as G}from"./dashboard-pwtwnvY5.js";import"./SelectTimeInterval.vue_vue_type_style_index_0_scoped_207fe586_lang-1fz1RqDZ.js";import"./index-KjhYqCTY.js";/* empty css                                                                  *//* empty css                                                                              *//* empty css                                                                     */import{S as H}from"./SelectTimeInterval-BUZ-hmxo.js";import{u as J}from"./useListRequest-CprjeVXp.js";import"./time-EzYK4E-P.js";import"./index-C9ZdVeVx.js";const W={class:"container"},X={class:"content_wrapper"},Z={class:"container"},ee={class:"lyecs-table-list-warp"},te={class:"list-table-tool lyecs-search-warp"},oe={class:"list-table-tool-row"},ne={class:"simple-form-warp"},se={class:"simple-form-field"},ae={class:"form-group"},le={class:"control-container"},ie={class:"simple-form-field"},de={class:"form-group"},re={class:"simple-form-field"},ce={class:"simple-form-field"},pe={class:"table-container"},me={key:0,style:{color:"#0000ff"}},_e={key:1},ue={key:2,style:{color:"#ff0000"}},fe={key:3,style:{color:"#999","font-size":"12px"}},ye={key:0,style:{color:"#0000ff"}},ve={key:1},ge={key:2,style:{color:"#ff0000"}},be={key:3,style:{color:"#999","font-size":"12px"}},he={class:"empty-warp"},ke={key:0,class:"empty-bg"},Me={key:0,class:"pagination-con"},Ce={key:0,class:"selected-action-warp selected-warp-left"},ze={class:"selected-action"},we=R({__name:"List",props:{vendorId:{type:Number,default:0}},setup(z){const v=Y().currentRoute.value.query,w=z,x=q(),{listData:S,loading:g,total:b,selectedIds:h,filterParams:d,loadData:k,onSearchSubmit:_,onSortChange:F,onBatchAction:V,resetParams:T}=J({apiFunction:G,idKey:"vendorId",defaultParams:{page:1,size:x.get("pageSize"),sortField:"",sortOrder:"",keyword:"",vendorId:w.vendorId||"",endTime:"",startTime:""}}),I=async u=>{await V(u,Q)};k();const B=()=>{let u=window.location.href,t=new URL(u);t.search="",window.history.replaceState({},document.title,t.toString())},N=C(),M=C(0);return O(()=>{v.id&&j.confirm(`为[${v.companyName||"--"}]立即创建店铺?`,"提示",{closeOnClickModal:!1,showClose:!1,confirmButtonText:"确认",cancelButtonText:"取消",type:"warning"}).then(()=>{M.value=Number(v.id),N.value.show()}).catch(()=>{M.value=0,B()})}),(u,t)=>{const f=c("el-button"),U=c("TigInput"),y=c("el-table-column"),D=c("el-table"),L=c("a-spin"),P=c("el-popconfirm"),K=c("el-space");return i(),l("div",W,[n("div",X,[n("div",Z,[n("div",ee,[n("div",te,[n("div",oe,[n("div",ne,[n("div",se,[n("div",ae,[n("div",le,[s(U,{modelValue:o(d).keyword,"onUpdate:modelValue":t[0]||(t[0]=e=>o(d).keyword=e),name:"keyword",placeholder:"输入供应商名称",onKeyup:A(o(_),["enter"]),clearable:"",onClear:o(_)},{append:a(()=>[s(f,{onClick:o(_)},{default:a(()=>[...t[6]||(t[6]=[n("span",{class:"iconfont icon-chakan1"},null,-1)])]),_:1},8,["onClick"])]),_:1},8,["modelValue","onKeyup","onClear"])])])]),n("div",ie,[n("div",de,[t[7]||(t[7]=n("label",{class:"control-label"},[n("span",null,"时间范围：")],-1)),s(o(H),{"end-date":o(d).endTime,"onUpdate:endDate":t[1]||(t[1]=e=>o(d).endTime=e),"start-date":o(d).startTime,"onUpdate:startDate":t[2]||(t[2]=e=>o(d).startTime=e),clearable:!1,type:"date","value-format":"YYYY-MM-DD"},null,8,["end-date","start-date"])])]),n("div",re,[s(f,{type:"primary",plain:"",onClick:o(_)},{default:a(()=>[...t[8]||(t[8]=[p("搜索",-1)])]),_:1},8,["onClick"])]),n("div",ce,[s(f,{plain:"",onClick:o(T)},{default:a(()=>[...t[9]||(t[9]=[p("重置",-1)])]),_:1},8,["onClick"])])])])]),n("div",pe,[s(L,{spinning:o(g)},{default:a(()=>[s(D,{data:o(S),loading:o(g),total:o(b),"row-key":"shopId",onSortChange:o(F)},{empty:a(()=>[n("div",he,[o(g)?m("",!0):(i(),l("div",ke,"暂无数据"))])]),default:a(()=>[s(y,{label:"账户变动时间"},{default:a(({row:e})=>[p(r(e.addTime||"--"),1)]),_:1}),s(y,{label:"供应商名称"},{default:a(({row:e})=>[p(r(e.vendorName||"--"),1)]),_:1}),s(y,{label:"变动资金账户"},{default:a(({row:e})=>[e.newVendorMoney-e.vendorMoney>0?(i(),l("span",me,"+"+r((e.newVendorMoney-e.vendorMoney).toFixed(2)),1)):e.newVendorMoney-e.vendorMoney==0?(i(),l("span",_e,"0")):(i(),l("span",ue,"-"+r((e.vendorMoney-e.newVendorMoney).toFixed(2)),1)),e.newVendorMoney?(i(),l("span",fe,"（变更后金额:"+r(e.newVendorMoney)+"）",1)):m("",!0)]),_:1}),s(y,{label:"冻结资金账户",width:"250"},{default:a(({row:e})=>[e.newFrozenMoney-e.frozenMoney>0?(i(),l("span",ye,"+"+r((e.newFrozenMoney-e.frozenMoney).toFixed(2)),1)):e.newFrozenMoney-e.frozenMoney==0?(i(),l("span",ve,"0")):(i(),l("span",ge,"-"+r((e.frozenMoney-e.newFrozenMoney).toFixed(2)),1)),e.newFrozenMoney?(i(),l("span",be,"（变更后金额:"+r(e.newFrozenMoney)+"）",1)):m("",!0)]),_:1})]),_:1},8,["data","loading","total","onSortChange"])]),_:1},8,["spinning"]),o(b)>0?(i(),l("div",Me,[s(o($),{page:o(d).page,"onUpdate:page":t[3]||(t[3]=e=>o(d).page=e),size:o(d).size,"onUpdate:size":t[4]||(t[4]=e=>o(d).size=e),total:o(b),onCallback:o(k)},null,8,["page","size","total","onCallback"])])):m("",!0)]),o(h).length>0?(i(),l("div",Ce,[n("div",ze,[s(K,null,{default:a(()=>[n("span",null,[t[10]||(t[10]=p("已选择：",-1)),n("b",null,r(o(h).length),1),t[11]||(t[11]=p(" 项",-1))]),s(P,{title:"您确认要批量删除所选数据吗？",onConfirm:t[5]||(t[5]=e=>I("del"))},{reference:a(()=>[s(f,null,{default:a(()=>[...t[12]||(t[12]=[p("批量删除",-1)])]),_:1})]),_:1})]),_:1})])])):m("",!0)])])])])}}}),qe=E(we,[["__scopeId","data-v-e5f7c3c5"]]);export{qe as default};

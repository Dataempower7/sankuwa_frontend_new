import{d as P,aq as x,r as O,as as D,ar as L,o as M,P as N,f as d,k as V,h as p,m as n,g as k,F as U,p as F,j as e,E as y,x as A,i as t,z as a,t as f,a8 as E,Q as T,l as z}from"./index-B52YIGC0.js";/* empty css             */import{_ as j}from"./Image.vue_vue_type_script_setup_true_lang-B8qXJKJq.js";import{i as G}from"./format-BxqOrW-w.js";import"./SelectTimeInterval.vue_vue_type_style_index_0_scoped_207fe586_lang-1fz1RqDZ.js";import"./index-KjhYqCTY.js";/* empty css                                                                    */import{P as Q}from"./Pagination-C8J7-6Em.js";/* empty css                                                                  *//* empty css                                                                              */import{v as R,a as H,g as J}from"./bindShop-C4HDB3WM.js";/* empty css                                                                     */import{S as W}from"./SelectTimeInterval-BUZ-hmxo.js";import{u as X}from"./useListRequest-CprjeVXp.js";import{_ as B}from"./DialogForm.vue_vue_type_script_setup_true_lang-CT6mpwCc.js";import"./time-EzYK4E-P.js";import"./index-C9ZdVeVx.js";const Z=P({__name:"SelectVendorShop",props:x({modelValue:{type:[Number,String]},multiple:{type:Boolean,default:!1}},{shopId:{},shopIdModifiers:{}}),emits:x(["update:modelValue","onChange"],["update:shopId"]),setup(b,{emit:w}){const C=b,i=O(!0),_=D({size:30,keyword:""}),s=w,c=L(b,"shopId"),m=u=>{s("update:modelValue",u),s("onChange",u)};M(()=>{I()});const v=O([]),I=async u=>{i.value=!0,_.keyword="";try{const o=await R({..._});v.value=o.records}catch(o){N.error(o.message)}finally{i.value=!1}};return(u,o)=>{const g=d("el-option"),S=d("el-select");return p(),V(S,{modelValue:c.value,"onUpdate:modelValue":o[0]||(o[0]=r=>c.value=r),loading:i.value,filterable:"",multiple:C.multiple,placeholder:e(y)()?"请输入门店名称":"请输入店铺名称",clearable:"","reserve-keyword":"",onChange:m},{default:n(()=>[(p(!0),k(U,null,F(v.value,r=>(p(),V(g,{key:r.shopId,label:r.shopTitle,value:r.shopId},null,8,["label","value"]))),128))]),_:1},8,["modelValue","loading","multiple","placeholder"])}}}),ee=P({__name:"SelectVendorMerchant",props:x({modelValue:{type:[Number,String]},multiple:{type:Boolean,default:!1}},{merchantId:{},merchantIdModifiers:{}}),emits:x(["update:modelValue","onChange"],["update:merchantId"]),setup(b,{emit:w}){const C=b,i=O(!0),_=D({size:30,keyword:""}),s=w,c=L(b,"merchantId"),m=u=>{s("update:modelValue",u),s("onChange",u)};M(()=>{I()});const v=O([]),I=async u=>{i.value=!0,_.keyword="";try{const o=await H({..._});v.value=o.records}catch(o){N.error(o.message)}finally{i.value=!1}};return(u,o)=>{const g=d("el-option"),S=d("el-select");return p(),V(S,{modelValue:c.value,"onUpdate:modelValue":o[0]||(o[0]=r=>c.value=r),loading:i.value,filterable:"",multiple:C.multiple,placeholder:"请输入商户名称",clearable:"","reserve-keyword":"",onChange:m},{default:n(()=>[(p(!0),k(U,null,F(v.value,r=>(p(),V(g,{key:r.merchantId,label:r.companyName,value:r.merchantId},null,8,["label","value"]))),128))]),_:1},8,["modelValue","loading","multiple"])}}}),oe={class:"container"},te={class:"content_wrapper"},le={class:"lyecs-table-list-warp"},ae={class:"list-table-tool lyecs-search-warp"},se={class:"advanced-search-warp list-table-tool-row"},ne={class:"simple-form-warp"},re={class:"simple-form-field"},ie={class:"form-group"},de={class:"control-label"},pe={class:"control-container"},ce={class:"simple-form-field"},me={class:"form-group"},ue={class:"control-label"},_e={class:"control-container"},he={class:"simple-form-field"},fe={class:"form-group"},ve={class:"control-container"},ge={class:"simple-form-field"},be={class:"form-group"},ye={class:"simple-form-warp"},ke={class:"simple-form-field"},we={class:"control-container"},Ce={class:"table-container"},Ie={style:{position:"relative"}},Se={key:1},Ve={style:{position:"relative"}},Te={class:"empty-warp"},xe={key:0,class:"empty-bg"},Oe={key:0,class:"pagination-con"},Qe=P({__name:"List",setup(b){const w=A(),{listData:C,loading:i,total:_,filterParams:s,loadData:c,onSearchSubmit:m,onSortChange:v,resetParams:I}=X({apiFunction:J,idKey:"shopId",defaultParams:{page:1,size:w.get("pageSize"),sortField:"",sortOrder:"",keyword:"",merchantId:"",shopId:"",endTime:"",startTime:""}});return c(),(u,o)=>{const g=d("el-button"),S=d("TigInput"),r=d("el-form"),h=d("el-table-column"),q=d("el-divider"),K=d("el-table"),Y=d("a-spin");return p(),k("div",oe,[t("div",te,[t("div",le,[t("div",ae,[a(r,{model:e(s)},{default:n(()=>[t("div",se,[t("div",ne,[t("div",re,[t("div",ie,[t("label",de,[t("span",null,f(e(y)()?"门店":"店铺")+"名称：",1)]),t("div",pe,[a(S,{modelValue:e(s).keyword,"onUpdate:modelValue":o[0]||(o[0]=l=>e(s).keyword=l),name:"keyword",placeholder:(e(y)()?"门店":"店铺")+"名称",onKeyup:E(e(m),["enter"]),clearable:"",onClear:e(m)},{append:n(()=>[a(g,{onClick:e(m)},{default:n(()=>[...o[7]||(o[7]=[t("span",{class:"iconfont icon-chakan1"},null,-1)])]),_:1},8,["onClick"])]),_:1},8,["modelValue","placeholder","onKeyup","onClear"])])])]),t("div",ce,[t("div",me,[t("label",ue,[t("span",null,"选择"+f(e(y)()?"门店":"店铺")+"：",1)]),t("div",_e,[a(e(Z),{shopId:e(s).shopId,"onUpdate:shopId":o[1]||(o[1]=l=>e(s).shopId=l),onOnChange:e(m)},null,8,["shopId","onOnChange"])])])]),t("div",he,[t("div",fe,[o[8]||(o[8]=t("label",{class:"control-label"},[t("span",null,"选择商户：")],-1)),t("div",ve,[a(e(ee),{merchantId:e(s).merchantId,"onUpdate:merchantId":o[2]||(o[2]=l=>e(s).merchantId=l),onOnChange:e(m)},null,8,["merchantId","onOnChange"])])])]),t("div",ge,[t("div",be,[o[9]||(o[9]=t("label",{class:"control-label"},[t("span",null,"创建时间：")],-1)),a(e(W),{"end-date":e(s).endTime,"onUpdate:endDate":o[3]||(o[3]=l=>e(s).endTime=l),"start-date":e(s).startTime,"onUpdate:startDate":o[4]||(o[4]=l=>e(s).startTime=l),clearable:!1,type:"date","value-format":"YYYY-MM-DD"},null,8,["end-date","start-date"])])]),t("div",ye,[t("div",ke,[o[12]||(o[12]=t("label",{class:"control-label"},null,-1)),t("div",we,[a(g,{type:"primary",plain:"",onClick:e(m)},{default:n(()=>[...o[10]||(o[10]=[T("搜索",-1)])]),_:1},8,["onClick"]),a(g,{plain:"",onClick:e(I)},{default:n(()=>[...o[11]||(o[11]=[T("重置",-1)])]),_:1},8,["onClick"])])])])])])]),_:1},8,["model"])]),t("div",Ce,[a(Y,{spinning:e(i)},{default:n(()=>[a(K,{data:e(C),"row-key":"shopId",total:e(_),onSortChange:e(v),loading:e(i)},{empty:n(()=>[t("div",Te,[e(i)?z("",!0):(p(),k("div",xe,"暂无数据"))])]),default:n(()=>[a(h,{label:"序号",width:55},{default:n(({row:l,$index:$})=>[T(f($+1),1)]),_:1}),a(h,{prop:"shopTitle","min-width":150},{header:n(()=>[t("span",null,f(e(y)()?"门店":"店铺")+"名称",1)]),default:n(({row:l})=>[t("div",Ie,[t("div",null,f(l.shopTitle||"--"),1)])]),_:1}),a(h,{prop:"shopTitle","min-width":150},{header:n(()=>[t("span",null,f(e(y)()?"门店":"店铺")+"LOGO",1)]),default:n(({row:l})=>[l.shopLogo?(p(),V(e(j),{key:0,src:e(G)(l.shopLogo),fit:"contain",style:{height:"25px",width:"60px"}},null,8,["src"])):(p(),k("span",Se,"暂无图片"))]),_:1}),a(h,{label:"商户名称",prop:"merchantName","min-width":150},{default:n(({row:l})=>[t("div",Ve,[t("div",null,f(l.merchantName||"--"),1)])]),_:1}),a(h,{label:"上架商品数",prop:"upProductCount",width:"150",sortable:"custom"}),a(h,{label:"下架商品数",prop:"downProductCount",width:"150",sortable:"custom"}),a(h,{label:"订单量",prop:"orderCount",width:"150",sortable:"custom"}),a(h,{label:"结算金额",prop:"orderAmount",width:"150",sortable:"custom"},{default:n(({row:l})=>[T(f(l.orderAmount||"--"),1)]),_:1}),a(h,{label:"操作",fixed:"right",width:170},{default:n(({row:l})=>[a(e(B),{isDrawer:"",onOkCallback:e(c),title:"查看订单",width:"850px",path:"vendor/supplier/bindShop/Order",params:{shopId:l.shopId}},{default:n(()=>[...o[13]||(o[13]=[t("a",{class:"btn-link"},"查看订单",-1)])]),_:1},8,["onOkCallback","params"]),a(q,{direction:"vertical"}),a(e(B),{isDrawer:"",onOkCallback:e(c),title:"查看商品",width:"850px",path:"vendor/supplier/bindShop/Product",params:{shopId:l.shopId}},{default:n(()=>[...o[14]||(o[14]=[t("a",{class:"btn-link"},"查看商品",-1)])]),_:1},8,["onOkCallback","params"])]),_:1})]),_:1},8,["data","total","onSortChange","loading"])]),_:1},8,["spinning"]),e(_)>0?(p(),k("div",Oe,[a(e(Q),{page:e(s).page,"onUpdate:page":o[5]||(o[5]=l=>e(s).page=l),size:e(s).size,"onUpdate:size":o[6]||(o[6]=l=>e(s).size=l),total:e(_),onCallback:e(c)},null,8,["page","size","total","onCallback"])])):z("",!0)])])])])}}});export{Qe as default};

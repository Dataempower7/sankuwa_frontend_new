import{d as R,b as Y,x as $,ac as q,r as M,o as O,an as j,g as l,i as n,l as m,z as s,m as a,j as t,a8 as E,f as p,h as i,Q as c,t as r,_ as Q}from"./index-B52YIGC0.js";/* empty css             *//* empty css                                                                    */import{P as G}from"./Pagination-C8J7-6Em.js";import{d as H,c as J}from"./shop-CBisV8Of.js";import"./SelectTimeInterval.vue_vue_type_style_index_0_scoped_207fe586_lang-1fz1RqDZ.js";import"./index-KjhYqCTY.js";/* empty css                                                                  *//* empty css                                                                              *//* empty css                                                                     */import{S as W}from"./SelectTimeInterval-BUZ-hmxo.js";import{u as X}from"./useListRequest-CprjeVXp.js";import"./time-EzYK4E-P.js";import"./index-C9ZdVeVx.js";const Z={class:"container"},ee={class:"content_wrapper"},te={class:"container"},oe={class:"lyecs-table-list-warp"},ne={class:"list-table-tool lyecs-search-warp"},se={class:"list-table-tool-row"},ae={class:"simple-form-warp"},le={class:"simple-form-field"},ie={class:"form-group"},de={class:"control-container"},re={class:"simple-form-field"},pe={class:"form-group"},ce={class:"simple-form-field"},me={class:"simple-form-field"},ue={class:"table-container"},_e={key:0,style:{color:"#0000ff"}},fe={key:1},ye={key:2,style:{color:"#ff0000"}},he={key:3,style:{color:"#999","font-size":"12px"}},ge={key:0,style:{color:"#0000ff"}},be={key:1},ve={key:2,style:{color:"#ff0000"}},ke={key:3,style:{color:"#999","font-size":"12px"}},Se={class:"empty-warp"},Ce={key:0,class:"empty-bg"},Me={key:0,class:"pagination-con"},ze={key:0,class:"selected-action-warp selected-warp-left"},we={class:"selected-action"},Te=R({__name:"List",props:{shopId:{type:Number,default:0}},setup(z){const v="店铺",h=Y().currentRoute.value.query,w=z,T=$(),{listData:x,loading:g,total:b,selectedIds:k,filterParams:d,loadData:S,onSearchSubmit:u,onSortChange:F,onBatchAction:I,resetParams:B}=X({apiFunction:H,idKey:"shopId",defaultParams:{page:1,size:T.get("pageSize"),sortField:"",sortOrder:"",keyword:"",shopId:w.shopId||"",endTime:"",startTime:"",shopType:q()===1?1:2}}),N=async _=>{await I(_,J)};S();const U=()=>{let _=window.location.href,o=new URL(_);o.search="",window.history.replaceState({},document.title,o.toString())},D=M(),C=M(0);return O(()=>{h.id&&j.confirm(`为[${h.companyName||"--"}]立即创建店铺?`,"提示",{closeOnClickModal:!1,showClose:!1,confirmButtonText:"确认",cancelButtonText:"取消",type:"warning"}).then(()=>{C.value=Number(h.id),D.value.show()}).catch(()=>{C.value=0,U()})}),(_,o)=>{const f=p("el-button"),V=p("TigInput"),y=p("el-table-column"),A=p("el-table"),P=p("a-spin"),L=p("el-popconfirm"),K=p("el-space");return i(),l("div",Z,[n("div",ee,[n("div",te,[n("div",oe,[n("div",ne,[n("div",se,[n("div",ae,[n("div",le,[n("div",ie,[n("div",de,[s(V,{modelValue:t(d).keyword,"onUpdate:modelValue":o[0]||(o[0]=e=>t(d).keyword=e),name:"keyword",placeholder:`输入${t(v)}名称`,onKeyup:E(t(u),["enter"]),clearable:"",onClear:t(u)},{append:a(()=>[s(f,{onClick:t(u)},{default:a(()=>[...o[6]||(o[6]=[n("span",{class:"iconfont icon-chakan1"},null,-1)])]),_:1},8,["onClick"])]),_:1},8,["modelValue","placeholder","onKeyup","onClear"])])])]),n("div",re,[n("div",pe,[o[7]||(o[7]=n("label",{class:"control-label"},[n("span",null,"时间范围：")],-1)),s(t(W),{"end-date":t(d).endTime,"onUpdate:endDate":o[1]||(o[1]=e=>t(d).endTime=e),"start-date":t(d).startTime,"onUpdate:startDate":o[2]||(o[2]=e=>t(d).startTime=e),clearable:!1,type:"date","value-format":"YYYY-MM-DD"},null,8,["end-date","start-date"])])]),n("div",ce,[s(f,{type:"primary",plain:"",onClick:t(u)},{default:a(()=>[...o[8]||(o[8]=[c("搜索",-1)])]),_:1},8,["onClick"])]),n("div",me,[s(f,{plain:"",onClick:t(B)},{default:a(()=>[...o[9]||(o[9]=[c("重置",-1)])]),_:1},8,["onClick"])])])])]),n("div",ue,[s(P,{spinning:t(g)},{default:a(()=>[s(A,{data:t(x),loading:t(g),total:t(b),"row-key":"shopId",onSortChange:t(F)},{empty:a(()=>[n("div",Se,[t(g)?m("",!0):(i(),l("div",Ce,"暂无数据"))])]),default:a(()=>[s(y,{label:"账户变动时间"},{default:a(({row:e})=>[c(r(e.addTime||"--"),1)]),_:1}),s(y,{label:`${t(v)}名称`},{default:a(({row:e})=>[c(r(e.shopTitle||"--"),1)]),_:1},8,["label"]),s(y,{label:"变动资金账户"},{default:a(({row:e})=>[e.newShopMoney-e.changeAmount>0?(i(),l("span",_e,"+"+r((e.newShopMoney-e.changeAmount).toFixed(2)),1)):e.newShopMoney-e.changeAmount==0?(i(),l("span",fe,"0")):(i(),l("span",ye,"-"+r((e.changeAmount-e.newShopMoney).toFixed(2)),1)),e.newShopMoney?(i(),l("span",he,"（变更后金额:"+r(e.newShopMoney)+"）",1)):m("",!0)]),_:1}),s(y,{label:"冻结资金账户",width:"250"},{default:a(({row:e})=>[e.newFrozenMoney-e.frozenMoney>0?(i(),l("span",ge,"+"+r((e.newFrozenMoney-e.frozenMoney).toFixed(2)),1)):e.newFrozenMoney-e.frozenMoney==0?(i(),l("span",be,"0")):(i(),l("span",ve,"-"+r((e.frozenMoney-e.newFrozenMoney).toFixed(2)),1)),e.newFrozenMoney?(i(),l("span",ke,"（变更后金额:"+r(e.newFrozenMoney)+"）",1)):m("",!0)]),_:1})]),_:1},8,["data","loading","total","onSortChange"])]),_:1},8,["spinning"]),t(b)>0?(i(),l("div",Me,[s(t(G),{page:t(d).page,"onUpdate:page":o[3]||(o[3]=e=>t(d).page=e),size:t(d).size,"onUpdate:size":o[4]||(o[4]=e=>t(d).size=e),total:t(b),onCallback:t(S)},null,8,["page","size","total","onCallback"])])):m("",!0)]),t(k).length>0?(i(),l("div",ze,[n("div",we,[s(K,null,{default:a(()=>[n("span",null,[o[10]||(o[10]=c("已选择：",-1)),n("b",null,r(t(k).length),1),o[11]||(o[11]=c(" 项",-1))]),s(L,{title:"您确认要批量删除所选数据吗？",onConfirm:o[5]||(o[5]=e=>N("del"))},{reference:a(()=>[s(f,null,{default:a(()=>[...o[12]||(o[12]=[c("批量删除",-1)])]),_:1})]),_:1})]),_:1})])])):m("",!0)])])])])}}}),$e=Q(Te,[["__scopeId","data-v-35c1db39"]]);export{$e as default};

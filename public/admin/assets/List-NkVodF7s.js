import{d as z,x as N,f as m,h as o,z as e,l as s,e as l,i as t,L as g,p as V,k as h,t as P,g as f,_ as L}from"./index-BLXOA87U.js";/* empty css             */import"./index-DpgvsnVO.js";import{D as O}from"./DeleteRecord-D6PcywRa.js";/* empty css                                                                    */import{P as A}from"./Pagination-w0YHSLYy.js";import{i as F}from"./format-DdZABYp4.js";import{d as G,g as T}from"./productGift--K71yc0m.js";import{u as q}from"./useListRequest-qe4Wn36b.js";import{_ as b}from"./DialogForm.vue_vue_type_script_setup_true_lang-6GHo9HCV.js";import"./index-B16C4gX_.js";const B={class:"container"},U={class:"content_wrapper"},R={class:"lyecs-table-list-warp"},E={class:"list-table-tool lyecs-search-warp"},K={class:"list-table-tool-row"},M={class:"simple-form-warp"},$={class:"simple-form-field"},j={class:"form-group"},H={class:"control-container"},J={class:"simple-form-field"},Q={class:"form-group"},W={class:"control-container"},X={class:"table-container"},Y={class:"product-info"},Z=["src"],tt={class:"empty-warp"},ot={key:0,class:"empty-bg"},et={key:0,class:"pagination-con"},at=z({__name:"List",setup(st){const k=N(),{listData:v,loading:p,total:c,filterParams:n,loadData:r,onSearchSubmit:_,onSortChange:C,onSelectChange:w}=q({apiFunction:T,idKey:"id",defaultParams:{sortField:"",sortOrder:"",keyword:"",page:1,size:k.get("pageSize")}});return r(),(it,a)=>{const u=l("el-button"),y=l("TigInput"),S=l("el-form"),d=l("el-table-column"),x=l("el-divider"),D=l("el-table"),I=l("a-spin");return f(),m("div",B,[o("div",U,[o("div",R,[o("div",E,[e(S,{model:t(n),onSubmit:V(t(_),["prevent"])},{default:s(()=>[o("div",K,[o("div",M,[o("div",$,[o("div",j,[o("div",H,[e(y,{modelValue:t(n).keyword,"onUpdate:modelValue":a[0]||(a[0]=i=>t(n).keyword=i),name:"keyword",placeholder:"输入赠品名称",clearable:"",onClear:t(_)},{append:s(()=>[e(u,{onClick:t(_)},{default:s(()=>a[3]||(a[3]=[o("span",{class:"iconfont icon-chakan1"},null,-1)])),_:1,__:[3]},8,["onClick"])]),_:1},8,["modelValue","onClear"])])])]),o("div",J,[o("div",Q,[o("div",W,[e(t(b),{isDrawer:"",onOkCallback:t(r),title:"添加赠品",width:"900px",path:"promotion/productGift/Info",params:{act:"add"}},{default:s(()=>[e(u,{type:"primary"},{default:s(()=>a[4]||(a[4]=[g("添加赠品",-1)])),_:1,__:[4]})]),_:1},8,["onOkCallback"])])])])])])]),_:1},8,["model","onSubmit"])]),o("div",X,[e(I,{spinning:t(p)},{default:s(()=>[e(D,{data:t(v),"row-key":"id",onSelectionChange:t(w),total:t(c),onSortChange:t(C),loading:t(p)},{empty:s(()=>[o("div",tt,[t(p)?h("",!0):(f(),m("div",ot,"暂无数据"))])]),default:s(()=>[e(d,{label:"赠品名称",prop:"giftName",width:"150"}),e(d,{label:"商品信息",prop:"productName"},{default:s(({row:i})=>[o("div",Y,[o("img",{src:t(F)(i.productInfo.picThumb),height:"50",width:"50"},null,8,Z),o("p",null,P(i.productInfo.productName),1)])]),_:1}),e(d,{label:"赠品库存",prop:"giftStock",sortable:"custom"}),e(d,{label:"操作",fixed:"right",width:150},{default:s(({row:i})=>[e(t(b),{isDrawer:"",onOkCallback:t(r),title:"编辑赠品",width:"900px",path:"promotion/productGift/Info",params:{act:"detail",id:i.giftId}},{default:s(()=>a[5]||(a[5]=[o("a",{class:"btn-link"},"编辑",-1)])),_:2,__:[5]},1032,["onOkCallback","params"]),e(x,{direction:"vertical"}),e(t(O),{onAfterDelete:t(r),requestApi:t(G),params:{id:i.giftId}},{default:s(()=>a[6]||(a[6]=[g("删除",-1)])),_:2,__:[6]},1032,["onAfterDelete","requestApi","params"])]),_:1})]),_:1},8,["data","onSelectionChange","total","onSortChange","loading"])]),_:1},8,["spinning"]),t(c)>0?(f(),m("div",et,[e(t(A),{page:t(n).page,"onUpdate:page":a[1]||(a[1]=i=>t(n).page=i),size:t(n).size,"onUpdate:size":a[2]||(a[2]=i=>t(n).size=i),total:t(c),onCallback:t(r)},null,8,["page","size","total","onCallback"])])):h("",!0)])])])])}}}),ht=L(at,[["__scopeId","data-v-9f54e56e"]]);export{ht as default};

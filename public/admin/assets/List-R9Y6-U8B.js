import{d as T,x as $,b as V,f as i,g as _,h as m,i as a,z as t,m as n,j as e,a8 as h,F as j,p as E,Q as c,l as O,t as f,k as G,ax as Q}from"./index-B52YIGC0.js";/* empty css             */import{i as H}from"./format-BxqOrW-w.js";import{_ as J}from"./Image.vue_vue_type_script_setup_true_lang-B8qXJKJq.js";import"./index-KjhYqCTY.js";import{P as W}from"./PopSelect.vue_vue_type_style_index_0_scoped_5832cf6b_lang-CRFq-JzZ.js";import{_ as X}from"./Switch.vue_vue_type_script_setup_true_lang-D-71VfIC.js";import{D as Y}from"./DeleteRecord-BTXBpwL2.js";/* empty css                                                                    */import{P as Z}from"./Pagination-C8J7-6Em.js";import{g as ee,u as x,d as te}from"./suppliers-C_UEn0j3.js";import{u as le}from"./useListRequest-CprjeVXp.js";import{_ as b}from"./DialogForm.vue_vue_type_script_setup_true_lang-CT6mpwCc.js";import"./index-C9ZdVeVx.js";const oe={class:"container"},ae={class:"content_wrapper"},ne={class:"lyecs-table-list-warp"},se={class:"list-table-tool lyecs-search-warp"},ie={class:"advanced-search-warp list-table-tool-row"},de={class:"simple-form-warp"},re={class:"simple-form-field"},pe={class:"form-group"},ce={class:"control-container"},ue={class:"simple-form-field"},me={class:"form-group"},_e={class:"control-container"},fe={class:"simple-form-field"},be={class:"form-group"},ve={class:"control-container"},ge={class:"simple-form-field"},ke={class:"form-group"},ye={class:"control-container"},he={class:"simple-form-warp"},we={class:"simple-form-field"},Ce={class:"control-container"},Se={class:"list-table-tool-row mt20"},Ve={class:"list-table-tool-col"},Oe={class:"table-container"},xe={key:1},Ae={class:"empty-warp"},De={key:0,class:"empty-bg"},Ie={key:0,class:"pagination-con"},Qe=T({__name:"List",setup(qe){const A=[{label:"开启",value:1,isShow:!0},{label:"关闭",value:2,isShow:!0}],D=$(),I=V().currentRoute.value.query,{listData:q,loading:v,total:g,filterParams:s,loadData:r,onSearchSubmit:p,onSortChange:z,onSelectChange:N}=le({apiFunction:ee,idKey:"vendorId",defaultParams:{sortField:"",sortOrder:"",account:I.account||"",mainAccount:"",keyword:"",status:"",page:1,size:D.get("pageSize")}}),U=()=>{s.account="",s.mainAccount="",s.keyword="",s.status="",s.page=1,r()};return r(),V().replace({query:{}}),(ze,o)=>{const u=i("el-button"),k=i("TigInput"),F=i("el-option"),K=i("el-select"),w=i("el-space"),d=i("el-table-column"),C=i("el-divider"),L=i("el-icon"),S=i("el-dropdown-item"),P=i("el-dropdown-menu"),B=i("el-dropdown"),M=i("el-table"),R=i("a-spin");return m(),_("div",oe,[a("div",ae,[a("div",ne,[a("div",se,[a("div",ie,[a("div",de,[a("div",re,[a("div",pe,[o[7]||(o[7]=a("label",{class:"control-label"},[a("span",null,"供应商：")],-1)),a("div",ce,[t(k,{modelValue:e(s).keyword,"onUpdate:modelValue":o[0]||(o[0]=l=>e(s).keyword=l),name:"keyword",placeholder:"输入供应商名称",onKeyup:h(e(p),["enter"]),clearable:"",onClear:e(p)},{append:n(()=>[t(u,{onClick:e(p)},{default:n(()=>[...o[6]||(o[6]=[a("span",{class:"iconfont icon-chakan1"},null,-1)])]),_:1},8,["onClick"])]),_:1},8,["modelValue","onKeyup","onClear"])])])]),a("div",ue,[a("div",me,[o[8]||(o[8]=a("label",{class:"control-label"},[a("span",null,"关联账号：")],-1)),a("div",_e,[t(k,{modelValue:e(s).account,"onUpdate:modelValue":o[1]||(o[1]=l=>e(s).account=l),name:"account",placeholder:"输入关联账号名称",onKeyup:h(e(p),["enter"]),clearable:"",onClear:e(p)},null,8,["modelValue","onKeyup","onClear"])])])]),a("div",fe,[a("div",be,[o[9]||(o[9]=a("label",{class:"control-label"},[a("span",null,"主账号：")],-1)),a("div",ve,[t(k,{modelValue:e(s).mainAccount,"onUpdate:modelValue":o[2]||(o[2]=l=>e(s).mainAccount=l),name:"mainAccount",placeholder:"输入主账号名称",onKeyup:h(e(p),["enter"]),clearable:"",onClear:e(p)},null,8,["modelValue","onKeyup","onClear"])])])]),a("div",ge,[a("div",ke,[o[10]||(o[10]=a("label",{class:"control-label"},[a("span",null,"状态 ：")],-1)),a("div",ye,[t(K,{modelValue:e(s).status,"onUpdate:modelValue":o[3]||(o[3]=l=>e(s).status=l),clearable:"",onChange:e(p)},{default:n(()=>[(m(),_(j,null,E(A,l=>t(F,{label:l.label,value:l.value},null,8,["label","value"])),64))]),_:1},8,["modelValue","onChange"])])])]),a("div",he,[a("div",we,[o[13]||(o[13]=a("label",{class:"control-label"},null,-1)),a("div",Ce,[t(u,{type:"primary",plain:"",onClick:e(p)},{default:n(()=>[...o[11]||(o[11]=[c("搜索",-1)])]),_:1},8,["onClick"]),t(u,{plain:"",onClick:U},{default:n(()=>[...o[12]||(o[12]=[c("重置",-1)])]),_:1})])])])])]),a("div",Se,[a("div",Ve,[t(w,null,{default:n(()=>[t(e(b),{params:{act:"add"},isDrawer:"",path:"vendor/supplier/suppliers/Info",title:"添加供应商",width:"750px",onOkCallback:e(r)},{default:n(()=>[t(u,{type:"primary"},{default:n(()=>[...o[14]||(o[14]=[c("添加供应商",-1)])]),_:1})]),_:1},8,["onOkCallback"])]),_:1})])])]),a("div",Oe,[t(R,{spinning:e(v)},{default:n(()=>[t(M,{data:e(q),loading:e(v),total:e(g),"row-key":"vendorId",onSelectionChange:e(N),onSortChange:e(z)},{empty:n(()=>[a("div",Ae,[e(v)?O("",!0):(m(),_("div",De,"暂无数据"))])]),default:n(()=>[t(d,{type:"selection",width:"32"}),t(d,{label:"供应商名称",width:"200"},{default:n(({row:l})=>[t(e(W),{"org-value":l.vendorName,"onUpdate:orgValue":y=>l.vendorName=y,max:10,params:{id:l.vendorId,field:"vendorName"},requestApi:e(x),label:"权限组名称",type:"input"},{default:n(()=>[a("div",null,f(l.vendorName),1)]),_:2},1032,["org-value","onUpdate:orgValue","params","requestApi"])]),_:1}),t(d,{label:"供应商LOGO",width:"150"},{default:n(({row:l})=>[l.vendorLogo?(m(),G(e(J),{key:0,src:e(H)(l.vendorLogo),fit:"contain",style:{height:"50px",width:"50px"}},null,8,["src"])):(m(),_("span",xe,"暂无图片"))]),_:1}),t(d,{label:"联系人姓名",prop:"contactName",align:"center"},{default:n(({row:l})=>[c(f(l.contactName||"--"),1)]),_:1}),t(d,{label:"联系方式",prop:"contactMobile",align:"center"},{default:n(({row:l})=>[c(f(l.contactMobile||"--"),1)]),_:1}),t(d,{label:"主账号",prop:"loginAccount",align:"center"},{default:n(({row:l})=>[t(e(b),{params:{id:l.vendorId,type:"vendor"},isDrawer:"",path:"authority/accountManage/Detail",title:"主账号管理",width:"900px",onOkCallback:e(r),showClose:!1,showOnOk:!1},{default:n(()=>[a("a",null,f(l.loginAccount||"--"),1)]),_:2},1032,["params","onOkCallback"])]),_:1}),t(d,{label:"企业属性",width:"100",align:"center"},{default:n(({row:l})=>[c(f(l.type==1?"个人":"企业"),1)]),_:1}),t(d,{label:"供应商状态",align:"center"},{default:n(({row:l})=>[t(e(X),{checked:l.status,"onUpdate:checked":y=>l.status=y,switchingCode:[2,1],params:{id:l.vendorId,field:"status"},requestApi:e(x)},null,8,["checked","onUpdate:checked","params","requestApi"])]),_:1}),t(d,{label:"创建时间",prop:"addTime"}),t(d,{width:180,fixed:"right",label:"操作"},{default:n(({row:l})=>[t(w,{size:0},{default:n(()=>[t(e(b),{params:{act:"detail",id:l.vendorId},isDrawer:"",path:"vendor/supplier/suppliers/Info",title:"编辑供应商",width:"750px",onOkCallback:e(r)},{default:n(()=>[...o[15]||(o[15]=[a("a",{class:"btn-link"},"编辑",-1)])]),_:1},8,["params","onOkCallback"]),t(C,{direction:"vertical"}),t(e(b),{params:{act:"detail",id:l.vendorId},showOnOk:!1,bodyStyle:{padding:"0"},isDrawer:"",path:"vendor/supplier/suppliers/Detail",title:"详情",width:"750px",onCallback:e(r)},{default:n(()=>[...o[16]||(o[16]=[a("a",{class:"btn-link"},"详情",-1)])]),_:1},8,["params","onCallback"]),t(C,{direction:"vertical"}),t(B,null,{dropdown:n(()=>[t(P,null,{default:n(()=>[t(S,null,{default:n(()=>[t(e(b),{params:{id:l.vendorId,type:"vendor"},isDrawer:"",path:"authority/accountManage/Detail",title:"主账号管理",width:"900px",onOkCallback:e(r),showClose:!1,showOnOk:!1},{default:n(()=>[t(u,{style:{width:"100%"},link:"",type:"primary"},{default:n(()=>[...o[17]||(o[17]=[c("主账号管理",-1)])]),_:1})]),_:1},8,["params","onOkCallback"])]),_:2},1024),t(e(Y),{params:{id:l.vendorId},title:"删除后供应商信息将无法恢复，请确认是否删除该供应商？",requestApi:e(te),onAfterDelete:e(r)},{default:n(()=>[t(S,null,{default:n(()=>[t(u,{style:{width:"100%"},link:"",type:"primary"},{default:n(()=>[...o[18]||(o[18]=[c("删除",-1)])]),_:1})]),_:1})]),_:1},8,["params","requestApi","onAfterDelete"])]),_:2},1024)]),default:n(()=>[t(L,{class:"btn-link",size:"12"},{default:n(()=>[t(e(Q))]),_:1})]),_:2},1024)]),_:2},1024)]),_:1})]),_:1},8,["data","loading","total","onSelectionChange","onSortChange"])]),_:1},8,["spinning"]),e(g)>0?(m(),_("div",Ie,[t(e(Z),{page:e(s).page,"onUpdate:page":o[4]||(o[4]=l=>e(s).page=l),size:e(s).size,"onUpdate:size":o[5]||(o[5]=l=>e(s).size=l),total:e(g),onCallback:e(r)},null,8,["page","size","total","onCallback"])])):O("",!0)])])])])}}});export{Qe as default};

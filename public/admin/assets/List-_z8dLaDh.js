import"./index-KjhYqCTY.js";import{d as G,x,f as l,g as m,h as c,i as r,z as t,m as n,Q as f,j as e,l as g,t as z}from"./index-B52YIGC0.js";import{D as N}from"./DeleteRecord-BTXBpwL2.js";/* empty css                                                                    */import{P as I}from"./Pagination-C8J7-6Em.js";import{u as B}from"./useListRequest-CprjeVXp.js";import{f as O,h as A}from"./buyShow-GI1gwX70.js";import{_ as b}from"./DialogForm.vue_vue_type_script_setup_true_lang-CT6mpwCc.js";import"./index-C9ZdVeVx.js";const P={class:"lyecs-table-list-warp"},V={class:"simple-form-field"},q={class:"form-group"},F={class:"table-container"},L={class:"empty-warp"},j={key:0,class:"empty-bg"},R={key:0,class:"pagination-con"},Y=G({__name:"List",setup(U){const h=x(),{listData:y,loading:d,total:u,filterParams:s,loadData:i,onSortChange:S,onSelectChange:C}=B({apiFunction:O,idKey:"promotionId",defaultParams:{page:1,size:h.get("pageSize"),sortField:"",sortOrder:"",keyword:""}});return i(),(E,o)=>{const k=l("el-button"),p=l("el-table-column"),w=l("el-divider"),v=l("el-table"),D=l("a-spin");return c(),m("div",P,[r("div",V,[r("div",q,[t(e(b),{params:{act:"add"},isDrawer:"",delayed:2e4,path:"promotion/buyerShow/buyerShowGroup/Info",title:"新建分组",width:"600px",onOkCallback:e(i)},{default:n(()=>[t(k,{type:"primary"},{default:n(()=>[...o[2]||(o[2]=[f("新建分组",-1)])]),_:1})]),_:1},8,["onOkCallback"])])]),r("div",F,[t(D,{spinning:e(d)},{default:n(()=>[t(v,{data:e(y),"row-key":"rechargeId",onSelectionChange:e(C),total:e(u),onSortChange:e(S),loading:e(d)},{empty:n(()=>[r("div",L,[e(d)?g("",!0):(c(),m("div",j,"暂无数据"))])]),default:n(()=>[t(p,{label:"分组名称",prop:"groupName"}),t(p,{label:"关联商品分组",prop:"productGroupName"},{default:n(({row:a})=>{var _;return[r("div",null,z((_=a.productGroupName)!=null&&_.length?a.productGroupName.join(" "):"无"),1)]}),_:1}),t(p,{label:"买家秀数量",prop:"buyerShowCount"}),t(p,{label:"操作",fixed:"right",width:150},{default:n(({row:a})=>[t(e(b),{isDrawer:"",onOkCallback:e(i),title:"编辑分组",width:"600px",path:"promotion/buyerShow/buyerShowGroup/Info",params:{act:"detail",id:a.buyerShowGroupId}},{default:n(()=>[...o[3]||(o[3]=[r("a",{class:"btn-link"},"编辑",-1)])]),_:1},8,["onOkCallback","params"]),t(w,{direction:"vertical"}),t(e(N),{onAfterDelete:e(i),requestApi:e(A),params:{id:a.buyerShowGroupId}},{default:n(()=>[...o[4]||(o[4]=[f("删除",-1)])]),_:1},8,["onAfterDelete","requestApi","params"])]),_:1})]),_:1},8,["data","onSelectionChange","total","onSortChange","loading"])]),_:1},8,["spinning"]),e(u)>0?(c(),m("div",R,[t(e(I),{page:e(s).page,"onUpdate:page":o[0]||(o[0]=a=>e(s).page=a),size:e(s).size,"onUpdate:size":o[1]||(o[1]=a=>e(s).size=a),total:e(u),onCallback:e(i)},null,8,["page","size","total","onCallback"])])):g("",!0)])])}}});export{Y as default};

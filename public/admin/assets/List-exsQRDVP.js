import{d as ze,r as h,x as Pe,as as N,b as ae,o as Le,X as Ue,c as Ne,g as i,i as t,z as r,l as n,m as o,a8 as $,j as d,P as I,f as S,h as a,A as se,D as j,F as w,p as z,k as p,Q as v,E as A,B as Ae,t as b,dC as oe,n as Fe,_ as Be}from"./index-B52YIGC0.js";/* empty css             */import{D as Ee}from"./DeleteRecord-BTXBpwL2.js";/* empty css                                                                    */import{S as re}from"./SortButton-CPyUGKlg.js";import{P as Re}from"./Pagination-C8J7-6Em.js";import{P as $e}from"./ProductCard-8OYszTHR.js";import{b as Me,o as je,c as ne,r as qe}from"./order-BVunCi_y.js";import"./SelectTimeInterval.vue_vue_type_style_index_0_scoped_207fe586_lang-1fz1RqDZ.js";import"./index-KjhYqCTY.js";import{p as de}from"./format-BxqOrW-w.js";/* empty css                                                                  *//* empty css                                                                              */import{_ as Ye}from"./SelectShop.vue_vue_type_script_setup_true_lang-DUXAAhbc.js";/* empty css                                                                     */import{S as Ke}from"./SelectLogisticsCompany-DF1CZxaC.js";import{S as Qe}from"./SelectTimeInterval-BUZ-hmxo.js";import{_ as We}from"./SelectVendor.vue_vue_type_script_setup_true_lang-BoLpkKlM.js";import"./Verify.vue_vue_type_style_index_0_lang-BAuPCCIW.js";import"./zh-cn-kq_pLf4V.js";import{T as D}from"./Tag-DafgHPRr.js";import{M as Xe}from"./MobileCard-qEvTFKQw.js";import{_ as ie}from"./EditSign.vue_vue_type_style_index_0_lang-BCWMSEv7.js";import q from"./SignTag-DUbb66q5.js";import{h as Ge,t as He}from"./receiptPrint-22wOE8vb.js";import{_}from"./DialogForm.vue_vue_type_script_setup_true_lang-CT6mpwCc.js";import{M as Y}from"./index-C9ZdVeVx.js";import"./time-EzYK4E-P.js";import"./shop-CBisV8Of.js";import"./bindShop-C4HDB3WM.js";import"./logisticsCompany-DCAp04os.js";import"./suppliers-C_UEn0j3.js";import"./useResetState-sGRO8oUE.js";const Je={class:"container"},Ze={class:"content_wrapper"},el={class:"lyecs-table-list-warp"},ll={class:"list-table-tool lyecs-search-warp"},tl={class:"advanced-search-warp list-table-tool-row"},al={class:"simple-form-warp"},sl={class:"simple-form-field"},ol={class:"form-group"},rl={class:"control-container"},nl={key:0,class:"simple-form-field"},dl={class:"form-group"},il={class:"control-container"},ul={key:1,class:"simple-form-field"},pl={class:"form-group"},cl={class:"control-container"},vl={class:"simple-form-field"},yl={class:"form-group"},fl={class:"control-container"},ml={class:"simple-form-field"},bl={class:"form-group"},gl={class:"control-container"},kl={class:"simple-form-field"},_l={class:"form-group"},hl={class:"control-container"},Sl={class:"simple-form-field"},wl={class:"form-group"},Cl={class:"control-container"},Il={class:"simple-form-field"},xl={class:"form-group"},Ol={class:"control-container"},Tl={class:"simple-form-field"},Dl={class:"form-group"},Vl={class:"control-container"},zl={class:"simple-form-field"},Pl={class:"form-group"},Ll={class:"control-container"},Ul={key:2,class:"simple-form-field"},Nl={class:"form-group"},Al={class:"control-container"},Fl={class:"simple-form-field"},Bl={class:"form-group"},El={class:"simple-form-warp"},Rl={class:"simple-form-field"},$l={class:"control-container"},Ml={class:"list-table-tool-row"},jl={class:"list-table-tool-col"},ql={key:5},Yl={class:"table-container"},Kl={class:"custom-table"},Ql={class:"custom-table"},Wl={class:"data-tr"},Xl={colspan:"6"},Gl={class:"check-box"},Hl={key:1,class:"check-box"},Jl={class:"check-box"},Zl={class:"textR"},et={style:{gap:"8px",display:"flex","justify-content":"right"}},lt={class:"displayRow flex flex-align-center flex-justify-between"},tt={class:"displayColumn textR whiteSN widthAuto"},at=["rowspan"],st={class:"displayColumn textR fz14"},ot={class:"gray"},rt=["rowspan"],nt={class:"displayColumn textL"},dt=["rowspan"],it={key:0,class:"displayColumn fz12 textL"},ut={class:"gray"},pt={class:"black"},ct={class:"gray"},vt={class:"black"},yt={class:"gray user-address"},ft={class:"black line1 value"},mt={key:1,class:"displayColumn fz12 textL"},bt={key:2,class:"displayColumn fz12 textL"},gt={key:3,class:"displayColumn fz12 textL"},kt=["rowspan"],_t={class:"displayColumn textL"},ht={key:0},St={key:0,class:"gray"},wt=["rowspan"],Ct=["rowspan"],It={key:0,class:"buttonStyle"},xt={key:1,class:"buttonStyle"},Ot={key:8},Tt={key:0,class:"empty-warp"},Dt={key:0,class:"empty-bg"},Vt={key:0,class:"pagination-con"},zt=ze({__name:"List",props:{id:{type:Number,default:0},act:{type:String,default:""},isDialog:Boolean},setup(ue){const C=h(localStorage.getItem("adminType")),K=Pe(),pe=N([{value:-1,label:"全部",isShow:!0},{value:0,label:"待支付",isShow:!0},{value:1,label:"待发货",isShow:!0},{value:2,label:"已发货",isShow:!0},{value:3,label:"已取消",isShow:!0},{value:4,label:"无效",isShow:!0},{value:5,label:"已完成",isShow:!0},{value:-2,label:"已删除",isShow:!0}]),ce=N([{value:0,label:"待发货"},{value:1,label:"已发货"},{value:2,label:"已收货"},{value:3,label:"配送中"},{value:4,label:"配送失败"}]),ve=N([{value:0,label:"未付款"},{value:1,label:"支付中"},{value:2,label:"已付款"},{value:3,label:"退款中"},{value:4,label:"已退款"}]),Q=N([{value:"wechat",label:"微信支付"},{value:"alipay",label:"支付宝"},{value:"paypal",label:"PayPal"},{value:"yabanpay_wechat",label:"YaBandPay微信"},{value:"yabanpay_alipay",label:"YaBandPay支付宝"},{value:"yunpay_wechat",label:"云支付微信"},{value:"yunpay_alipay",label:"云支付支付宝"},{value:"yunpay_yunshanfu",label:"云支付云闪付"}]),W=u=>{const e=Q.find(k=>k.value===u);return e?e.label:""},ye=[{value:-1},{value:1},{value:2},{value:3},{value:4},{value:5}],fe=u=>{s.orderStatus=u,s.page=1,f.value=[],y()},x=h([]),O=h(!0),F=h(0),f=h([]),M=h(!1),s=N({page:1,size:K.get("pageSize"),sortField:"orderId",sortOrder:"desc",keyword:"",orderStatus:-1,address:"",email:"",mobile:"",addTime:[],addEndTime:"",addStartTime:"",logisticsId:"",shopId:"",vendorId:"",payCode:"",mark:-1}),me=()=>{s.page=1,s.size=K.get("pageSize"),s.sortField="orderId",s.sortOrder="desc",s.keyword="",s.orderStatus=-1,s.address="",s.email="",s.mobile="",s.shopId="",s.addTime=[],s.addEndTime="",s.addStartTime="",s.shippingStatus="",s.logisticsId="",s.payStatus="",s.vendorId="",s.payCode="",s.mark=-1,y()},X=h(!1),y=async()=>{O.value=!0,f.value=[];try{const u=await Me({...s});if(u.records!==null){const e=u.records.map(k=>({...k,checkBox:!1}));x.value=e}else x.value=[];F.value=u.total}catch(u){I.error(u.message)}finally{O.value=!1}},be=async()=>{try{let u=await Ge();X.value=!0}catch(u){console.log(u)}},G=h(!1),ge=async u=>{G.value=!0;try{let e=await He({ids:u});I.success("正在打印中~")}catch(e){console.log(e)}finally{G.value=!1}},B=ue,ke=Ue(),P=ae().currentRoute.value.query,H=h(B.isDialog?B.act:String(P.act)),_e=h(B.isDialog?B.id:Number(P.id));Le(()=>{ke.path.includes("exchange")&&(s.isExchangeOrder=1),H.value&&H.value!=="undefined"&&(s.userId=_e.value),P&&P.status&&(s.orderStatus=Number(P.status)),y(),be()});const m=()=>{y()},he=ae(),Se=u=>{let e=location.origin+he.options.history.base+u;window.open(e,"_blank")},we=u=>{Y.confirm({title:"确认删除订单吗？",content:"被删除的订单可以通过筛选查找并恢复",onOk:async()=>{try{const e=await ne("delOrder",{id:u});I.success("操作成功"),y()}catch(e){I.error(e.message)}finally{O.value=!1}}})},Ce=u=>{Y.confirm({title:"确认订单已收货吗？",onOk:async()=>{try{const e=await ne("confirmReceipt",{id:u});I.success("操作成功"),y()}catch(e){I.error(e.message)}finally{O.value=!1}}})},Ie=u=>{Y.confirm({title:"确认催发货该订单吗？",onOk:async()=>{try{const e=await qe({id:u});I.success("操作成功"),y()}catch(e){I.error(e.message)}finally{O.value=!1}}})},xe=Ne(()=>{var u,e;return M.value=f.value.length>0&&((u=f.value)==null?void 0:u.length)===((e=x.value)==null?void 0:e.length),f.value.length>0&&f.value.length<x.value.length}),Oe=u=>{var e,k;u?(f.value.length=0,(e=x.value)==null||e.forEach(c=>{c.checkBox=!0,f.value.push(c.orderId)})):(k=x.value)==null||k.forEach(c=>{c.checkBox=!1,f.value.length=0})},Te=u=>{if(u.checkBox)f.value.indexOf(u.orderId)===-1&&f.value.push(u.orderId);else{let e=f.value.indexOf(u.orderId);e!==-1&&f.value.splice(e,1)}},J=u=>{let e=[];return u.forEach(k=>{let c={itemId:k.itemId,toDeliveryQuantity:k.quantity};e.push(c)}),e};return(u,e)=>{const k=S("TigTabs"),c=S("el-button"),E=S("TigInput"),L=S("el-option"),R=S("el-select"),De=S("el-space"),Z=S("el-checkbox"),T=S("el-tooltip"),ee=S("el-divider"),Ve=S("a-spin");return a(),i("div",Je,[t("div",Ze,[t("div",el,[r(k,{modelValue:s.orderStatus,"onUpdate:modelValue":e[0]||(e[0]=l=>s.orderStatus=l),tabs:pe,onOnTabChange:fe},null,8,["modelValue","tabs"]),t("div",ll,[t("div",tl,[t("div",al,[t("div",sl,[t("div",ol,[e[26]||(e[26]=t("label",{class:"control-label"},[t("span",null,"订单信息：")],-1)),t("div",rl,[r(E,{modelValue:s.keyword,"onUpdate:modelValue":e[1]||(e[1]=l=>s.keyword=l),name:"keyword",placeholder:"订单号/收货人姓名/商品名称",onKeyup:$(m,["enter"]),clearable:"",onClear:m},{append:o(()=>[r(c,{onClick:m},{default:o(()=>[...e[25]||(e[25]=[t("span",{class:"iconfont icon-chakan1"},null,-1)])]),_:1})]),_:1},8,["modelValue"])])])]),d(se)()&&C.value!=="shop"?(a(),i("div",nl,[t("div",dl,[e[27]||(e[27]=t("label",{class:"control-label"},[t("span",null,"选择店铺：")],-1)),t("div",il,[r(d(Ye),{shopId:s.shopId,"onUpdate:shopId":e[2]||(e[2]=l=>s.shopId=l),onOnChange:m},null,8,["shopId"])])])])):n("",!0),d(j)()&&C.value=="shop"?(a(),i("div",ul,[t("div",pl,[e[28]||(e[28]=t("label",{class:"control-label"},[t("span",null,"供应商：")],-1)),t("div",cl,[r(d(We),{vendorId:s.vendorId,"onUpdate:vendorId":e[3]||(e[3]=l=>s.vendorId=l),onOnChange:m},null,8,["vendorId"])])])])):n("",!0),t("div",vl,[t("div",yl,[e[29]||(e[29]=t("label",{class:"control-label"},[t("span",null,"支付方式：")],-1)),t("div",fl,[r(R,{modelValue:s.payCode,"onUpdate:modelValue":e[4]||(e[4]=l=>s.payCode=l),clearable:"",onChange:m},{default:o(()=>[(a(!0),i(w,null,z(Q,l=>(a(),p(L,{label:l.label,value:l.value},null,8,["label","value"]))),256))]),_:1},8,["modelValue"])])])]),t("div",ml,[t("div",bl,[e[30]||(e[30]=t("label",{class:"control-label"},[t("span",null,"支付状态：")],-1)),t("div",gl,[r(R,{modelValue:s.payStatus,"onUpdate:modelValue":e[5]||(e[5]=l=>s.payStatus=l),clearable:"",onChange:m},{default:o(()=>[(a(!0),i(w,null,z(ve,l=>(a(),p(L,{label:l.label,value:l.value},null,8,["label","value"]))),256))]),_:1},8,["modelValue"])])])]),t("div",kl,[t("div",_l,[e[31]||(e[31]=t("label",{class:"control-label"},[t("span",null,"发货状态：")],-1)),t("div",hl,[r(R,{modelValue:s.shippingStatus,"onUpdate:modelValue":e[6]||(e[6]=l=>s.shippingStatus=l),clearable:"",onChange:m},{default:o(()=>[(a(!0),i(w,null,z(ce,l=>(a(),p(L,{label:l.label,value:l.value},null,8,["label","value"]))),256))]),_:1},8,["modelValue"])])])]),t("div",Sl,[t("div",wl,[e[32]||(e[32]=t("label",{class:"control-label"},[t("span",null," 详细地址：")],-1)),t("div",Cl,[r(E,{modelValue:s.address,"onUpdate:modelValue":e[7]||(e[7]=l=>s.address=l),onKeyup:$(m,["enter"]),clearable:"",onClear:m},null,8,["modelValue"])])])]),t("div",Il,[t("div",xl,[e[33]||(e[33]=t("label",{class:"control-label"},[t("span",null,"Email：")],-1)),t("div",Ol,[r(E,{modelValue:s.email,"onUpdate:modelValue":e[8]||(e[8]=l=>s.email=l),onKeyup:$(m,["enter"]),clearable:"",onClear:m},null,8,["modelValue"])])])]),t("div",Tl,[t("div",Dl,[e[34]||(e[34]=t("label",{class:"control-label"},[t("span",null,"手机号：")],-1)),t("div",Vl,[r(E,{modelValue:s.mobile,"onUpdate:modelValue":e[9]||(e[9]=l=>s.mobile=l),onKeyup:$(m,["enter"]),clearable:"",onClear:m},null,8,["modelValue"])])])]),t("div",zl,[t("div",Pl,[e[35]||(e[35]=t("label",{class:"control-label"},[t("span",null,"配送物流：")],-1)),t("div",Ll,[r(d(Ke),{logisticsId:s.logisticsId,"onUpdate:logisticsId":e[10]||(e[10]=l=>s.logisticsId=l),onOnChange:m},null,8,["logisticsId"])])])]),C.value!=="vendor"?(a(),i("div",Ul,[t("div",Nl,[e[36]||(e[36]=t("label",{class:"control-label"},[t("span",null,"订单标记：")],-1)),t("div",Al,[r(R,{modelValue:s.mark,"onUpdate:modelValue":e[11]||(e[11]=l=>s.mark=l),clearable:"",onChange:m},{label:o(()=>[s.mark!==-1?(a(),p(q,{key:0,value:s.mark},null,8,["value"])):(a(),i(w,{key:1},[v(" 全部订单 ")],64))]),default:o(()=>[(a(),i(w,null,z(ye,l=>(a(),i(w,{key:l.value},[l.value!==-1?(a(),p(L,{key:0,value:l.value},{default:o(()=>[r(q,{value:l.value},null,8,["value"])]),_:2},1032,["value"])):(a(),p(L,{key:1,label:"全部订单",value:-1}))],64))),64))]),_:1},8,["modelValue"])])])])):n("",!0),t("div",Fl,[t("div",Bl,[e[37]||(e[37]=t("label",{class:"control-label"},[t("span",null,"下单时间：")],-1)),r(d(Qe),{"end-date":s.addEndTime,"onUpdate:endDate":e[12]||(e[12]=l=>s.addEndTime=l),"start-date":s.addStartTime,"onUpdate:startDate":e[13]||(e[13]=l=>s.addStartTime=l),clearable:!1,type:"date","value-format":"YYYY-MM-DD"},null,8,["end-date","start-date"])])]),t("div",El,[t("div",Rl,[e[40]||(e[40]=t("label",{class:"control-label"},null,-1)),t("div",$l,[r(c,{type:"primary",plain:"",onClick:m},{default:o(()=>[...e[38]||(e[38]=[v("搜索",-1)])]),_:1}),r(c,{plain:"",onClick:me},{default:o(()=>[...e[39]||(e[39]=[v("重置",-1)])]),_:1})])])])])])]),t("div",Ml,[t("div",jl,[r(De,null,{default:o(()=>[d(A)()&&C.value!=="vendor"?(a(),p(d(_),{key:0,title:"扫码核销",bodyStyle:{padding:0},"is-drawer":!1,path:"order/order/src/ScanCode",width:"550px",showFooter:!1,centered:!0,onOkCallback:y},{default:o(()=>[r(c,{type:"primary"},{default:o(()=>[...e[41]||(e[41]=[v(" 扫码核销 ",-1)])]),_:1})]),_:1})):n("",!0),C.value!=="vendor"?(a(),i(w,{key:1},[f.value.length>0?(a(),p(ie,{key:0,title:"添加标记",ids:f.value,onCallBack:y},{default:o(()=>[r(c,null,{default:o(()=>[...e[42]||(e[42]=[v(" 标记 ",-1)])]),_:1})]),_:1},8,["ids"])):(a(),p(c,{key:1,disabled:!0},{default:o(()=>[...e[43]||(e[43]=[v(" 标记 ",-1)])]),_:1}))],64)):n("",!0),f.value.length>0?(a(),p(c,{key:2,onClick:e[14]||(e[14]=l=>Se(`/print/orderPrint?ids=${f.value}`))},{default:o(()=>[...e[44]||(e[44]=[v(" 批量打印配送单 ",-1)])]),_:1})):(a(),p(c,{key:3,disabled:!0},{default:o(()=>[...e[45]||(e[45]=[v(" 批量打印配送单 ",-1)])]),_:1})),d(Ae)()&&X.value?(a(),i(w,{key:4},[f.value.length>0?(a(),p(c,{key:0,onClick:e[15]||(e[15]=l=>ge(f.value))},{default:o(()=>[...e[46]||(e[46]=[v(" 批量打印小票 ",-1)])]),_:1})):(a(),p(c,{key:1,disabled:!0},{default:o(()=>[...e[47]||(e[47]=[v(" 批量打印小票 ",-1)])]),_:1}))],64)):n("",!0),f.value.length>0?(a(),i("span",ql,[e[48]||(e[48]=v(" 已选择：",-1)),t("b",null,b(f.value.length),1),e[49]||(e[49]=v(" 项 ",-1))])):n("",!0)]),_:1})])]),t("div",Yl,[r(Ve,{spinning:O.value},{default:o(()=>[t("table",Kl,[t("thead",null,[t("tr",null,[t("th",null,[r(Z,{modelValue:M.value,"onUpdate:modelValue":e[16]||(e[16]=l=>M.value=l),indeterminate:xe.value,class:"check-box mr10",onChange:Oe},null,8,["modelValue","indeterminate"]),r(re,{sortField:s.sortField,"onUpdate:sortField":e[17]||(e[17]=l=>s.sortField=l),sortOrder:s.sortOrder,"onUpdate:sortOrder":e[18]||(e[18]=l=>s.sortOrder=l),sortName:"orderId",text:"订单信息(下单时间排序)",onLoadData:e[19]||(e[19]=l=>m())},null,8,["sortField","sortOrder"])]),t("th",null,[r(re,{sortField:s.sortField,"onUpdate:sortField":e[20]||(e[20]=l=>s.sortField=l),sortOrder:s.sortOrder,"onUpdate:sortOrder":e[21]||(e[21]=l=>s.sortOrder=l),sortName:"totalAmount",text:"订单金额",onLoadData:e[22]||(e[22]=l=>m())},null,8,["sortField","sortOrder"])]),e[50]||(e[50]=t("th",null,"会员名称",-1)),e[51]||(e[51]=t("th",null,"收货人信息",-1)),e[52]||(e[52]=t("th",{style:{"text-align":"start"}},"物流/支付信息",-1)),e[53]||(e[53]=t("th",{style:{"text-align":"start"}},"订单状态",-1)),e[54]||(e[54]=t("th",{class:"textR"},"操作",-1))])])]),(a(!0),i(w,null,z(x.value,l=>{var le;return a(),i("table",Ql,[t("thead",null,[t("tr",Wl,[t("th",Xl,[r(Z,{modelValue:l.checkBox,"onUpdate:modelValue":g=>l.checkBox=g,class:"check-box mr10",onChange:g=>Te(l)},null,8,["modelValue","onUpdate:modelValue","onChange"]),l.mark?(a(),p(T,{key:0,disabled:!l.adminNote,content:l.adminNote,effect:"light",placement:"top"},{default:o(()=>[r(q,{class:"check-box tag",value:l.mark},null,8,["value"])]),_:2},1032,["disabled","content"])):n("",!0),t("span",Gl,"订单编号："+b(l.orderSn),1),r(ee,{direction:"vertical"}),l.payLog?(a(),i("span",Hl,"交易单号："+b((le=l.payLog)==null?void 0:le.transactionId),1)):n("",!0),l.payLog?(a(),p(ee,{key:2,direction:"vertical"})):n("",!0),t("span",Jl,"下单时间："+b(l.addTime),1),l.parentOrderId>0?(a(),p(d(_),{key:3,params:{act:"parentDetail",id:l.orderId,isParent:!0},showClose:!1,showOnOk:!1,title:"订单详情 "+l.orderSn,isDrawer:"",style:{display:"inline-block"},path:"order/order/Info",width:"880px",onCallback:y},{default:o(()=>[l.parentOrderId>0?(a(),p(T,{key:0,content:"该订单已拆分，点击可查看父订单",effect:"light",placement:"top"},{default:o(()=>[r(d(D),{text:"子订单"})]),_:1})):n("",!0)]),_:2},1032,["params","title"])):n("",!0),l.shopId>0&&d(se)()?(a(),p(T,{key:4,content:"订单来自店铺："+l.shop.shopTitle,effect:"light",placement:"top"},{default:o(()=>[r(d(D),{transparent:!1,text:"店铺"})]),_:1},8,["content"])):n("",!0),l.shopId>0&&d(A)()?(a(),p(T,{key:5,content:"订单来门店："+l.shop.shopTitle,effect:"light",placement:"top"},{default:o(()=>[r(d(D),{transparent:!1,text:"门店"})]),_:1},8,["content"])):n("",!0),l.vendorId>0&&d(j)()?(a(),p(T,{key:6,content:"订单来自供应商："+l.vendorName,effect:"light",placement:"top"},{default:o(()=>[r(d(D),{transparent:!1,color:"#c065ff",text:"供应商"})]),_:1},8,["content"])):n("",!0),l.orderSource?(a(),p(T,{key:7,content:"订单来自"+l.orderSource+"下单",effect:"light",placement:"top"},{default:o(()=>[r(d(D),{text:l.orderSource,transparent:!0,style:{"text-transform":"uppercase"}},null,8,["text"])]),_:2},1032,["content"])):n("",!0),l.isExchangeOrder?(a(),p(d(D),{key:8,transparent:!0,color:"red",text:"积分兑换"})):n("",!0),l.payLog?(a(),p(T,{key:9,content:"订单使用"+W(l.payLog.payCode)+"下单",effect:"light",placement:"top"},{default:o(()=>[r(d(D),{transparent:!0,color:"blue",text:W(l.payLog.payCode)},null,8,["text"])]),_:2},1032,["content"])):n("",!0)]),t("th",Zl,[t("div",et,[r(d(_),{params:{act:"detail",id:l.orderId},showClose:!1,showOnOk:!1,title:"订单详情 "+l.orderSn,isDrawer:"",path:"order/order/Info",width:"880px",onCallback:y},{default:o(()=>[r(c,{bg:"",class:"buttonColor mr10",size:"small",text:"",type:"primary"},{default:o(()=>[...e[55]||(e[55]=[v(" 查看详情",-1)])]),_:1})]),_:1},8,["params","title"]),r(ie,{title:"添加标记",item:l,onCallBack:y},{default:o(()=>[r(c,{bg:"",class:"buttonColor",size:"small",text:"",type:"primary"},{default:o(()=>[...e[56]||(e[56]=[v(" 标记 ",-1)])]),_:1})]),_:1},8,["item"])])])])]),t("tbody",null,[(a(!0),i(w,null,z(l.items,(g,V)=>(a(),i("tr",null,[t("td",null,[t("div",lt,[r(d($e),{picThumb:g.picThumb,productId:g.productId,productName:g.productName,productType:g.productType,url:g.url,skuData:g.skuData},null,8,["picThumb","productId","productName","productType","url","skuData"]),t("div",tt,[t("div",null,b(d(de)(g.price)),1),t("div",null,"× "+b(g.quantity),1)])])]),V==0?(a(),i("td",{key:0,rowspan:l.items.length},[t("div",st,[t("div",null,b(d(de)(l.totalAmount)),1),t("div",ot,"(含运费："+b(l.shippingFee)+")",1),t("div",null,[l.status===6||l.status===7?(a(),p(d(_),{key:0,params:{act:"detail",id:l.aftersaleId},isDrawer:"",path:"order/aftersales/Info",title:"售后详情 "+l.aftersalesSn,width:"800px",onOkCallback:y,showClose:!1,showOnOk:!1},{default:o(()=>[r(c,{bg:"",class:"buttonColor",size:"small",text:"",type:"primary"},{default:o(()=>[...e[57]||(e[57]=[v(" 售后详情 ",-1)])]),_:1})]),_:1},8,["params","title"])):n("",!0)])])],8,at)):n("",!0),V==0?(a(),i("td",{key:1,rowspan:l.items.length},[t("div",nt,[t("div",null,[r(d(_),{params:{act:"detail",id:l.userId},isDrawer:"",path:"user/user/Detail",title:"用户信息",width:"800px",onOkCallback:y,showOnOk:!1},{default:o(()=>{var U,te;return[t("a",null,b(((U=l.user)==null?void 0:U.nickname)||((te=l.user)==null?void 0:te.username)||"--"),1)]}),_:2},1032,["params"])])])],8,rt)):n("",!0),V==0?(a(),i("td",{key:2,rowspan:l.items.length},[!l.isPickup||l.shippingTypeId==3?(a(),i("div",it,[t("div",ut,[e[58]||(e[58]=v(" 收货人： ",-1)),t("span",pt,b(d(oe)(l.consignee,1,1)),1)]),t("div",ct,[e[59]||(e[59]=v(" 手机号： ",-1)),t("span",vt,[t("span",null,[r(Xe,{mobile:l.mobile},null,8,["mobile"])])])]),t("div",yt,[e[60]||(e[60]=t("span",{class:"label"}," 收货地址： ",-1)),t("span",ft,b(d(oe)(l.userAddress,16,0)),1)])])):n("",!0),l.isPickup&&g.productType!==5&&g.productType!==6?(a(),i("div",mt,[...e[61]||(e[61]=[t("span",{class:"black"}," 自提订单 ",-1)])])):n("",!0),l.isPickup&&g.productType===5?(a(),i("div",bt,[...e[62]||(e[62]=[t("span",{class:"black"}," 预约上门订单 ",-1)])])):n("",!0),l.isPickup&&g.productType===6?(a(),i("div",gt,[...e[63]||(e[63]=[t("span",{class:"black"}," 预约到店订单 ",-1)])])):n("",!0)],8,dt)):n("",!0),V==0?(a(),i("td",{key:3,rowspan:l.items.length},[t("div",_t,[t("div",null,[t("span",null,b(l.payTypeId===1?"在线支付":l.payTypeId===2?"货到付款":"线下支付"),1)]),l.logisticsName?(a(),i("div",ht,[v(b(l.shippingTypeName)+" ",1),l.shippingTypeId!==3?(a(),i("span",St,b(""+l.logisticsName),1)):n("",!0)])):n("",!0)])],8,kt)):n("",!0),V==0?(a(),i("td",{key:4,rowspan:l.items.length},[t("span",{class:Fe({orange:l.orderStatus===0,black:l.orderStatus===1||l.orderStatus===2||l.orderStatus===4,gray:l.orderStatus===3,green:l.orderStatus===5})},b(l.orderStatusName),3)],8,wt)):n("",!0),V==0?(a(),i("td",{key:5,rowspan:l.items.length},[l.joinStatus===1&&l.orderStatus===1||l.joinStatus===3?(a(),i("div",It," - ")):(a(),i("div",xt,[l.availableActions.cancelOrder?(a(),p(d(_),{key:0,params:{act:"cancelOrder",id:l.orderId},isDrawer:"",path:"order/order/src/Operation",title:"取消订单",width:"600px",onOkCallback:y},{default:o(()=>[r(c,{bg:"",class:"buttonColor",size:"small",text:"",type:"primary"},{default:o(()=>[...e[64]||(e[64]=[v(" 取消订单 ",-1)])]),_:1})]),_:1},8,["params"])):n("",!0),l.availableActions.delOrder?(a(),p(c,{key:1,bg:"",size:"small",text:"",type:"primary",onClick:U=>we(l.orderId)},{default:o(()=>[...e[65]||(e[65]=[v(" 删除订单 ",-1)])]),_:1},8,["onClick"])):n("",!0),!l.isPickup&&l.availableActions.deliver&&C.value!=="vendor"&&!l.vendorId&&l.shippingTypeId!==3||l.availableActions.deliver&&C.value=="vendor"?(a(),p(d(_),{key:2,params:{act:"detail",id:l.orderId},title:"订单发货 "+l.orderSn,isDrawer:"",path:"order/order/src/ToShip",width:"900px",onOkCallback:y},{default:o(()=>[r(c,{bg:"",size:"small",text:"",type:"danger"},{default:o(()=>[...e[66]||(e[66]=[v(" 去发货 ",-1)])]),_:1})]),_:1},8,["params","title"])):n("",!0),d(A)()&&l.availableActions.deliver&&l.orderType!==9&&l.orderType!==10&&(l.isPickup||l.shippingTypeId===3)?(a(),p(d(Ee),{key:3,params:{id:l.orderId,shippingMethod:3,deliverData:J(l.items),LogisticsId:0,trackingNo:""},requestApi:d(je),title:"该订单备货完成吗？",message:"备货完成",onAfterDelete:y},{default:o(()=>[r(c,{bg:"",size:"small",text:"",type:"danger"},{default:o(()=>[...e[67]||(e[67]=[v(" 去备货 ",-1)])]),_:1})]),_:1},8,["params","requestApi"])):n("",!0),l.availableActions.deliver&&l.vendorId&&d(j)()&&C.value!=="vendor"?(a(),p(c,{key:4,bg:"",size:"small",text:"",type:"danger",onClick:U=>Ie(l.orderId)},{default:o(()=>[...e[68]||(e[68]=[v(" 催发货 ",-1)])]),_:1},8,["onClick"])):n("",!0),!l.isPickup&&l.availableActions.confirmReceipt?(a(),p(c,{key:5,bg:"",size:"small",text:"",type:"danger",onClick:U=>Ce(l.orderId)},{default:o(()=>[v(b(l.shippingTypeId===3?"完成配送":"确认收货"),1)]),_:2},1032,["onClick"])):n("",!0),d(A)()&&l.isPickup&&l.availableActions.confirmReceipt?(a(),p(d(_),{key:6,params:{act:"detail",id:l.orderId},title:"订单核销 "+l.orderSn,isDrawer:"",path:"order/order/src/ToWriteOff",width:"900px",onOkCallback:y},{default:o(()=>[r(c,{bg:"",size:"small",text:"",type:"danger"},{default:o(()=>[...e[69]||(e[69]=[v(" 去核销 ",-1)])]),_:1})]),_:1},8,["params","title"])):n("",!0),d(A)()&&l.availableActions.deliver&&(l.orderType==9||l.orderType==10)?(a(),p(d(_),{key:7,params:{id:l.orderId,act:"detail",params:{id:l.orderId,shippingMethod:3,deliverData:J(l.items),LogisticsId:0,trackingNo:""}},title:"订单核销 "+l.orderSn,isDrawer:"",path:"order/order/src/StockUp",width:"900px",onOkCallback:y},{default:o(()=>[r(c,{bg:"",size:"small",text:"",type:"danger"},{default:o(()=>[...e[70]||(e[70]=[v(" 去核销",-1)])]),_:1})]),_:1},8,["params","title"])):n("",!0),l.isChangeOrderStatus?(a(),i("div",Ot,[l.availableActions.deliver?(a(),p(d(_),{key:0,params:{id:l.orderId,preOrderStatus:l.preOrderStatus},isDrawer:"",path:"order/order/src/ChangeStatus",title:"取消订单",width:"600px",onOkCallback:y},{default:o(()=>[r(c,{bg:"",class:"buttonColor",size:"small",text:"",type:"primary"},{default:o(()=>[...e[71]||(e[71]=[v(" 取消订单 ",-1)])]),_:1})]),_:1},8,["params"])):n("",!0),l.availableActions.confirmReceipt?(a(),p(d(_),{key:1,params:{id:l.orderId,preOrderStatus:l.preOrderStatus},isDrawer:"",path:"order/order/src/ChangeStatus",title:"取消发货",width:"600px",onOkCallback:y},{default:o(()=>[r(c,{bg:"",class:"buttonColor",size:"small",text:"",type:"primary"},{default:o(()=>[...e[72]||(e[72]=[v(" 取消发货 ",-1)])]),_:1})]),_:1},8,["params"])):n("",!0)])):n("",!0)]))],8,Ct)):n("",!0)]))),256))])])}),256)),F.value==0?(a(),i("div",Tt,[O.value?n("",!0):(a(),i("div",Dt,"暂无数据"))])):n("",!0)]),_:1},8,["spinning"])]),F.value>0?(a(),i("div",Vt,[r(d(Re),{page:s.page,"onUpdate:page":e[23]||(e[23]=l=>s.page=l),size:s.size,"onUpdate:size":e[24]||(e[24]=l=>s.size=l),total:F.value,onCallback:y},null,8,["page","size","total"])])):n("",!0)])])])}}}),pa=Be(zt,[["__scopeId","data-v-7ae28692"]]);export{pa as default};

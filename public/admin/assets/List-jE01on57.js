import{d as me,x as fe,r as U,A as D,E as q,W as c,g as f,i as s,z as d,m as l,j as e,l as i,P as ke,f as v,b as _e,h as a,a8 as ve,Q as m,k as p,ac as b,D as F,ae as ye,t as y,av as be,ax as ge,_ as he}from"./index-B52YIGC0.js";/* empty css             */import"./index-KjhYqCTY.js";import{P as N}from"./PopSelect.vue_vue_type_style_index_0_scoped_5832cf6b_lang-CRFq-JzZ.js";import{_ as Ce}from"./Switch.vue_vue_type_script_setup_true_lang-D-71VfIC.js";import{D as z}from"./DeleteRecord-BTXBpwL2.js";/* empty css                                                                    */import{P as Ie}from"./Pagination-C8J7-6Em.js";import{u as Q,i as Se}from"./format-BxqOrW-w.js";import{g as Pe,a as Ae,u as S,r as Oe,c as xe,b as De}from"./product-hE35r0Q_.js";import{S as qe}from"./SelectBrand-tHlymKqU.js";import{_ as Te}from"./SelectCategory.vue_vue_type_script_setup_true_lang-Bb2xH4oQ.js";import"./SelectTimeInterval.vue_vue_type_style_index_0_scoped_207fe586_lang-1fz1RqDZ.js";/* empty css                                                                  *//* empty css                                                                              */import{_ as J}from"./SelectShop.vue_vue_type_script_setup_true_lang-DUXAAhbc.js";/* empty css                                                                     */import Ve from"./ProductStockPop-DNU3XMrU.js";import{u as Ue}from"./useListRequest-CprjeVXp.js";import{_ as h}from"./DialogForm.vue_vue_type_script_setup_true_lang-CT6mpwCc.js";import"./index-C9ZdVeVx.js";import"./brand-CyfpB5Ly.js";import"./category-BhaHXalE.js";import"./category-D6KF81Ae.js";import"./time-EzYK4E-P.js";import"./shop-CBisV8Of.js";import"./bindShop-C4HDB3WM.js";const Ne={class:"container"},ze={class:"content_wrapper"},$e={class:"lyecs-table-list-warp"},Re={class:"list-table-tool lyecs-search-warp"},Be={class:"advanced-search-warp list-table-tool-row"},Fe={class:"simple-form-warp"},Le={class:"simple-form-field"},Ee={class:"form-group"},Ke={class:"control-container"},we={key:0,class:"simple-form-field"},We={class:"form-group"},je={class:"control-container"},He={key:1,class:"simple-form-field"},Ge={class:"form-group"},Me={class:"control-container"},Qe={class:"simple-form-field"},Je={class:"form-group"},Xe={class:"control-container"},Ye={class:"simple-form-field"},Ze={class:"form-group"},et={class:"control-container"},tt={class:"simple-form-field"},ot={class:"form-group"},st={class:"control-container"},lt={class:"simple-form-warp"},at={class:"simple-form-field"},dt={class:"control-container"},nt={class:"list-table-tool-row"},it={class:"list-table-tool-col"},rt={key:10},pt={class:"table-container"},ut={class:"flex"},ct={key:0,class:"span-pic"},mt=["href"],ft=["src"],kt={class:"span-product-con"},_t={class:"span-product-name",style:{"word-break":"break-all"}},vt={key:1},yt={key:0,class:"span-product-brand"},bt={class:"span-con"},gt={key:1,class:"span-product-brand"},ht={class:"span-con green"},Ct={key:2,class:"span-product-brand"},It={class:"span-con green"},St={key:3,class:"span-product-brand"},Pt={class:"span-con green"},At={key:4,class:"span-product-brand"},Ot={class:"span-con green"},xt={key:5},Dt={class:"span-con"},qt={key:1},Tt={class:"span-con"},Vt={key:1},Ut={class:"status-switch"},Nt={key:0},zt=["title"],$t=["title"],Rt={key:1},Bt={key:1},Ft={class:"flex flex-align-center"},Lt={key:1},Et=["href"],Kt={style:{width:"100%",padding:"5px 0","border-top":"1px solid #dcdfe6"}},wt={class:"empty-warp"},Wt={key:0,class:"empty-bg"},jt={key:0,class:"pagination-con"},Ht=me({__name:"List",setup(Gt){const X=_e(),Y=fe(),L=U(0),n=U(1),{listData:Z,loading:E,total:$,selectedIds:I,filterParams:r,loadData:_,onSearchSubmit:P,onSortChange:ee,onSelectChange:te,onBatchAction:oe}=Ue({apiFunction:Ae,idKey:"productId",defaultParams:{page:1,size:Y.get("pageSize"),sortField:"",sortOrder:"",keyword:"",introType:"",isDelete:0,searchShop:0,shopId:"",categoryId:"",brandId:"",productStatus:1,checkStatus:1,type:1}});_();const K=u=>{n.value=u,r.productStatus=u>=1&&u<=3?1:u>=4&&u<=6?0:void 0,r.checkStatus=u>=1&&u<=4?1:u===5?0:u===6?2:void 0,r.shopId=u===2?0:"",r.isDelete=u===7?1:0,r.searchShop=u===3?1:0,r.type=u==1?1:u==5?2:null,r.page=1,(u===5||u===6)&&delete r.productStatus,Object.keys(r).forEach(t=>{r[t]===void 0&&delete r[t]}),_()},se=()=>{r.sortField="",r.sortOrder="",r.keyword="",r.introType="",r.isDelete=0,r.searchShop=0,r.shopId="",r.categoryId="",r.brandId="",r.productStatus=1,r.checkStatus=1,K(n.value)},R=U([{label:"出售中的商品",value:1,isShow:!0},{label:"自营商品",value:2,isShow:c()==="admin"&&D()},{label:"店铺商品",value:3,isShow:c()==="admin"&&D()},{label:"门店商品",value:3,isShow:c()==="admin"&&q()},{label:"已下架商品",value:4,isShow:!0},{label:"商品回收站",value:7,isShow:!0},{label:"待审核商品",value:5,count:0,isShow:c()==="admin"&&D()},{label:"审核失败商品",value:6,isShow:c()==="shop"}]),w=U(),le=u=>{X.push({path:"/product/inventory-calendar/list",query:{productName:u.productName}})},W=u=>{w.value.SelectShopChange(u),P()};(async()=>{try{const u=await Pe();L.value=u,R.value=R.value.map(t=>(t.value===5&&(t.count=L.value||0),t))}catch(u){ke.error(u.message)}})();const A=U({}),O=async u=>{await oe(u,De)};return(u,t)=>{const ae=v("TigTabs"),k=v("el-button"),de=v("TigInput"),B=v("el-option"),ne=v("el-select"),ie=v("router-link"),x=v("el-popconfirm"),j=v("el-space"),re=v("el-form"),C=v("el-table-column"),H=v("el-icon"),pe=v("el-tooltip"),T=v("el-divider"),V=v("el-dropdown-item"),G=v("el-dropdown-menu"),M=v("el-dropdown"),ue=v("el-table"),ce=v("a-spin");return a(),f("div",Ne,[s("div",ze,[s("div",$e,[d(ae,{modelValue:n.value,"onUpdate:modelValue":t[0]||(t[0]=o=>n.value=o),tabs:R.value,onOnTabChange:K},null,8,["modelValue","tabs"]),s("div",Re,[d(re,{model:e(r),name:"form"},{default:l(()=>[s("div",Be,[s("div",Fe,[s("div",Le,[s("div",Ee,[t[16]||(t[16]=s("label",{class:"control-label"},[s("span",null,"商品名称：")],-1)),s("div",Ke,[d(de,{modelValue:e(r).keyword,"onUpdate:modelValue":t[1]||(t[1]=o=>e(r).keyword=o),name:"keyword",placeholder:"输入商品名称/货号",onKeyup:ve(e(P),["enter"]),clearable:"",onClear:e(P)},{append:l(()=>[d(k,{onClick:e(P)},{default:l(()=>[...t[15]||(t[15]=[s("span",{class:"iconfont icon-chakan1"},null,-1)])]),_:1},8,["onClick"])]),_:1},8,["modelValue","onKeyup","onClear"])])])]),n.value!==2&&e(c)()!="shop"&&e(D)()?(a(),f("div",we,[s("div",We,[t[17]||(t[17]=s("label",{class:"control-label"},[s("span",null,"店铺：")],-1)),s("div",je,[d(e(J),{shopId:e(r).shopId,"onUpdate:shopId":t[2]||(t[2]=o=>e(r).shopId=o),onOnChange:W},null,8,["shopId"])])])])):i("",!0),n.value!==2&&e(c)()!="shop"&&e(q)()?(a(),f("div",He,[s("div",Ge,[t[18]||(t[18]=s("label",{class:"control-label"},[s("span",null,"门店：")],-1)),s("div",Me,[d(e(J),{shopId:e(r).shopId,"onUpdate:shopId":t[3]||(t[3]=o=>e(r).shopId=o),type:2,placeholder:"请输入门店名称",onOnChange:W},null,8,["shopId"])])])])):i("",!0),s("div",Qe,[s("div",Je,[t[19]||(t[19]=s("label",{class:"control-label"},[s("span",null,"分类：")],-1)),s("div",Xe,[d(e(Te),{ref_key:"selectCategoryRef",ref:w,categoryId:e(r).categoryId,"onUpdate:categoryId":t[4]||(t[4]=o=>e(r).categoryId=o)},null,8,["categoryId"])])])]),s("div",Ye,[s("div",Ze,[t[20]||(t[20]=s("label",{class:"control-label"},[s("span",null,"品牌：")],-1)),s("div",et,[d(e(qe),{brandId:e(r).brandId,"onUpdate:brandId":t[5]||(t[5]=o=>e(r).brandId=o),onOnChange:e(P)},null,8,["brandId","onOnChange"])])])]),s("div",tt,[s("div",ot,[t[21]||(t[21]=s("label",{class:"control-label"},[s("span",null,"类型 ：")],-1)),s("div",st,[d(ne,{modelValue:e(r).introType,"onUpdate:modelValue":t[6]||(t[6]=o=>e(r).introType=o),clearable:"",onChange:e(P)},{default:l(()=>[d(B,{label:"精品",value:"isBest"}),d(B,{label:"热销",value:"isHot"}),d(B,{label:"新品",value:"isNew"})]),_:1},8,["modelValue","onChange"])])])])]),s("div",lt,[s("div",at,[t[24]||(t[24]=s("label",{class:"control-label"},null,-1)),s("div",dt,[d(k,{type:"primary",plain:"",onClick:e(P)},{default:l(()=>[...t[22]||(t[22]=[m("搜索",-1)])]),_:1},8,["onClick"]),d(k,{plain:"",onClick:se},{default:l(()=>[...t[23]||(t[23]=[m("重置",-1)])]),_:1})])])])]),s("div",nt,[s("div",it,[d(j,null,{default:l(()=>[e(c)()==="shop"&&A.value.storeIndependentGoods==1&&e(b)()>1?(a(),p(e(h),{key:0,params:{act:"add"},isDrawer:"",path:"product/product/Info",title:"添加商品",width:"950px",onOkCallback:e(_)},{default:l(()=>[d(k,{type:"primary"},{default:l(()=>[...t[25]||(t[25]=[m("添加商品",-1)])]),_:1})]),_:1},8,["onOkCallback"])):i("",!0),e(c)()==="shop"&&e(b)()==1||e(c)()==="admin"?(a(),p(e(h),{key:1,params:{act:"add"},isDrawer:"",path:"product/product/Info",title:"添加商品",width:"950px",onOkCallback:e(_)},{default:l(()=>[d(k,{type:"primary"},{default:l(()=>[...t[26]||(t[26]=[m("添加商品",-1)])]),_:1})]),_:1},8,["onOkCallback"])):i("",!0),e(F)()&&e(c)()==="shop"||e(F)()&&e(c)()==="admin"?(a(),p(e(h),{key:2,params:{act:"add"},isDrawer:"",path:"product/product/vendor/ProductList",title:"导入供应商商品",width:"1100px","show-footer":!1,onCallback:e(_)},{default:l(()=>[d(k,{type:"primary"},{default:l(()=>[...t[27]||(t[27]=[m("导入供应商商品",-1)])]),_:1})]),_:1},8,["onCallback"])):i("",!0),e(ye)()&&e(c)()==="admin"?(a(),p(ie,{key:3,to:{path:"/setting/translationContent/list",query:{type:"product"}}},{default:l(()=>[d(k,null,{default:l(()=>[...t[28]||(t[28]=[m("批量翻译商品",-1)])]),_:1})]),_:1})):i("",!0),n.value==4||n.value==1?(a(),p(x,{key:4,title:"您确认要批量移入回收站吗？",onConfirm:t[7]||(t[7]=o=>O("recycle"))},{reference:l(()=>[d(k,{disabled:e(I).length===0},{default:l(()=>[...t[29]||(t[29]=[m("批量移入回收站",-1)])]),_:1},8,["disabled"])]),_:1})):i("",!0),n.value==7?(a(),p(x,{key:5,title:"您确认要批量还原吗？",onConfirm:t[8]||(t[8]=o=>O("restore"))},{reference:l(()=>[d(k,{disabled:e(I).length===0},{default:l(()=>[...t[30]||(t[30]=[m("批量还原",-1)])]),_:1},8,["disabled"])]),_:1})):i("",!0),n.value==7?(a(),p(x,{key:6,title:"您确认要批量删除吗？",onConfirm:t[9]||(t[9]=o=>O("del"))},{reference:l(()=>[d(k,{disabled:e(I).length===0},{default:l(()=>[...t[31]||(t[31]=[m("批量删除",-1)])]),_:1},8,["disabled"])]),_:1})):i("",!0),n.value==4?(a(),p(x,{key:7,title:"您确认要批量上架吗？",onConfirm:t[10]||(t[10]=o=>O("up"))},{reference:l(()=>[d(k,{disabled:e(I).length===0},{default:l(()=>[...t[32]||(t[32]=[m("批量上架",-1)])]),_:1},8,["disabled"])]),_:1})):i("",!0),n.value==1?(a(),p(x,{key:8,title:"您确认要批量下架吗？",onConfirm:t[11]||(t[11]=o=>O("down"))},{reference:l(()=>[d(k,{disabled:e(I).length===0},{default:l(()=>[...t[33]||(t[33]=[m("批量下架",-1)])]),_:1},8,["disabled"])]),_:1})):i("",!0),n.value==5?(a(),p(x,{key:9,title:"您确认要批量通过审核吗？",onConfirm:t[12]||(t[12]=o=>O("audit"))},{reference:l(()=>[d(k,{disabled:e(I).length===0},{default:l(()=>[...t[34]||(t[34]=[m("批量通过审核",-1)])]),_:1},8,["disabled"])]),_:1})):i("",!0),e(I).length>0?(a(),f("span",rt,[t[35]||(t[35]=m(" 已选择：",-1)),s("b",null,y(e(I).length),1),t[36]||(t[36]=m(" 项 ",-1))])):i("",!0)]),_:1})])])]),_:1},8,["model"])]),s("div",pt,[d(ce,{spinning:e(E)},{default:l(()=>[d(ue,{data:e(Z),total:e($),"row-key":"productId",onSelectionChange:e(te),onSortChange:e(ee)},{empty:l(()=>[s("div",wt,[e(E)?i("",!0):(a(),f("div",Wt,"暂无数据"))])]),default:l(()=>[d(C,{type:"selection",width:"32"}),d(C,{label:"商品名称",prop:"productId",sortable:"custom","min-width":320},{default:l(({row:o})=>[s("div",ut,[o.picThumb?(a(),f("div",ct,[s("a",{href:e(Q)({path:"product",sn:o.productSn,id:o.productId}),target:"_blank"},[s("img",{src:e(Se)(o.picThumb),height:"68",width:"68",alt:""},null,8,ft)],8,mt)])):i("",!0),s("div",kt,[s("div",_t,[e(c)()==="vendor"&&o.vendorProductId==null||o.vendorProductId<0||e(b)()===2&&(A.value.storeAssignProductName===1||o.shopId)||e(b)()===1||e(c)()==="admin"?(a(),p(e(N),{key:0,max:100,"org-value":o.productName,"onUpdate:orgValue":g=>o.productName=g,params:{id:o.productId,field:"productName"},requestApi:e(S),label:"商品名称",type:"textarea"},{default:l(()=>[s("div",null,y(o.productName),1)]),_:2},1032,["org-value","onUpdate:orgValue","params","requestApi"])):(a(),f("div",vt,y(o.productName),1))]),o.brandName?(a(),f("p",yt,[t[37]||(t[37]=s("span",{class:"span-tit"},"商品：",-1)),s("span",bt,y(o.brandName),1)])):i("",!0),o.shopSimple&&e(D)()?(a(),f("p",gt,[t[38]||(t[38]=s("span",{class:"span-tit"},"店铺：",-1)),s("span",ht,y(o.shopSimple.shopTitle),1)])):i("",!0),o.shop&&e(D)()?(a(),f("p",Ct,[t[39]||(t[39]=s("span",{class:"span-tit"},"店铺：",-1)),s("span",It,y(o.shop.shopTitle),1)])):i("",!0),o.shop&&e(q)()?(a(),f("p",St,[t[40]||(t[40]=s("span",{class:"span-tit"},"门店：",-1)),s("span",Pt,y(o.shop.shopTitle),1)])):i("",!0),o.suppliersName&&e(F)()?(a(),f("p",At,[t[41]||(t[41]=s("span",{class:"span-tit"},"供应商：",-1)),s("span",Ot,y(o.suppliersName),1)])):i("",!0),o.type===2?(a(),f("p",xt,[...t[42]||(t[42]=[s("span",{class:"span-con green"},"【虚拟商品】",-1)])])):i("",!0)])])]),_:1}),d(C,{width:200,label:"商品信息"},{default:l(({row:o})=>[s("div",null,[s("div",null,[t[43]||(t[43]=s("span",{class:"span-tit"},"编码：",-1)),s("div",Dt,[e(c)()==="vendor"&&o.vendorProductId==null||o.vendorProductId<0||e(b)()===2&&o.shopId||e(b)()===1||e(c)()==="admin"?(a(),p(e(N),{key:0,"org-value":o.productSn,"onUpdate:orgValue":g=>o.productSn=g,params:{id:o.productId,field:"productSn"},requestApi:e(S),label:"货号",max:20},{default:l(()=>[s("div",null,y(o.productSn||"--"),1)]),_:2},1032,["org-value","onUpdate:orgValue","params","requestApi"])):(a(),f("div",qt,y(o.productSn||"--"),1))])]),s("div",null,[t[44]||(t[44]=s("span",{class:"span-tit"},"售价：",-1)),s("div",Tt,[e(c)()==="vendor"&&o.vendorProductId==null||o.vendorProductId<0||e(b)()===2&&(A.value.storeAssignProductPrice===1||o.shopId)||e(b)()===1||e(c)()==="admin"?(a(),p(e(N),{key:0,extra:"请输入商品价格",isPrice:"","org-value":o.productPrice,"onUpdate:orgValue":g=>o.productPrice=g,params:{id:o.productId,field:"productPrice"},requestApi:e(S),label:"售价",type:"decimal"},{default:l(()=>[s("div",null,y(o.productPrice||0),1)]),_:2},1032,["org-value","onUpdate:orgValue","params","requestApi"])):(a(),f("div",Vt,y(o.productPrice||0),1))])])])]),_:1}),n.value!=7&&n.value!=5&&n.value!=6?(a(),p(C,{key:0,width:100,label:"是否上架"},{default:l(({row:o})=>[s("div",Ut,[o.checkStatus==1?(a(),f("div",Nt,[d(e(Ce),{checked:o.productStatus,"onUpdate:checked":g=>o.productStatus=g,params:{id:o.productId,field:"productStatus"},requestApi:e(S)},null,8,["checked","onUpdate:checked","params","requestApi"])])):i("",!0)])]),_:1})):i("",!0),n.value===5||n.value===6?(a(),p(C,{key:1,width:100,label:"审核状态"},{default:l(({row:o})=>[o.checkStatus===2?(a(),f("span",{key:0,class:"red tips-hover",title:o.checkReason},[...t[45]||(t[45]=[m("审核失败 ",-1),s("i",{class:"ico-font"},"",-1)])],8,zt)):i("",!0),o.checkStatus===0?(a(),f("span",{key:1,class:"tips-hover gray",title:o.checkReason},"审核中",8,$t)):i("",!0),t[46]||(t[46]=s("br",null,null,-1))]),_:1})):i("",!0),n.value===6?(a(),p(C,{key:2,width:120,label:"失败原因","show-overflow-tooltip":""},{default:l(({row:o})=>[m(y(o.checkReason),1)]),_:1})):i("",!0),n.value!=7?(a(),p(C,{key:3,width:100,label:"库存",prop:"productStock",sortable:"custom"},{default:l(({row:o})=>[o.productType===5||o.productType===6?(a(),p(k,{key:0,type:"primary",link:"",onClick:g=>le(o)},{default:l(()=>[...t[47]||(t[47]=[m("去设置",-1)])]),_:1},8,["onClick"])):(a(),f("div",Rt,[e(c)()==="vendor"&&o.vendorProductId==null||o.vendorProductId<0||e(b)()===2&&(A.value.storeUseSoloProductStock===1||o.shopId)||e(b)()===1||e(c)()==="admin"?(a(),p(Ve,{key:0,params:{id:o.productId,productInfo:o},requestApi:e(S),onCallback:e(_)},{default:l(()=>[s("div",null,y(o.productStock),1)]),_:2},1032,["params","requestApi","onCallback"])):(a(),f("div",Bt,y(o.productStock),1))]))]),_:1})):i("",!0),n.value!=7?(a(),p(C,{key:4,width:110,label:"排序",prop:"sortOrder",sortable:"custom"},{header:l(()=>[d(pe,{class:"box-item",effect:"light",placement:"top","show-after":"300"},{content:l(()=>[...t[48]||(t[48]=[s("div",{style:{width:"100px",padding:"5px 10px"}},"排序数值越小，用户端展示越靠前",-1)])]),default:l(()=>[s("div",Ft,[t[49]||(t[49]=s("div",null,"排序",-1)),d(H,{style:{"margin-left":"5px"},size:"14",color:"#999"},{default:l(()=>[d(e(be))]),_:1})])]),_:1})]),default:l(({row:o})=>[e(c)()==="vendor"&&o.vendorProductId==null||o.vendorProductId<0||e(b)()===2&&o.shopId||e(b)()===1||e(c)()==="admin"?(a(),p(e(N),{key:0,"org-value":o.sortOrder,"onUpdate:orgValue":g=>o.sortOrder=g,params:{id:o.productId,field:"sortOrder"},requestApi:e(S),label:"排序",type:"integer"},{default:l(()=>[s("div",null,y(o.sortOrder),1)]),_:2},1032,["org-value","onUpdate:orgValue","params","requestApi"])):(a(),f("div",Lt,y(o.sortOrder),1))]),_:1})):i("",!0),d(C,{width:e(q)()&&e(c)()==="admin"?200:180,fixed:"right",label:"操作"},{default:l(({row:o})=>[d(j,{size:0},{default:l(()=>[n.value==5&&o.checkStatus===0?(a(),p(e(h),{key:0,maskClose:!1,params:{act:"detail",id:o.productId,examine:1},showClose:!1,showOnOk:!1,isDrawer:"",path:"product/product/Info",title:"商品详情",width:"900px",onOkCallback:e(_)},{default:l(()=>[...t[50]||(t[50]=[s("a",{class:"btn-link"},"详情",-1)])]),_:1},8,["params","onOkCallback"])):i("",!0),n.value==5&&o.checkStatus===0?(a(),p(T,{key:1,direction:"vertical"})):i("",!0),n.value==6&&o.checkStatus===2?(a(),p(e(h),{key:2,maskClose:!1,params:{act:"again",id:o.productId},dialogClass:"noPadding",isDrawer:"",path:"product/product/Info",title:"修改商品（重新审核）",width:"600px",onOkCallback:e(_)},{default:l(()=>[...t[51]||(t[51]=[s("a",{class:"btn-link"},"重新审核",-1)])]),_:1},8,["params","onOkCallback"])):i("",!0),n.value==5&&o.checkStatus===0?(a(),p(e(h),{key:3,maskClose:!1,params:{act:"detail",id:o.productId},dialogClass:"noPadding",isDrawer:"",path:"product/product/Examine",title:"商品审核",width:"600px",onOkCallback:e(_)},{default:l(()=>[...t[52]||(t[52]=[s("a",{class:"btn-link"},"去处理",-1)])]),_:1},8,["params","onOkCallback"])):i("",!0),n.value!=7&&n.value!=5&&n.value!=6?(a(),p(e(h),{key:4,maskClose:!1,params:{act:"detail",id:o.productId,shopId:o.shopId||0,examine:e(b)()==2&&!o.shopId?1:0,storeSettingInfo:A.value},isDrawer:"",path:"product/product/Info",title:"编辑商品",width:"950px",onOkCallback:e(_)},{default:l(()=>[...t[53]||(t[53]=[s("a",{class:"btn-link"},"编辑",-1)])]),_:1},8,["params","onOkCallback"])):i("",!0),n.value!=7?(a(),p(T,{key:5,direction:"vertical"})):i("",!0),n.value!=7&&n.value!=5&&n.value!=6?(a(),f("a",{key:6,class:"btn-link",href:e(Q)({path:"product",sn:o.productSn,id:o.productId}),target:"_blank"},"查看",8,Et)):i("",!0),n.value!=7&&n.value!=5&&n.value!=6?(a(),p(T,{key:7,direction:"vertical"})):i("",!0),n.value===7?(a(),p(e(z),{key:8,params:{id:o.productId,field:"isDelete",val:0},requestApi:e(S),title:"确定还原该商品吗？",onAfterDelete:e(_)},{default:l(()=>[...t[54]||(t[54]=[m(" 还原 ",-1)])]),_:1},8,["params","requestApi","onAfterDelete"])):i("",!0),n.value===7?(a(),p(T,{key:9,direction:"vertical"})):i("",!0),n.value===7?(a(),p(e(z),{key:10,params:{id:o.productId,field:"del",val:0},requestApi:e(S),title:"确定彻底删除该商品吗？",onAfterDelete:e(_)},{default:l(()=>[...t[55]||(t[55]=[m(" 删除 ",-1)])]),_:1},8,["params","requestApi","onAfterDelete"])):i("",!0),e(q)()&&e(c)()==="admin"&&n.value!=5&&n.value!=7&&n.value!=3&&!o.shopId?(a(),p(M,{key:11,trigger:"hover","hide-on-click":!1},{dropdown:l(()=>[d(G,null,{default:l(()=>[d(V,null,{default:l(()=>[d(e(h),{maskClose:!1,params:{id:o.productId,type:"ALL",storePostAllocationStatus:A.value.storePostAllocationStatus},path:"product/product/store/ConfirmPop",width:"500px",onOkCallback:e(_)},{default:l(()=>[d(k,{style:{width:"100%"},link:"",type:"primary"},{default:l(()=>[...t[56]||(t[56]=[m("分配给全部门店",-1)])]),_:1})]),_:1},8,["params","onOkCallback"])]),_:2},1024),d(V,null,{default:l(()=>[d(e(h),{maskClose:!1,params:{id:o.productId,type:"AREA",storePostAllocationStatus:A.value.storePostAllocationStatus},path:"product/product/store/ConfirmPop",width:"500px",onOkCallback:e(_)},{default:l(()=>[d(k,{style:{width:"100%"},link:"",type:"primary"},{default:l(()=>[...t[57]||(t[57]=[m("分配给全部区域",-1)])]),_:1})]),_:1},8,["params","onOkCallback"])]),_:2},1024),d(e(h),{dialogClass:"noPadding",maskClose:!1,params:{productId:o.productId,type:"SHOPS"},isDrawer:"",path:"product/product/store/OrganizePop",title:"分配组织",width:"1100px",onOkCallback:e(_)},{default:l(()=>[s("div",Kt,[d(V,null,{default:l(()=>[d(k,{style:{width:"100%"},link:"",type:"primary"},{default:l(()=>[...t[58]||(t[58]=[m("分配给指定组织",-1)])]),_:1})]),_:1})])]),_:1},8,["params","onOkCallback"])]),_:2},1024)]),default:l(()=>[t[59]||(t[59]=s("a",{class:"btn-link"},"分配组织",-1))]),_:2},1024)):i("",!0),e(q)()&&e(c)()==="admin"&&n.value!=5&&n.value!=7&&n.value!=3&&!o.shopId?(a(),p(T,{key:12,direction:"vertical"})):i("",!0),n.value!=7?(a(),p(M,{key:13,trigger:"hover","hide-on-click":!1},{dropdown:l(()=>[d(G,null,{default:l(()=>[d(e(z),{params:{id:o.productId,isDelete:1},requestApi:e(Oe),title:"确定把该商品移入回收站吗？",onAfterDelete:e(_)},{default:l(()=>[d(V,null,{default:l(()=>[d(k,{style:{width:"100%"},link:"",type:"primary"},{default:l(()=>[...t[60]||(t[60]=[m("移入回收站",-1)])]),_:1})]),_:1})]),_:1},8,["params","requestApi","onAfterDelete"]),d(e(z),{params:{productId:o.productId},requestApi:e(xe),title:"确定复制该商品吗？",onAfterDelete:e(_)},{default:l(()=>[d(V,null,{default:l(()=>[d(k,{style:{width:"100%"},link:"",type:"primary"},{default:l(()=>[...t[61]||(t[61]=[m("复制",-1)])]),_:1})]),_:1})]),_:1},8,["params","requestApi","onAfterDelete"])]),_:2},1024)]),default:l(()=>[d(H,{class:"btn-link",size:"12"},{default:l(()=>[d(e(ge))]),_:1})]),_:2},1024)):i("",!0)]),_:2},1024)]),_:1},8,["width"])]),_:1},8,["data","total","onSelectionChange","onSortChange"])]),_:1},8,["spinning"]),e($)>0?(a(),f("div",jt,[d(e(Ie),{page:e(r).page,"onUpdate:page":t[13]||(t[13]=o=>e(r).page=o),size:e(r).size,"onUpdate:size":t[14]||(t[14]=o=>e(r).size=o),total:e($),onCallback:e(_)},null,8,["page","size","total","onCallback"])])):i("",!0)])])])])}}}),Io=he(Ht,[["__scopeId","data-v-056c6a58"]]);export{Io as default};

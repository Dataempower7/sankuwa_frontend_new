/* empty css             */import h from"./stepTable-DzVQzSOO.js";import{R as C}from"./RadioType-_K8vK_oe.js";import{s as R,g as L}from"./promoteMode-iKf0V1t6.js";import{d as B,u as N,r as f,ab as z,o as D,f as r,g as d,h as o,i,l as u,z as s,m as n,k as y,Q as c,ah as j,j as I,P as v,_ as M}from"./index-B52YIGC0.js";import"./popover-7bp81uKc.js";/* empty css                                                                  */const U={class:"container"},q={class:"content_wrapper"},E={key:1,class:"tit"},F={class:"promote-table"},O={key:0,class:"extra"},P={key:1,class:"extra"},Q={class:"selected-action"},A=B({__name:"List",setup(G){const{themeInfo:g}=N(),a=f(!0),m=z(),t=f({level:[],saleType:1,registerToSalesman:1}),b=async()=>{await m.value.formRef.validate(),t.value.level=m.value.form.typeData,console.log(t.value);try{const l=await R({...t.value});v.success("操作成功")}catch(l){v.error(l.message)}},T=async()=>{a.value=!0;try{const l=await L();Object.assign(t.value,l)}catch(l){v.error(l.message)}finally{a.value=!1}};return D(()=>{T()}),(l,e)=>{const _=r("el-radio"),k=r("el-radio-group"),x=r("el-form-item"),S=r("el-form"),w=r("a-spin"),V=r("el-button");return o(),d("div",U,[i("div",q,[s(w,{spinning:a.value},{default:n(()=>[a.value?u("",!0):(o(),y(C,{key:0,width:"250px",modelValue:t.value.saleType,"onUpdate:modelValue":e[0]||(e[0]=p=>t.value.saleType=p),radioList:[{key:1,title:"一级分销",desc:"分销员在客户下单后获得佣金"},{key:2,title:"二级分销",desc:"分销员在客户下单、下级卖货后可均可获得邀请奖励"}]},null,8,["modelValue"])),a.value?u("",!0):(o(),d("div",E,[...e[2]||(e[2]=[i("h2",null,"分销员等级方案",-1)])])),i("div",F,[a.value?u("",!0):(o(),y(h,{key:0,ref_key:"stepTableRef",ref:m,distributionLevel:t.value.saleType,typeData:t.value.level},null,8,["distributionLevel","typeData"]))]),s(S,{model:t.value,"label-width":"auto",class:"mt20"},{default:n(()=>[s(x,{label:"成为分销员：",required:""},{default:n(()=>[i("div",null,[s(k,{modelValue:t.value.registerToSalesman,"onUpdate:modelValue":e[1]||(e[1]=p=>t.value.registerToSalesman=p)},{default:n(()=>[s(_,{value:0},{default:n(()=>[...e[3]||(e[3]=[c("手动创建分销员",-1)])]),_:1}),s(_,{value:1},{default:n(()=>[...e[4]||(e[4]=[c("自动成为分销员",-1)])]),_:1})]),_:1},8,["modelValue"]),t.value.registerToSalesman===0?(o(),d("div",O,"手动创建分销员：商城所有一级分销员，需人工手动创建")):u("",!0),t.value.registerToSalesman===1?(o(),d("div",P," 自动成为分销员：用户通过商城完成注册流程后，系统自动授予分销员身份 ")):u("",!0)])]),_:1})]),_:1},8,["model"])]),_:1},8,["spinning"])]),e[6]||(e[6]=i("div",{style:{height:"20px"}},null,-1)),a.value?u("",!0):(o(),d("div",{key:0,class:"selected-action-warp selected-warp-left",style:j({left:I(g).layout!=="topMenu"?"369px":"270px"})},[i("div",Q,[s(V,{loading:a.value,class:"form-submit-btn",size:"large",type:"primary",onClick:b},{default:n(()=>[...e[5]||(e[5]=[c("保 存",-1)])]),_:1},8,["loading"])])],4))])}}}),$=M(A,[["__scopeId","data-v-ddb69a88"]]);export{$ as default};

import{a6 as L,d as P,r as p,x as U,as as B,o as F,g as m,i as o,z as s,m as r,q as O,l as f,j as q,P as M,f as i,h as g,_ as j}from"./index-B52YIGC0.js";/* empty css             *//* empty css                                                                    */import{P as E}from"./Pagination-C8J7-6Em.js";const A=v=>L({url:"product/productInventoryLog/list",method:"get",params:v}),D={class:"container"},G={class:"content_wrapper"},H={class:"lyecs-table-list-warp"},J={class:"list-table-tool lyecs-search-warp"},K={class:"list-table-tool-row"},Q={class:"simple-form-warp"},R={class:"simple-form-field"},W={class:"form-group"},X={class:"control-container"},Y={class:"simple-form-field"},Z={class:"form-group"},$={class:"tabs flex"},ee={class:"table-container"},te={class:"empty-warp"},oe={key:0,class:"empty-bg"},se={key:0,class:"pagination-con"},ae=P({__name:"List",setup(v){const h=p([{value:0,label:"全部",isShow:!0},{value:1,label:"入库",isShow:!0},{value:2,label:"出库",isShow:!0}]),y=U(),b=p(),d=p(!0),u=p(0),w=p([]),t=B({page:1,size:y.get("pageSize"),sortField:"",sortOrder:"",keyword:"",type:0}),C=a=>{t.type=a,t.page=1,c()},c=async()=>{d.value=!0;try{const a=await A({...t});b.value=a.records,u.value=a.total}catch(a){M.error(a.message)}finally{d.value=!1}};F(()=>{c()});const _=()=>{c()},k=({prop:a,order:e})=>{t.sortField=a,t.sortOrder=e=="ascending"?"asc":e=="descending"?"desc":"",c()},S=a=>{w.value=a.map(e=>e.logId)};return(a,e)=>{const T=i("el-button"),V=i("TigInput"),z=i("TigTabs"),I=i("el-form"),l=i("el-table-column"),x=i("el-table"),N=i("a-spin");return g(),m("div",D,[o("div",G,[o("div",H,[o("div",J,[s(I,{model:t,onSubmit:O(_,["prevent"])},{default:r(()=>[o("div",K,[o("div",Q,[o("div",R,[o("div",W,[o("div",X,[s(V,{modelValue:t.keyword,"onUpdate:modelValue":e[0]||(e[0]=n=>t.keyword=n),name:"keyword",placeholder:"输入关键词",clearable:"",onClear:_},{append:r(()=>[s(T,{onClick:_},{default:r(()=>[...e[4]||(e[4]=[o("span",{class:"iconfont icon-chakan1"},null,-1)])]),_:1})]),_:1},8,["modelValue"])])])]),o("div",Y,[o("div",Z,[o("div",$,[s(z,{modelValue:t.type,"onUpdate:modelValue":e[1]||(e[1]=n=>t.type=n),tabs:h.value,onOnTabChange:C},null,8,["modelValue","tabs"])])])])])])]),_:1},8,["model"])]),o("div",ee,[s(N,{spinning:d.value},{default:r(()=>[s(x,{data:b.value,loading:d.value,total:u.value,"row-key":"logId",onSelectionChange:S,onSortChange:k},{empty:r(()=>[o("div",te,[d.value?f("",!0):(g(),m("div",oe,"暂无数据"))])]),default:r(()=>[s(l,{type:"selection",width:"32"}),s(l,{width:360,label:"商品名称",prop:"productName"}),s(l,{label:"变化前库存",prop:"oldNumber"}),s(l,{label:"变化后库存",prop:"number"}),s(l,{label:"变化量",prop:"changeNumber"}),s(l,{label:"操作",prop:"desc"}),s(l,{width:200,label:"操作时间",prop:"addTime"})]),_:1},8,["data","loading","total"])]),_:1},8,["spinning"]),u.value>0?(g(),m("div",se,[s(q(E),{page:t.page,"onUpdate:page":e[2]||(e[2]=n=>t.page=n),size:t.size,"onUpdate:size":e[3]||(e[3]=n=>t.size=n),total:u.value,onCallback:c},null,8,["page","size","total"])])):f("",!0)])])])])}}}),de=j(ae,[["__scopeId","data-v-6d966d70"]]);export{de as default};

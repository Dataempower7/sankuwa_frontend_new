import{d as K,W as L,x as T,f as i,g as _,h as f,i as a,z as o,m as l,j as e,a8 as q,Q as n,l as C,t as c}from"./index-B52YIGC0.js";/* empty css             */import"./index-KjhYqCTY.js";import{D as F}from"./DeleteRecord-BTXBpwL2.js";/* empty css                                                                    */import{P as U}from"./Pagination-C8J7-6Em.js";import{a as R,d as $,b as j}from"./areaManage-rIHpuU4l.js";import{u as E}from"./useListRequest-CprjeVXp.js";import{_ as v}from"./DialogForm.vue_vue_type_script_setup_true_lang-CT6mpwCc.js";import"./index-C9ZdVeVx.js";const Q={class:"container"},W={class:"content_wrapper"},G={class:"lyecs-table-list-warp"},H={class:"list-table-tool lyecs-search-warp"},J={class:"advanced-search-warp list-table-tool-row"},X={class:"simple-form-warp"},Y={class:"simple-form-field"},Z={class:"form-group"},ee={class:"control-container"},te={class:"simple-form-warp"},ae={class:"simple-form-field"},oe={class:"control-container"},le={class:"list-table-tool-row"},se={class:"list-table-tool-col"},ne={key:0},ie={class:"table-container"},re={class:"empty-warp"},de={key:0,class:"empty-bg"},pe={key:0,class:"pagination-con"},ye=K({__name:"List",setup(me){L();const S=T(),{listData:h,loading:g,total:b,selectedIds:k,filterParams:r,loadData:d,onSearchSubmit:u,onSortChange:O,onSelectChange:D,onBatchAction:I,resetParams:M}=E({apiFunction:R,idKey:"areaStoreManagerId",defaultParams:{page:1,size:S.get("pageSize"),sortField:"",sortOrder:"",keyword:""}}),x=async w=>{await I(w,j)};return d(),(w,t)=>{const m=i("el-button"),z=i("TigInput"),P=i("el-popconfirm"),A=i("el-space"),p=i("el-table-column"),y=i("el-divider"),N=i("el-table"),V=i("a-spin");return f(),_("div",Q,[a("div",W,[a("div",G,[a("div",H,[a("div",J,[a("div",X,[a("div",Y,[a("div",Z,[t[5]||(t[5]=a("label",{class:"control-label"},[a("span",null,"区域名称：")],-1)),a("div",ee,[o(z,{modelValue:e(r).keyword,"onUpdate:modelValue":t[0]||(t[0]=s=>e(r).keyword=s),name:"keyword",placeholder:"输入区域名称",onKeyup:q(e(u),["enter"]),clearable:"",onClear:e(u)},{append:l(()=>[o(m,{onClick:e(u)},{default:l(()=>[...t[4]||(t[4]=[a("span",{class:"iconfont icon-chakan1"},null,-1)])]),_:1},8,["onClick"])]),_:1},8,["modelValue","onKeyup","onClear"])])])]),a("div",te,[a("div",ae,[t[8]||(t[8]=a("label",{class:"control-label"},null,-1)),a("div",oe,[o(m,{type:"primary",plain:"",onClick:e(u)},{default:l(()=>[...t[6]||(t[6]=[n("搜索",-1)])]),_:1},8,["onClick"]),o(m,{plain:"",onClick:e(M)},{default:l(()=>[...t[7]||(t[7]=[n("重置",-1)])]),_:1},8,["onClick"])])])])])])]),a("div",le,[a("div",se,[o(A,null,{default:l(()=>[o(e(v),{params:{act:"add"},isDrawer:"",path:"store/adminPages/areaManage/Info",title:"新增区域",width:"800px",onOkCallback:e(d)},{default:l(()=>[o(m,{type:"primary"},{default:l(()=>[...t[9]||(t[9]=[n("新增区域",-1)])]),_:1})]),_:1},8,["onOkCallback"]),o(P,{title:"您确认要批量删除所选数据吗？",onConfirm:t[1]||(t[1]=s=>x("del"))},{reference:l(()=>[o(m,{disabled:e(k).length===0},{default:l(()=>[...t[10]||(t[10]=[n("批量删除",-1)])]),_:1},8,["disabled"])]),_:1}),e(k).length>0?(f(),_("span",ne,[t[11]||(t[11]=n(" 已选择：",-1)),a("b",null,c(e(k).length),1),t[12]||(t[12]=n(" 项 ",-1))])):C("",!0)]),_:1})])]),a("div",ie,[o(V,{spinning:e(g)},{default:l(()=>[o(N,{data:e(h),loading:e(g),total:e(b),"row-key":"areaStoreManagerId","show-overflow-tooltip":"",onSelectionChange:e(D),onSortChange:e(O)},{empty:l(()=>[a("div",re,[e(g)?C("",!0):(f(),_("div",de,"暂无数据"))])]),default:l(()=>[o(p,{type:"selection",width:"32"}),o(p,{width:80,label:"序号"},{default:l(({row:s,$index:B})=>[n(c(B+1),1)]),_:1}),o(p,{label:"区域名称",prop:"areaStoreName",sortable:"custom"},{default:l(({row:s})=>[n(c(s.areaStoreName),1)]),_:1}),o(p,{label:"区域门店数量",prop:"shopCount",sortable:"custom"},{default:l(({row:s})=>[a("div",null,c(s.shopCount||"--"),1)]),_:1}),o(p,{label:"排序",prop:"sortOrder",sortable:"custom"},{default:l(({row:s})=>[a("div",null,c(s.sortOrder),1)]),_:1}),o(p,{width:200,fixed:"right",label:"操作"},{default:l(({row:s})=>[o(e(v),{params:{act:"detail",id:s.areaStoreManagerId},isDrawer:"",showClose:!1,showOnOk:!1,path:"store/adminPages/areaManage/ShopList",title:s.areaStoreName+"门店列表",width:"1000px",onOkCallback:e(d)},{default:l(()=>[...t[13]||(t[13]=[a("a",{class:"btn-link"},"门店列表",-1)])]),_:1},8,["params","title","onOkCallback"]),o(y,{direction:"vertical"}),o(e(v),{params:{act:"detail",id:s.areaStoreManagerId},isDrawer:"",path:"store/adminPages/areaManage/Info",title:"编辑区域",width:"700px",onOkCallback:e(d)},{default:l(()=>[...t[14]||(t[14]=[a("a",{class:"btn-link"},"编辑",-1)])]),_:1},8,["params","onOkCallback"]),o(y,{direction:"vertical"}),o(e(F),{params:{id:s.areaStoreManagerId},requestApi:e($),onAfterDelete:e(d)},{default:l(()=>[...t[15]||(t[15]=[n("删除 ",-1)])]),_:1},8,["params","requestApi","onAfterDelete"])]),_:1})]),_:1},8,["data","loading","total","onSelectionChange","onSortChange"])]),_:1},8,["spinning"]),e(b)>0?(f(),_("div",pe,[o(e(U),{page:e(r).page,"onUpdate:page":t[2]||(t[2]=s=>e(r).page=s),size:e(r).size,"onUpdate:size":t[3]||(t[3]=s=>e(r).size=s),total:e(b),onCallback:e(d)},null,8,["page","size","total","onCallback"])])):C("",!0)])])])])}}});export{ye as default};

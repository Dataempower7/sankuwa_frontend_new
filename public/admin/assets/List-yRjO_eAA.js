import{d as $,r as z,x as R,ex as j,o as E,f as i,g as d,h as l,i as o,l as p,z as n,m as s,j as e,a8 as Q,Q as _,t as b,k as f,C as U,ey as G,ez as H,_ as J}from"./index-B52YIGC0.js";/* empty css             */import"./index-KjhYqCTY.js";import{D as W}from"./DeleteRecord-BTXBpwL2.js";/* empty css                                                                    */import{P as X}from"./Pagination-C8J7-6Em.js";import{i as Y,r as Z}from"./format-BxqOrW-w.js";import"./SelectTimeInterval.vue_vue_type_style_index_0_scoped_207fe586_lang-1fz1RqDZ.js";/* empty css                                                                  *//* empty css                                                                              *//* empty css                                                                     */import{_ as ee}from"./SelectVendor.vue_vue_type_script_setup_true_lang-BoLpkKlM.js";import{M as te}from"./MobileCard-qEvTFKQw.js";import{u as oe}from"./useListRequest-CprjeVXp.js";import{_ as x}from"./DialogForm.vue_vue_type_script_setup_true_lang-CT6mpwCc.js";import"./index-C9ZdVeVx.js";import"./time-EzYK4E-P.js";import"./suppliers-C_UEn0j3.js";const ae={class:"container"},ne={class:"content_wrapper"},se={class:"lyecs-table-list-warp"},le={key:0,class:"list-table-tool lyecs-search-warp"},ie={class:"list-table-tool-row"},re={class:"simple-form-warp"},de={class:"simple-form-field"},pe={class:"form-group"},me={class:"control-container"},ce={key:0,class:"simple-form-field"},ue={class:"form-group"},_e={class:"control-container"},fe={class:"simple-form-field"},ve={class:"form-group"},ge={class:"simple-form-field"},be={class:"form-group"},ye={key:0},ke={class:"table-container"},he={class:"avatar-username"},Ce={key:0},Se={key:1},Ie={class:"empty-warp"},we={key:0,class:"empty-bg"},ze={key:0,class:"pagination-con"},Ue=$({__name:"List",props:{vendorId:{type:Number,default:0},type:{type:String,default:""}},setup(v){const m=z(localStorage.getItem("adminType")),A=R(),D=z(v.vendorId||""),{listData:V,loading:y,total:k,selectedIds:h,filterParams:r,loadData:c,onSearchSubmit:g,onSortChange:O,onSelectChange:B,onBatchAction:N}=oe({apiFunction:j,idKey:"id",defaultParams:{page:1,size:A.get("pageSize"),sortField:"",sortOrder:"",keyword:"",vendorId:D.value}}),T=async I=>{await N(I,H)};return E(()=>{c()}),(I,t)=>{const C=i("el-button"),F=i("TigInput"),K=i("el-popconfirm"),P=i("el-space"),u=i("el-table-column"),S=i("el-avatar"),q=i("el-divider"),L=i("el-table"),M=i("a-spin");return l(),d("div",ae,[o("div",ne,[o("div",se,[v.type!="detail"?(l(),d("div",le,[o("div",ie,[o("div",re,[o("div",de,[o("div",pe,[o("div",me,[n(F,{modelValue:e(r).keyword,"onUpdate:modelValue":t[0]||(t[0]=a=>e(r).keyword=a),name:"keyword",placeholder:m.value=="admin"?"输入管理员名称":"输入员工名称",onKeyup:Q(e(g),["enter"]),clearable:"",onClear:e(g)},{append:s(()=>[n(C,{onClick:e(g)},{default:s(()=>[...t[5]||(t[5]=[o("span",{class:"iconfont icon-chakan1"},null,-1)])]),_:1},8,["onClick"])]),_:1},8,["modelValue","placeholder","onKeyup","onClear"])])])]),m.value=="admin"?(l(),d("div",ce,[o("div",ue,[t[6]||(t[6]=o("label",{class:"control-label"},[o("span",null,"供应商：")],-1)),o("div",_e,[n(e(ee),{vendorId:e(r).vendorId,"onUpdate:vendorId":t[1]||(t[1]=a=>e(r).vendorId=a),onOnChange:e(g)},null,8,["vendorId","onOnChange"])])])])):p("",!0),o("div",fe,[o("div",ve,[n(e(x),{params:{act:"add"},isDrawer:"",path:"vendor/setting/adminUser/Info",title:m.value=="admin"?"添加管理员":"添加员工",width:"800px",onOkCallback:e(c)},{default:s(()=>[n(C,{type:"primary"},{default:s(()=>[_(b(m.value=="admin"?"添加管理员":"添加员工"),1)]),_:1})]),_:1},8,["title","onOkCallback"])])]),o("div",ge,[o("div",be,[n(P,null,{default:s(()=>[n(K,{title:"您确认要批量删除所选数据吗？",onConfirm:t[2]||(t[2]=a=>T("del"))},{reference:s(()=>[n(C,{disabled:e(h).length===0},{default:s(()=>[...t[7]||(t[7]=[_("批量删除",-1)])]),_:1},8,["disabled"])]),_:1}),e(h).length>0?(l(),d("span",ye,[t[8]||(t[8]=_(" 已选择：",-1)),o("b",null,b(e(h).length),1),t[9]||(t[9]=_(" 项 ",-1))])):p("",!0)]),_:1})])])])])])):p("",!0),o("div",ke,[n(M,{spinning:e(y)},{default:s(()=>[n(L,{data:e(V),loading:e(y),total:e(k),"row-key":"id",onSelectionChange:e(B),onSortChange:e(O)},{empty:s(()=>[o("div",Ie,[e(y)?p("",!0):(l(),d("div",we,"暂无数据"))])]),default:s(()=>[v.type!="detail"?(l(),f(u,{key:0,type:"selection",width:"32"})):p("",!0),n(u,{width:"200",label:m.value=="admin"?"管理员名称":"员工名称",prop:"username"},{default:s(({row:a})=>[o("div",he,[e(U)(String(a.avatar))=="one"?(l(),f(S,{key:0,size:30,src:e(Y)(a.avatar)},null,8,["src"])):e(U)(String(a.avatar))=="def"?(l(),f(S,{key:1,size:30,src:e(Z)(a.avatar)},null,8,["src"])):(l(),f(S,{key:2,size:30,src:""})),o("div",null,[o("div",null,b(a.username),1)])])]),_:1},8,["label"]),n(u,{label:"邮箱",prop:"email"},{default:s(({row:a})=>{var w;return[o("span",null,b(((w=a.adminUser)==null?void 0:w.email)||"-"),1)]}),_:1}),n(u,{label:"电话",prop:"mobile"},{default:s(({row:a})=>[a.adminUser.mobile?(l(),d("span",Ce,[n(te,{mobile:a.adminUser.mobile},null,8,["mobile"])])):(l(),d("span",Se,"--"))]),_:1}),v.type!="detail"?(l(),f(u,{key:1,width:150,fixed:"right",label:"操作"},{default:s(({row:a})=>[n(e(x),{params:{act:"detail",id:a.id},isDrawer:"",path:"vendor/setting/adminUser/Info",title:"编辑管理员",width:"800px",onOkCallback:e(c)},{default:s(()=>[...t[10]||(t[10]=[o("a",{class:"btn-link"},"编辑",-1)])]),_:1},8,["params","onOkCallback"]),n(q,{direction:"vertical"}),n(e(W),{params:{id:a.id},requestApi:e(G),onAfterDelete:e(c)},{default:s(()=>[...t[11]||(t[11]=[_("删除 ",-1)])]),_:1},8,["params","requestApi","onAfterDelete"])]),_:1})):p("",!0)]),_:1},8,["data","loading","total","onSelectionChange","onSortChange"])]),_:1},8,["spinning"]),e(k)>0?(l(),d("div",ze,[n(e(X),{page:e(r).page,"onUpdate:page":t[3]||(t[3]=a=>e(r).page=a),size:e(r).size,"onUpdate:size":t[4]||(t[4]=a=>e(r).size=a),total:e(k),onCallback:e(c)},null,8,["page","size","total","onCallback"])])):p("",!0)])])])])}}}),Ge=J(Ue,[["__scopeId","data-v-c49bfae2"]]);export{Ge as default};

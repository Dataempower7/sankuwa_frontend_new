/* empty css             */import{d as U,u as N,X as T,x as W,ab as B,r as g,o as L,e1 as I,P as y,f as n,g as O,h as x,z as t,m as o,i as l,l as w,k as j,Q as r,j as C,A as b,ah as z,e2 as A,_ as E}from"./index-B52YIGC0.js";import{d as F}from"./format-BxqOrW-w.js";const Z="/admin/assets/isPlatformCancelPaidOrder-Da0F1ZAZ.png",q="/admin/assets/isPlatformCancelDeliverOrder-DWP-jAPe.png",Q="/admin/assets/isShopCancelDeliverOrder-oMNYBtTb.png",X={class:"container"},Y={class:"content_wrapper"},H={class:"flex"},J={class:"flex"},K={class:"flex"},$={class:"itemWidth flex"},c={class:"extra"},h={class:"extra"},ee={key:0,class:"title"},le={class:"extra"},te={class:"selected-action"},oe=U({__name:"OrderSettings",setup(se){const{themeInfo:P}=N();T();const S=W(),D=B(),v=g(!1),s=g({autoDeliveryDays:void 0,autoReturnGoods:void 0,autoReturnGoodsDays:void 0,afterSalesLimitDays:void 0,autoCancelOrderMinute:void 0,isPlatformCancelPaidOrder:void 0,isPlatformCancelDeliverOrder:void 0,isShopCancelDeliverOrder:void 0});L(async()=>{await R()});const V=g(!0),R=async()=>{try{const u=await I();Object.assign(s.value,F(u))}catch(u){y.error(u.message)}finally{V.value=!1}},_=async()=>{await D.value.validate(),v.value=!0;try{const u=await A(s.value);y.success("修改成功"),S.updateConfig()}catch(u){y.error(u.message)}finally{v.value=!1}};return(u,e)=>{const m=n("TigInput"),i=n("el-form-item"),d=n("el-radio"),p=n("el-radio-group"),f=n("el-popover"),k=n("el-form"),G=n("el-button"),M=n("a-spin");return x(),O("div",X,[t(M,{spinning:V.value},{default:o(()=>[t(k,{ref_key:"formRef",ref:D,model:s.value,"label-width":"180px",style:{display:"flex",gap:"12px","flex-direction":"column"}},{default:o(()=>[l("div",Y,[e[36]||(e[36]=l("div",{class:"title"},"基础设置",-1)),t(i,{label:"发货后自动确认收货时间",prop:"autoDeliveryDays"},{default:o(()=>[l("div",null,[l("div",H,[e[8]||(e[8]=l("p",{class:"mr10"},"卖家发货后",-1)),t(m,{type:"integer",modelValue:s.value.autoDeliveryDays,"onUpdate:modelValue":e[0]||(e[0]=a=>s.value.autoDeliveryDays=a),width:"110px"},null,8,["modelValue"]),e[9]||(e[9]=l("p",{class:"ml10"},"天，自动确认收货",-1))]),e[10]||(e[10]=l("div",{class:"extra"},"修改后将对新产生的订单立即生效，已产生的订单自动确认收货时间将以发货时的设置为准。",-1))])]),_:1}),t(i,{label:"自动同意退货申请",prop:"autoReturnGoods"},{default:o(()=>[l("div",null,[l("div",null,[t(p,{modelValue:s.value.autoReturnGoods,"onUpdate:modelValue":e[1]||(e[1]=a=>s.value.autoReturnGoods=a),class:"itemWidth"},{default:o(()=>[t(d,{value:1},{default:o(()=>[...e[11]||(e[11]=[r("开启",-1)])]),_:1}),t(d,{value:0},{default:o(()=>[...e[12]||(e[12]=[r("关闭",-1)])]),_:1})]),_:1},8,["modelValue"])]),t(i,{label:"",prop:"autoReturnGoodsDays",rules:[{required:s.value.autoReturnGoods==1,message:"请输入卖家自动同意售后天数"}]},{default:o(()=>[l("div",J,[e[13]||(e[13]=l("p",{class:"mr10"},"买家申请",-1)),t(m,{type:"integer",modelValue:s.value.autoReturnGoodsDays,"onUpdate:modelValue":e[2]||(e[2]=a=>s.value.autoReturnGoodsDays=a),width:"110px",disabled:s.value.autoReturnGoods==0},null,8,["modelValue","disabled"]),e[14]||(e[14]=l("p",{class:"ml10"},"天后，自动同意客户售后申请",-1))])]),_:1},8,["rules"])])]),_:1}),t(i,{label:"买家申请售后限制",prop:"afterSalesLimitDays"},{default:o(()=>[l("div",null,[l("div",K,[e[15]||(e[15]=l("p",{class:"mr10"},"买家确认收货",-1)),t(m,{type:"integer",modelValue:s.value.afterSalesLimitDays,"onUpdate:modelValue":e[3]||(e[3]=a=>s.value.afterSalesLimitDays=a),width:"110px"},null,8,["modelValue"]),e[16]||(e[16]=l("p",{class:"ml10"},"天后，不支持买家申请售后",-1))]),e[17]||(e[17]=l("div",{class:"extra"},"注：不适用虚拟商品、卡密商品、付费内容等特殊类型订单。",-1))])]),_:1}),t(i,{label:"未付款订单",prop:"autoCancelOrderMinute"},{default:o(()=>[l("div",$,[e[18]||(e[18]=l("span",{class:"mr8"},"订单超",-1)),t(m,{type:"integer",modelValue:s.value.autoCancelOrderMinute,"onUpdate:modelValue":e[4]||(e[4]=a=>s.value.autoCancelOrderMinute=a),width:"60px"},null,8,["modelValue"]),e[19]||(e[19]=l("span",{class:"ml8"},"分钟未支付自动取消",-1))]),e[20]||(e[20]=l("div",{class:"extra"},"未支付的订单会自动取消，请填写分钟，比如10则代表10分钟未付款则取消订单，为0或空则不限制",-1))]),_:1}),e[37]||(e[37]=l("div",{class:"title"},"平台管理订单流转设置",-1)),t(i,{label:"已支付订单可取消订单",prop:"isPlatformCancelPaidOrder"},{default:o(()=>[l("div",null,[l("div",null,[t(p,{modelValue:s.value.isPlatformCancelPaidOrder,"onUpdate:modelValue":e[5]||(e[5]=a=>s.value.isPlatformCancelPaidOrder=a),class:"itemWidth"},{default:o(()=>[t(d,{value:1},{default:o(()=>[...e[21]||(e[21]=[r("开启",-1)])]),_:1}),t(d,{value:0},{default:o(()=>[...e[22]||(e[22]=[r("关闭",-1)])]),_:1})]),_:1},8,["modelValue"])]),l("div",c,[e[25]||(e[25]=r(" 开启后，客户已支付的订单（待备货/待发货状态），管理员可以操作取消支付，已付款金额会流转至财务退款售后处理 ",-1)),t(f,{width:540,placement:"right-end",trigger:"click"},{reference:o(()=>[...e[23]||(e[23]=[l("a",null,"查看示例",-1)])]),default:o(()=>[...e[24]||(e[24]=[l("img",{src:Z,style:{width:"500px"}},null,-1)])]),_:1})])])]),_:1}),t(i,{label:"已发货订单可取消发货",prop:"isPlatformCancelDeliverOrder"},{default:o(()=>[l("div",null,[l("div",null,[t(p,{modelValue:s.value.isPlatformCancelDeliverOrder,"onUpdate:modelValue":e[6]||(e[6]=a=>s.value.isPlatformCancelDeliverOrder=a),class:"itemWidth"},{default:o(()=>[t(d,{value:1},{default:o(()=>[...e[26]||(e[26]=[r("开启",-1)])]),_:1}),t(d,{value:0},{default:o(()=>[...e[27]||(e[27]=[r("关闭",-1)])]),_:1})]),_:1},8,["modelValue"])]),l("div",h,[e[30]||(e[30]=r(" 开启后，已发货订单平台管理员可取消发货，已填写的物流信息将会清空 ",-1)),t(f,{width:540,placement:"right-end",trigger:"click"},{reference:o(()=>[...e[28]||(e[28]=[l("a",null,"查看示例",-1)])]),default:o(()=>[...e[29]||(e[29]=[l("img",{src:q,style:{width:"500px"}},null,-1)])]),_:1})])])]),_:1}),C(b)()?(x(),O("div",ee,"店铺后台订单流转设置")):w("",!0),C(b)()?(x(),j(i,{key:1,label:"已发货订单可取消发货",prop:"isShopCancelDeliverOrder"},{default:o(()=>[l("div",null,[l("div",null,[t(p,{modelValue:s.value.isShopCancelDeliverOrder,"onUpdate:modelValue":e[7]||(e[7]=a=>s.value.isShopCancelDeliverOrder=a),class:"itemWidth"},{default:o(()=>[t(d,{value:1},{default:o(()=>[...e[31]||(e[31]=[r("开启",-1)])]),_:1}),t(d,{value:0},{default:o(()=>[...e[32]||(e[32]=[r("关闭",-1)])]),_:1})]),_:1},8,["modelValue"])]),l("div",le,[e[35]||(e[35]=r("开启后，店铺后台已发货订单可取消发货，已填写的物流信息将会清空 ",-1)),t(f,{width:540,placement:"right-end",trigger:"click"},{reference:o(()=>[...e[33]||(e[33]=[l("a",null,"查看示例",-1)])]),default:o(()=>[...e[34]||(e[34]=[l("img",{src:Q,style:{width:"500px"}},null,-1)])]),_:1})])])]),_:1})):w("",!0)])]),_:1},8,["model"]),e[39]||(e[39]=l("div",{style:{height:"20px"}},null,-1)),l("div",{class:"selected-action-warp selected-warp-left",style:z({left:C(P).layout!=="topMenu"?"369px":"270px"})},[l("div",te,[t(G,{loading:v.value,class:"form-submit-btn",size:"large",type:"primary",onClick:_},{default:o(()=>[...e[38]||(e[38]=[r("提 交",-1)])]),_:1},8,["loading"])])],4)]),_:1},8,["spinning"])])}}}),de=E(oe,[["__scopeId","data-v-529f46ff"]]);export{de as default};

import{d as B,r as m,b as R,as as S,o as U,f as p,g as D,h as V,i as g,k as L,l as q,m as l,z as t,L as I,Q as z,O as F,a6 as O,P as y}from"./index-B52YIGC0.js";const P={class:"container"},$={class:"content_wrapper"},j={class:"lyecs-form-table"},Q=B({__name:"OtherInfo",props:{id:{type:Number,default:0},act:String,isDialog:Boolean},emits:["submitCallback","update:confirmLoading","close"],setup(k,{expose:w,emit:T}){const u=T,d=k,c=m(),f=m(0),b=m(!0);if(d.isDialog)c.value=d.act,f.value=d.id;else{const{currentRoute:i}=R(),e=i.value.query;c.value=e.act,f.value=e.id}const C=c.value=="add"?"insert":"update",v=m(),a=S({});U(async()=>{b.value=!1});const x=async i=>{await i.validate((e,s)=>{e&&(u("update:confirmLoading",!0),new Promise((n,N)=>{O({url:"brand/"+C+"/",method:"post",data:{id:f.value,...a}}).then(r=>{setTimeout(()=>{u("update:confirmLoading",!1)},600),y.success("操作成功"),u("submitCallback",r)}).catch(r=>{y.error(r.message),u("submitCallback",r)})}))})},_=m(null);return w({onFormSubmit:()=>{_.value.$el.click()}}),(i,e)=>{const s=p("TigInput"),n=p("el-form-item"),N=p("el-button"),r=p("el-form");return V(),D("div",P,[g("div",$,[g("div",j,[b.value?q("",!0):(V(),L(r,{key:0,ref_key:"formRef",ref:v,model:a,"label-width":"auto"},{default:l(()=>[t(n,{label:"发票类型",prop:"brandName"},{default:l(()=>[t(s,{classType:"tig-form-input",modelValue:a.brandName,"onUpdate:modelValue":e[0]||(e[0]=o=>a.brandName=o)},null,8,["modelValue"])]),_:1}),t(n,{label:"发票抬头",prop:"brandName"},{default:l(()=>[t(s,{classType:"tig-form-input",modelValue:a.brandName,"onUpdate:modelValue":e[1]||(e[1]=o=>a.brandName=o)},null,8,["modelValue"])]),_:1}),t(n,{label:"发票内容",prop:"brandName"},{default:l(()=>[t(s,{classType:"tig-form-input",modelValue:a.brandName,"onUpdate:modelValue":e[2]||(e[2]=o=>a.brandName=o)},null,8,["modelValue"])]),_:1}),t(n,{label:"客户给商家的留言",prop:"brandName"},{default:l(()=>[t(s,{classType:"tig-form-input",modelValue:a.brandName,"onUpdate:modelValue":e[3]||(e[3]=o=>a.brandName=o),autosize:{minRows:4,maxRows:6},type:"textarea"},null,8,["modelValue"])]),_:1}),t(n,{label:"缺货处理",prop:"brandName"},{default:l(()=>[t(s,{classType:"tig-form-input",modelValue:a.brandName,"onUpdate:modelValue":e[4]||(e[4]=o=>a.brandName=o)},null,8,["modelValue"])]),_:1}),I(t(n,{"wrapper-col":{offset:4,span:16}},{default:l(()=>[t(N,{ref_key:"submitBtn",ref:_,class:"form-submit-btn",type:"primary",onClick:e[5]||(e[5]=o=>x(v.value))},{default:l(()=>[...e[6]||(e[6]=[z("提交 ",-1)])]),_:1},512)]),_:1},512),[[F,!d.isDialog]])]),_:1},8,["model"]))])])])}}});export{Q as default};

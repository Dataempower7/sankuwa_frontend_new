import{_ as L}from"./PriceInput.vue_vue_type_script_setup_true_lang-DpJJvzpB.js";import w from"./Attr-D1_OGRv9.js";import{d as E,aq as y,r as v,ar as S,f as s,g as B,h as c,i as d,k as V,l as k,z as o,m as i,j as n,ac as m,Q as F,F as M}from"./index-B52YIGC0.js";const h={class:"flex"},Q=E({__name:"PriceInfo",props:y({id:{type:Number,default:0},shopId:{type:Number,default:0},act:{type:String,default:""},attrTplList:{type:Array,default:[]},examine:{type:Number,default:0},loading:{type:Boolean,default:!1},storeSettingInfo:{type:Object,default:{}}},{formState:{default:{}},formStateModifiers:{},isLimit:{type:Boolean,default:!1},isLimitModifiers:{}}),emits:y(["submitCallback","update:confirmLoading","close","closeConfirm"],["update:formState","update:isLimit"]),setup(a,{expose:T,emit:q}){const I=v(a.act),t=S(a,"formState"),p=S(a,"isLimit"),N=(u,e,r)=>{if(e)r();else{r(new Error("商品售价不能为空"));return}},C=(u,e,r)=>{if(e)r();else{r(new Error("商品库存不能为空"));return}},g=v(),f=v(""),P=u=>{u?t.value.limitNumber=t.value.limitNumber?t.value.limitNumber:1:t.value.limitNumber=""};return T({attrForm:g,skuErrorText:f}),(u,e)=>{const r=s("el-form-item"),b=s("TigInput"),x=s("el-radio"),U=s("el-radio-group");return c(),B(M,null,[d("div",null,[o(r,{rules:[{required:!0,message:"商品售价不能为空",validator:N}],class:"inner-item",label:"商品售价",prop:"productPrice"},{default:i(()=>[o(L,{modelValue:t.value.productPrice,"onUpdate:modelValue":e[0]||(e[0]=l=>t.value.productPrice=l),disabled:n(m)()!==2&&a.examine==1||n(m)()===2&&a.storeSettingInfo.storeAssignProductPrice===0&&t.value.shopId===0,placeholder:"请输入商品售价",width:"200px"},null,8,["modelValue","disabled"])]),_:1},8,["rules"]),o(r,{class:"inner-item",extra:"不填则根据设置的比例自动计算",label:"市场价",prop:"marketPrice"},{default:i(()=>[d("div",null,[o(L,{modelValue:t.value.marketPrice,"onUpdate:modelValue":e[1]||(e[1]=l=>t.value.marketPrice=l),disabled:a.examine==1,placeholder:"请输入商品市场价",width:"200px"},null,8,["modelValue","disabled"]),e[9]||(e[9]=d("div",{class:"extra"},"划线价格，不填则不显示",-1))])]),_:1})]),!a.loading&&t.value.productType!==3&&t.value.productType!==5&&t.value.productType!==6?(c(),V(w,{key:0,ref_key:"attrForm",ref:g,attrChanged:t.value.attrChanged,"onUpdate:attrChanged":e[2]||(e[2]=l=>t.value.attrChanged=l),attrList:t.value.attrList,"onUpdate:attrList":e[3]||(e[3]=l=>t.value.attrList=l),productList:t.value.productList,"onUpdate:productList":e[4]||(e[4]=l=>t.value.productList=l),skuErrorText:f.value,"onUpdate:skuErrorText":e[5]||(e[5]=l=>f.value=l),action:I.value,attrTplList:a.attrTplList,disabled:a.examine==1,storeSettingInfo:a.storeSettingInfo,shopId:t.value.shopId},null,8,["attrChanged","attrList","productList","skuErrorText","action","attrTplList","disabled","storeSettingInfo","shopId"])):k("",!0),!t.value.productList||t.value.productList.length==0&&t.value.productType!==3&&t.value.productType!==5&&t.value.productType!==6?(c(),V(r,{key:1,rules:[{required:!0,message:"商品库存不能为空",validator:C}],class:"inner-item",label:"库存",prop:"productStock"},{default:i(()=>[o(b,{modelValue:t.value.productStock,"onUpdate:modelValue":e[6]||(e[6]=l=>t.value.productStock=l),disabled:n(m)()!==2&&a.examine==1||n(m)()===2&&a.storeSettingInfo.storeUseSoloProductStock===0&&t.value.shopId===0,placeholder:"请输入商品库存",type:"integer",width:"200px"},null,8,["modelValue","disabled"])]),_:1},8,["rules"])):k("",!0),o(r,{class:"inner-item",label:"商品限购",prop:"limitNumber"},{default:i(()=>[o(U,{modelValue:p.value,"onUpdate:modelValue":e[8]||(e[8]=l=>p.value=l),disabled:a.examine==1,style:{width:"100%","margin-bottom":"10px","flex-direction":"column","align-items":"flex-start"},onChange:P},{default:i(()=>[o(x,{value:!1},{default:i(()=>[...e[10]||(e[10]=[F("不限购",-1)])]),_:1}),o(x,{value:!0},{default:i(()=>[d("div",h,[e[11]||(e[11]=d("div",{class:"mr10"},"限购",-1)),o(b,{modelValue:t.value.limitNumber,"onUpdate:modelValue":e[7]||(e[7]=l=>t.value.limitNumber=l),disabled:!p.value&&a.examine==1,placeholder:"请输入限购数量",type:"integer",width:"200px"},null,8,["modelValue","disabled"]),e[12]||(e[12]=d("div",{class:"ml10"},"件",-1))])]),_:1})]),_:1},8,["modelValue","disabled"])]),_:1})],64)}}});export{Q as _};

import V from"./ReconnectionList-C2nCEauX.js";import{t as w}from"./conversation-BgR-gwnn.js";import{d as x,r,f as p,g as N,h as f,i as o,z as i,m as n,k as B,l as U,Q as I,F as L,P as d,_ as F}from"./index-B52YIGC0.js";import"./format-BxqOrW-w.js";import"./StatusDot-DuKP0Xmc.js";const W={class:"dialog-footer"},z=x({__name:"Reconnection",props:{conversationId:{type:Number,default:0}},emits:["serversUpdated"],setup(c,{expose:_,emit:k}){const C=r(null),t=r(!1),y=c,u=()=>{t.value=!0},v=()=>{t.value=!1},g=k,s=r(0),b=async()=>{if(s.value==0){d.error("请选择转接客服");return}try{const l=await w({conversationId:y.conversationId,servantId:s.value});d.success("操作成功"),t.value=!1,g("serversUpdated")}catch(l){d.error(l.message)}finally{}};return _({showWin:u}),(l,e)=>{const m=p("el-button"),R=p("el-dialog");return f(),N(L,null,[o("div",{class:"reception-panel-toolbar-waiting",onClick:u}," 转接 "),i(R,{"destroy-on-close":!0,modelValue:t.value,"onUpdate:modelValue":e[1]||(e[1]=a=>t.value=a),"show-close":!1,width:"560"},{header:n(({close:a,titleId:E,titleClass:P})=>[o("div",{class:"header-title"},[e[3]||(e[3]=o("div",{class:"title"}," 转接客服 ",-1)),o("div",{onClick:v,class:"right"},[...e[2]||(e[2]=[o("em",{class:"main_pel_m iconfont-admin icon-cha1"},null,-1)])])])]),footer:n(()=>[o("div",W,[i(m,{onClick:v},{default:n(()=>[...e[4]||(e[4]=[I("取消",-1)])]),_:1}),i(m,{disabled:s.value==0,type:"primary",onClick:b},{default:n(()=>[...e[5]||(e[5]=[I(" 转接 ",-1)])]),_:1},8,["disabled"])])]),default:n(()=>[t.value?(f(),B(V,{key:0,servantId:s.value,"onUpdate:servantId":e[0]||(e[0]=a=>s.value=a),conversationId:c.conversationId,ref_key:"ReconnectionListRef",ref:C},null,8,["servantId","conversationId"])):U("",!0)]),_:1},8,["modelValue"])],64)}}}),A=F(z,[["__scopeId","data-v-78e6c604"]]);export{A as default};

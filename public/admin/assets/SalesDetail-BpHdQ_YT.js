import{d as be,r as c,ah as Se,ak as ke,o as Ae,q as Ge,y as Re,f as o,F as Ne,h as e,z as p,l as _,e as D,i as Te,L as m,t as i,K as ze,g as n,_ as Fe}from"./index-BLXOA87U.js";import"./SelectTimeInterval.vue_vue_type_style_index_0_scoped_207fe586_lang-BfFy9xcT.js";import"./index-DpgvsnVO.js";/* empty css                                                                    *//* empty css                                                                  *//* empty css                                                                              */import{S as Ve}from"./SelectTimeInterval-ah59IDPd.js";/* empty css             */import{f as xe}from"./time-DX2Q3n6c.js";import{i as De}from"./index-Bb6yjXMn.js";import{g as Ye}from"./statisticsSale-DwfShSpo.js";import"./index-B16C4gX_.js";const Oe={class:"filtrate-menu"},Le={class:"main-panel"},Me={class:"main-panel-item"},Be={class:"main-panel-item-value"},Ee={class:"main-panel-item-increase"},Qe={key:0,class:"admin-iconfont red f12 up"},Pe={key:1,class:"admin-iconfont green f12"},Ue={class:"main-panel-item"},Ie={class:"main-panel-item-value"},qe={class:"main-panel-item-increase"},Ke={key:0,class:"admin-iconfont red f12 up"},We={key:1,class:"admin-iconfont green f12"},je={class:"main-panel-item"},He={class:"main-panel-item-value"},Je={class:"main-panel-item-increase"},Xe={key:0,class:"admin-iconfont red f12 up"},Ze={key:1,class:"admin-iconfont green f12"},$e={class:"main-panel-item"},Ce={class:"main-panel-item-value"},et={class:"main-panel-item-increase"},tt={key:0,class:"admin-iconfont red f12 up"},at={key:1,class:"admin-iconfont green f12"},st={class:"main-panel-item"},ot={class:"main-panel-item-value"},nt={class:"main-panel-item-increase"},it={key:0,class:"admin-iconfont red f12 up"},lt={key:1,class:"admin-iconfont green f12"},rt={class:"main-panel-item"},mt={class:"main-panel-item-value"},dt={class:"main-panel-item-increase"},ut={key:0,class:"admin-iconfont red f12 up"},ct={key:1,class:"admin-iconfont green f12"},pt={class:"chart-menu"},ft=be({__name:"SalesDetail",setup(vt){const w=c(),h=c();let s,l;const u=c({title:{text:"金额明细",left:"center"},tooltip:{trigger:"axis",axisPointer:{type:"cross",crossStyle:{color:"#999"}}},legend:{data:["支付金额","退款金额"],left:"center",bottom:"bottom"},xAxis:{type:"category",data:[]},yAxis:[{type:"value",name:"金额",nameTextStyle:{color:"#7cb5ec"},nameGap:20,axisLabel:{color:"#7cb5ec",formatter:"{value} 元"}}],series:[{name:"支付金额",data:[],type:"line",smooth:!0,lineStyle:{color:"#64a9ff"},color:"#5CA5FF",emphasis:{scale:!1},tooltip:{valueFormatter:function(r){return r+"元"}},areaStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"rgba(92, 165, 255,0.50)"},{offset:1,color:"rgba(92, 165, 255,0.00)"}],global:!1}}},{name:"退款金额",data:[],type:"line",smooth:!0,lineStyle:{color:"rgba(0, 190, 189,0.50)"},color:"rgba(0, 190, 189,0.50)",emphasis:{scale:!1},tooltip:{valueFormatter:function(r){return r+"元"}},areaStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"rgba(0, 190, 189,0.50)"},{offset:1,color:"rgba(0, 190, 189,0.00)"}],global:!1}}}]}),f=c({title:{text:"商品明细",left:"center"},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},legend:{data:["商品浏览量"],left:"center",bottom:"bottom"},xAxis:{type:"category",data:[]},yAxis:[{type:"value",name:"浏览量",nameTextStyle:{color:"#64a9ff"},nameGap:20,axisLabel:{color:"#64a9ff",formatter:"{value} 次"},min:"10"}],series:[{name:"商品浏览量",type:"bar",barWidth:"50%",showBackground:!1,backgroundStyle:{color:"rgba(0, 127, 255,0.1)"},itemStyle:{color:{x:0,y:0,x2:0,y2:1,type:"linear",global:!1,colorStops:[{offset:0,color:"#007FFF"},{offset:1,color:"#539FE5"}]}},data:[]}]}),b=()=>{s==null||s.resize(),l==null||l.resize()},we=()=>{s=De(w.value),s.setOption(u.value),l=De(h.value),l.setOption(f.value),window.addEventListener("resize",b)},d=Se({startTime:xe(ke(30,"sub"),"YYYY-MM-DD"),endTime:xe(new Date,"YYYY-MM-DD")}),a=c(),S=async()=>{try{const r=await Ye(d);a.value=r;const{horizontalAxis:t,longitudinalAxisPaymentAmount:v,longitudinalAxisProductView:y,longitudinalAxisRefundAmount:g}=r.salesStatisticsData;u.value.xAxis.data=t,u.value.series[0].data=v,u.value.series[1].data=g,s==null||s.setOption(u.value),f.value.xAxis.data=t,f.value.series[0].data=y,l==null||l.setOption(f.value)}catch(r){ze.error(r.message),console.error(r)}},he=()=>{S()};return Ae(()=>{Ge(()=>{we()}),window.onresize=()=>{s==null||s.resize(),l==null||l.resize()},S()}),Re(()=>{s==null||s.dispose(),window.removeEventListener("resize",b)}),(r,t)=>{var k,A,G,R,N,T,z,F,V,Y,O,L,M,B,E,Q,P,U,I,q,K,W,j,H,J,X,Z,$,C,ee,te,ae,se,oe,ne,ie,le,re,me,de,ue,ce,pe,fe,ve,_e,ye,ge;const v=D("el-form-item"),y=D("el-button"),g=D("el-form");return n(),o(Ne,null,[e("div",null,[p(g,{model:d,inline:""},{default:_(()=>[e("div",Oe,[p(v,{class:"mr-10"},{default:_(()=>[p(Te(Ve),{type:"date","start-date":d.startTime,"onUpdate:startDate":t[0]||(t[0]=x=>d.startTime=x),"end-date":d.endTime,"onUpdate:endDate":t[1]||(t[1]=x=>d.endTime=x)},null,8,["start-date","end-date"])]),_:1}),p(v,null,{default:_(()=>[p(y,{plain:"",onClick:he},{default:_(()=>t[2]||(t[2]=[m("搜索",-1)])),_:1,__:[2]})]),_:1})])]),_:1},8,["model"]),e("div",Le,[e("ul",null,[e("li",Me,[t[4]||(t[4]=e("div",{class:"main-panel-item-title"},"商品浏览量",-1)),e("div",Be,i(((A=(k=a.value)==null?void 0:k.salesData)==null?void 0:A.productView)??0),1),e("div",Ee,[t[3]||(t[3]=m(" 环比： ",-1)),e("span",null,i((R=(G=a.value)==null?void 0:G.salesData)==null?void 0:R.productViewGrowthRate)+" %",1),((T=(N=a.value)==null?void 0:N.salesData)==null?void 0:T.productViewGrowthRate.toString())!=="--"&&Number((F=(z=a.value)==null?void 0:z.salesData)==null?void 0:F.productViewGrowthRate)>0?(n(),o("i",Qe,"")):(n(),o("i",Pe,""))])]),e("li",Ue,[t[6]||(t[6]=e("div",{class:"main-panel-item-title"},"商品访客数",-1)),e("div",Ie,i(((Y=(V=a.value)==null?void 0:V.salesData)==null?void 0:Y.productVisitor)??0),1),e("div",qe,[t[5]||(t[5]=m(" 环比： ",-1)),e("span",null,i((L=(O=a.value)==null?void 0:O.salesData)==null?void 0:L.productVisitorGrowthRate)+" %",1),((B=(M=a.value)==null?void 0:M.salesData)==null?void 0:B.productVisitorGrowthRate.toString())!=="--"&&Number((Q=(E=a.value)==null?void 0:E.salesData)==null?void 0:Q.productVisitorGrowthRate)>0?(n(),o("i",Ke,"")):(n(),o("i",We,""))])]),e("li",je,[t[8]||(t[8]=e("div",{class:"main-panel-item-title"},"下单件数",-1)),e("div",He,i(((U=(P=a.value)==null?void 0:P.salesData)==null?void 0:U.orderNum)??0),1),e("div",Je,[t[7]||(t[7]=m(" 环比： ",-1)),e("span",null,i((q=(I=a.value)==null?void 0:I.salesData)==null?void 0:q.orderNumGrowthRate)+" %",1),((W=(K=a.value)==null?void 0:K.salesData)==null?void 0:W.orderNumGrowthRate.toString())!=="--"&&Number((H=(j=a.value)==null?void 0:j.salesData)==null?void 0:H.orderNumGrowthRate)>0?(n(),o("i",Xe,"")):(n(),o("i",Ze,""))])]),e("li",$e,[t[10]||(t[10]=e("div",{class:"main-panel-item-title"},"支付金额",-1)),e("div",Ce,i(((X=(J=a.value)==null?void 0:J.salesData)==null?void 0:X.paymentAmount)??0),1),e("div",et,[t[9]||(t[9]=m(" 环比： ",-1)),e("span",null,i(($=(Z=a.value)==null?void 0:Z.salesData)==null?void 0:$.paymentAmountGrowthRate)+" %",1),((ee=(C=a.value)==null?void 0:C.salesData)==null?void 0:ee.paymentAmountGrowthRate.toString())!=="--"&&Number((ae=(te=a.value)==null?void 0:te.salesData)==null?void 0:ae.paymentAmountGrowthRate)>0?(n(),o("i",tt,"")):(n(),o("i",at,""))])]),e("li",st,[t[12]||(t[12]=e("div",{class:"main-panel-item-title"},"退款金额",-1)),e("div",ot,i(((oe=(se=a.value)==null?void 0:se.salesData)==null?void 0:oe.refundAmount)??0),1),e("div",nt,[t[11]||(t[11]=m(" 环比： ",-1)),e("span",null,i((ie=(ne=a.value)==null?void 0:ne.salesData)==null?void 0:ie.refundAmountGrowthRate)+" %",1),((re=(le=a.value)==null?void 0:le.salesData)==null?void 0:re.refundAmountGrowthRate.toString())!=="--"&&Number((de=(me=a.value)==null?void 0:me.salesData)==null?void 0:de.refundAmountGrowthRate)>0?(n(),o("i",it,"")):(n(),o("i",lt,""))])]),e("li",rt,[t[14]||(t[14]=e("div",{class:"main-panel-item-title"},"退款件数",-1)),e("div",mt,i(((ce=(ue=a.value)==null?void 0:ue.salesData)==null?void 0:ce.refundQuantity)??0),1),e("div",dt,[t[13]||(t[13]=m(" 环比： ",-1)),e("span",null,i((fe=(pe=a.value)==null?void 0:pe.salesData)==null?void 0:fe.refundQuantityGrowthRate)+" %",1),((_e=(ve=a.value)==null?void 0:ve.salesData)==null?void 0:_e.refundQuantityGrowthRate.toString())!=="--"&&Number((ge=(ye=a.value)==null?void 0:ye.salesData)==null?void 0:ge.refundQuantityGrowthRate)>0?(n(),o("i",ut,"")):(n(),o("i",ct,""))])])])])]),e("div",pt,[e("div",{class:"chart-menu-item",ref_key:"SalesDetailRef",ref:w},null,512),e("div",{class:"chart-menu-item",ref_key:"NumberProductViewsRef",ref:h},null,512)])],64)}}}),Rt=Fe(ft,[["__scopeId","data-v-7a047b77"]]);export{Rt as default};

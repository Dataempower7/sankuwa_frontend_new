import{u as S}from"./region-BXYVi85_.js";import{d as k,aq as g,ar as V,r as d,o as B,P as C,f as M,k as b,h as x,_ as w}from"./index-B52YIGC0.js";/* empty css                                                                     */const P=k({__name:"SelectRegion",props:g({checkStrictly:{type:Boolean,default:!1}},{selectedIds:{},selectedIdsModifiers:{}}),emits:g(["update:modelValue","change","clear"],["update:selectedIds"]),setup(u,{emit:m}){const t=S(),h=u,a=V(u,"selectedIds"),v={checkStrictly:h.checkStrictly,label:"regionName",value:"regionId",children:"children"},s=d([]),c=d(!1),r=d([]),i=m;B(()=>{t.allRegion==null?R():s.value=t.allRegion});const R=async()=>{if(!c.value){c.value=!0;try{await t.getRegionList(),s.value=t.allRegion}catch(e){C.error(e.message)}finally{c.value=!1}}},_=e=>{a.value=e,r.value=I(e,s.value),i("change",r.value),i("update:modelValue",e)},y=()=>{a.value=[],r.value=[],i("clear")},I=(e,l)=>{const o=[];if(e&&e.length>0)for(const n of e){const f=p(n,l);f&&o.push(f)}return o},p=(e,l)=>{for(const o of l){if(o.regionId===e)return o;if(o.children&&o.children.length>0){const n=p(e,o.children);if(n)return n}}return null};return(e,l)=>{const o=M("el-cascader");return x(),b(o,{placement:"right",style:{width:"100%"},props:v,placeholder:"请选择地区",options:s.value,modelValue:a.value,"onUpdate:modelValue":l[0]||(l[0]=n=>a.value=n),clearable:"",onChange:_,onClear:y},null,8,["options","modelValue"])}}}),U=w(P,[["__scopeId","data-v-b18c0e4e"]]);export{U as S};

import{u as He}from"./region-7o97Bn5k.js";import{l as Be}from"./lodash-Dvwsp7qC.js";import{c as w,eQ as ze,ao as A,a2 as $e,r as L,w as pe,eR as Xe,ek as ye,aC as Ue,ae as Ge,eS as we,eT as Ye,S as Ee,aw as q,z as T,d as he,o as qe,au as J,ax as Te,eU as Qe,cS as de,eV as ke,eW as Ze,eX as Se,a0 as Je,av as Ie,eY as et,eZ as tt,as as xe,ap as nt,az as lt,e_ as at,e$ as ot,eD as st,aB as it,f0 as rt,f1 as ct,f2 as ut,aD as dt,f3 as vt,f4 as pt,f5 as ht,at as ft,f6 as gt,f7 as mt,eH as Ct,f8 as St,aG as _e,f9 as bt,fa as yt,e as xt,f as wt,g as It,h as be,l as ve,i as Ve,L as Ae,_ as Ot}from"./index-BLXOA87U.js";import"./region-BNulOgPD.js";const Oe="__RC_CASCADER_SPLIT__",Le="SHOW_PARENT",Ne="SHOW_CHILD";function ee(e){return e.join(Oe)}function oe(e){return e.map(ee)}function Pt(e){return e.split(Oe)}function kt(e){const{label:a,value:t,children:l}=e||{},n=t||"value";return{label:a||"label",value:n,key:n,children:l||"children"}}function ie(e,a){var t,l;return(t=e.isLeaf)!==null&&t!==void 0?t:!(!((l=e[a.children])===null||l===void 0)&&l.length)}function _t(e){const a=e.parentElement;if(!a)return;const t=e.offsetTop-a.offsetTop;t-a.scrollTop<0?a.scrollTo({top:t}):t+e.offsetHeight-a.scrollTop>a.offsetHeight&&a.scrollTo({top:t+e.offsetHeight-a.offsetHeight})}const Vt=(e,a)=>w(()=>ze(e.value,{fieldNames:a.value,initWrapper:l=>A(A({},l),{pathKeyEntities:{}}),processEntity:(l,n)=>{const r=l.nodes.map(c=>c[a.value.value]).join(Oe);n.pathKeyEntities[r]=l,l.key=r}}).pathKeyEntities);function At(e){const a=$e(!1),t=L({});return pe(()=>{if(!e.value){a.value=!1,t.value={};return}let l={matchInputWidth:!0,limit:50};e.value&&typeof e.value=="object"&&(l=A(A({},l),e.value)),l.limit<=0&&delete l.limit,a.value=!0,t.value=l}),{showSearch:a,searchConfig:t}}const re="__rc_cascader_search_mark__",Rt=(e,a,t)=>{let{label:l}=t;return a.some(n=>String(n[l]).toLowerCase().includes(e.toLowerCase()))},Dt=e=>{let{path:a,fieldNames:t}=e;return a.map(l=>l[t.label]).join(" / ")},$t=(e,a,t,l,n,r)=>w(()=>{const{filter:c=Rt,render:v=Dt,limit:u=50,sort:s}=n.value,o=[];if(!e.value)return[];function g(P,y){P.forEach(E=>{if(!s&&u>0&&o.length>=u)return;const f=[...y,E],I=E[t.value.children];(!I||I.length===0||r.value)&&c(e.value,f,{label:t.value.label})&&o.push(A(A({},E),{[t.value.label]:v({inputValue:e.value,path:f,prefixCls:l.value,fieldNames:t.value}),[re]:f})),I&&g(E[t.value.children],f)})}return g(a.value,[]),s&&o.sort((P,y)=>s(P[re],y[re],e.value,t.value)),u>0?o.slice(0,u):o});function Re(e,a,t){const l=new Set(e);return e.filter(n=>{const r=a[n],c=r?r.parent:null,v=r?r.children:null;return t===Ne?!(v&&v.some(u=>u.key&&l.has(u.key))):!(c&&!c.node.disabled&&l.has(c.key))})}function ce(e,a,t){let l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;var n;let r=a;const c=[];for(let v=0;v<e.length;v+=1){const u=e[v],s=r==null?void 0:r.findIndex(g=>{const P=g[t.value];return l?String(P)===String(u):P===u}),o=s!==-1?r==null?void 0:r[s]:null;c.push({value:(n=o==null?void 0:o[t.value])!==null&&n!==void 0?n:u,index:s,option:o}),r=o==null?void 0:o[t.children]}return c}const Et=(e,a,t)=>w(()=>{const l=[],n=[];return t.value.forEach(r=>{ce(r,e.value,a.value).every(v=>v.option)?n.push(r):l.push(r)}),[n,l]}),Tt=(e,a,t,l,n)=>w(()=>{const r=n.value||(c=>{let{labels:v}=c;const u=l.value?v.slice(-1):v,s=" / ";return u.every(o=>["string","number"].includes(typeof o))?u.join(s):u.reduce((o,g,P)=>{const y=Xe(g)?ye(g,{key:P}):g;return P===0?[y]:[...o,s,y]},[])});return e.value.map(c=>{const v=ce(c,a.value,t.value),u=r({labels:v.map(o=>{let{option:g,value:P}=o;var y;return(y=g==null?void 0:g[t.value.label])!==null&&y!==void 0?y:P}),selectedOptions:v.map(o=>{let{option:g}=o;return g})}),s=ee(c);return{label:u,value:s,key:s,valueCells:c}})}),Ke=Symbol("CascaderContextKey"),Lt=e=>{Ge(Ke,e)},fe=()=>Ue(Ke),Nt=()=>{const e=we(),{values:a}=fe(),[t,l]=Ye([]);return Ee(()=>e.open,()=>{if(e.open&&!e.multiple){const n=a.value[0];l(n||[])}},{immediate:!0}),[t,l]},Kt=(e,a,t,l,n,r)=>{const c=we(),v=w(()=>c.direction==="rtl"),[u,s,o]=[L([]),L(),L([])];pe(()=>{let f=-1,I=a.value;const h=[],O=[],D=l.value.length;for(let d=0;d<D&&I;d+=1){const b=I.findIndex(R=>R[t.value.value]===l.value[d]);if(b===-1)break;f=b,h.push(f),O.push(l.value[d]),I=I[f][t.value.children]}let _=a.value;for(let d=0;d<h.length-1;d+=1)_=_[h[d]][t.value.children];[u.value,s.value,o.value]=[O,f,_]});const g=f=>{n(f)},P=f=>{const I=o.value.length;let h=s.value;h===-1&&f<0&&(h=I);for(let O=0;O<I;O+=1){h=(h+f+I)%I;const D=o.value[h];if(D&&!D.disabled){const _=D[t.value.value],d=u.value.slice(0,-1).concat(_);g(d);return}}},y=()=>{if(u.value.length>1){const f=u.value.slice(0,-1);g(f)}else c.toggleOpen(!1)},E=()=>{var f;const h=(((f=o.value[s.value])===null||f===void 0?void 0:f[t.value.children])||[]).find(O=>!O.disabled);if(h){const O=[...u.value,h[t.value.value]];g(O)}};e.expose({onKeydown:f=>{const{which:I}=f;switch(I){case q.UP:case q.DOWN:{let h=0;I===q.UP?h=-1:I===q.DOWN&&(h=1),h!==0&&P(h);break}case q.LEFT:{v.value?E():y();break}case q.RIGHT:{v.value?y():E();break}case q.BACKSPACE:{c.searchValue||y();break}case q.ENTER:{if(u.value.length){const h=o.value[s.value],O=(h==null?void 0:h[re])||[];O.length?r(O.map(D=>D[t.value.value]),O[O.length-1]):r(u.value,h)}break}case q.ESC:c.toggleOpen(!1),open&&f.stopPropagation()}},onKeyup:()=>{}})};function ge(e){let{prefixCls:a,checked:t,halfChecked:l,disabled:n,onClick:r}=e;const{customSlots:c,checkable:v}=fe(),u=v.value!==!1?c.value.checkable:v.value,s=typeof u=="function"?u():typeof u=="boolean"?null:u;return T("span",{class:{[a]:!0,[`${a}-checked`]:t,[`${a}-indeterminate`]:!t&&l,[`${a}-disabled`]:n},onClick:r},[s])}ge.props=["prefixCls","checked","halfChecked","disabled","onClick"];ge.displayName="Checkbox";ge.inheritAttrs=!1;const Fe="__cascader_fix_label__";function me(e){let{prefixCls:a,multiple:t,options:l,activeValue:n,prevValuePath:r,onToggleOpen:c,onSelect:v,onActive:u,checkedSet:s,halfCheckedSet:o,loadingKeys:g,isSelectable:P}=e;var y,E,f,I,h,O;const D=`${a}-menu`,_=`${a}-menu-item`,{fieldNames:d,changeOnSelect:b,expandTrigger:R,expandIcon:K,loadingIcon:Q,dropdownMenuColumnStyle:G,customSlots:W}=fe(),j=(y=K.value)!==null&&y!==void 0?y:(f=(E=W.value).expandIcon)===null||f===void 0?void 0:f.call(E),H=(I=Q.value)!==null&&I!==void 0?I:(O=(h=W.value).loadingIcon)===null||O===void 0?void 0:O.call(h),te=R.value==="hover";return T("ul",{class:D,role:"menu"},[l.map(N=>{var m;const{disabled:k}=N,i=N[re],x=(m=N[Fe])!==null&&m!==void 0?m:N[d.value.label],S=N[d.value.value],V=ie(N,d.value),M=i?i.map(p=>p[d.value.value]):[...r,S],B=ee(M),z=g.includes(B),Z=s.has(B),ne=o.has(B),le=()=>{!k&&(!te||!V)&&u(M)},X=()=>{P(N)&&v(M,V)};let Y;return typeof N.title=="string"?Y=N.title:typeof x=="string"&&(Y=x),T("li",{key:B,class:[_,{[`${_}-expand`]:!V,[`${_}-active`]:n===S,[`${_}-disabled`]:k,[`${_}-loading`]:z}],style:G.value,role:"menuitemcheckbox",title:Y,"aria-checked":Z,"data-path-key":B,onClick:()=>{le(),(!t||V)&&X()},onDblclick:()=>{b.value&&c(!1)},onMouseenter:()=>{te&&le()},onMousedown:p=>{p.preventDefault()}},[t&&T(ge,{prefixCls:`${a}-checkbox`,checked:Z,halfChecked:ne,disabled:k,onClick:p=>{p.stopPropagation(),X()}},null),T("div",{class:`${_}-content`},[x]),!z&&j&&!V&&T("div",{class:`${_}-expand-icon`},[ye(j)]),z&&H&&T("div",{class:`${_}-loading-icon`},[ye(H)])])})])}me.props=["prefixCls","multiple","options","activeValue","prevValuePath","onToggleOpen","onSelect","onActive","checkedSet","halfCheckedSet","loadingKeys","isSelectable"];me.displayName="Column";me.inheritAttrs=!1;const Ft=he({compatConfig:{MODE:3},name:"OptionList",inheritAttrs:!1,setup(e,a){const{attrs:t,slots:l}=a,n=we(),r=L(),c=w(()=>n.direction==="rtl"),{options:v,values:u,halfValues:s,fieldNames:o,changeOnSelect:g,onSelect:P,searchOptions:y,dropdownPrefixCls:E,loadData:f,expandTrigger:I,customSlots:h}=fe(),O=w(()=>E.value||n.prefixCls),D=$e([]),_=m=>{if(!f.value||n.searchValue)return;const i=ce(m,v.value,o.value).map(S=>{let{option:V}=S;return V}),x=i[i.length-1];if(x&&!ie(x,o.value)){const S=ee(m);D.value=[...D.value,S],f.value(i)}};pe(()=>{D.value.length&&D.value.forEach(m=>{const k=Pt(m),i=ce(k,v.value,o.value,!0).map(S=>{let{option:V}=S;return V}),x=i[i.length-1];(!x||x[o.value.children]||ie(x,o.value))&&(D.value=D.value.filter(S=>S!==m))})});const d=w(()=>new Set(oe(u.value))),b=w(()=>new Set(oe(s.value))),[R,K]=Nt(),Q=m=>{K(m),_(m)},G=m=>{const{disabled:k}=m,i=ie(m,o.value);return!k&&(i||g.value||n.multiple)},W=function(m,k){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;P(m),!n.multiple&&(k||g.value&&(I.value==="hover"||i))&&n.toggleOpen(!1)},j=w(()=>n.searchValue?y.value:v.value),H=w(()=>{const m=[{options:j.value}];let k=j.value;for(let i=0;i<R.value.length;i+=1){const x=R.value[i],S=k.find(M=>M[o.value.value]===x),V=S==null?void 0:S[o.value.children];if(!(V!=null&&V.length))break;k=V,m.push({options:V})}return m});Kt(a,j,o,R,Q,(m,k)=>{G(k)&&W(m,ie(k,o.value),!0)});const N=m=>{m.preventDefault()};return qe(()=>{Ee(R,m=>{var k;for(let i=0;i<m.length;i+=1){const x=m.slice(0,i+1),S=ee(x),V=(k=r.value)===null||k===void 0?void 0:k.querySelector(`li[data-path-key="${S.replace(/\\{0,2}"/g,'\\"')}"]`);V&&_t(V)}},{flush:"post",immediate:!0})}),()=>{var m,k,i,x,S;const{notFoundContent:V=((m=l.notFoundContent)===null||m===void 0?void 0:m.call(l))||((i=(k=h.value).notFoundContent)===null||i===void 0?void 0:i.call(k)),multiple:M,toggleOpen:B}=n,z=!(!((S=(x=H.value[0])===null||x===void 0?void 0:x.options)===null||S===void 0)&&S.length),Z=[{[o.value.value]:"__EMPTY__",[Fe]:V,disabled:!0}],ne=A(A({},t),{multiple:!z&&M,onSelect:W,onActive:Q,onToggleOpen:B,checkedSet:d.value,halfCheckedSet:b.value,loadingKeys:D.value,isSelectable:G}),X=(z?[{options:Z}]:H.value).map((Y,p)=>{const C=R.value.slice(0,p),$=R.value[p];return T(me,J(J({key:p},ne),{},{prefixCls:O.value,options:Y.options,prevValuePath:C,activeValue:$}),null)});return T("div",{class:[`${O.value}-menus`,{[`${O.value}-menu-empty`]:z,[`${O.value}-rtl`]:c.value}],onMousedown:N,ref:r},[X])}}});function Mt(){return A(A({},Ie(tt(),["tokenSeparators","mode","showSearch"])),{id:String,prefixCls:String,fieldNames:nt(),children:Array,value:{type:[String,Number,Array]},defaultValue:{type:[String,Number,Array]},changeOnSelect:{type:Boolean,default:void 0},displayRender:Function,checkable:{type:Boolean,default:void 0},showCheckedStrategy:{type:String,default:Le},showSearch:{type:[Boolean,Object],default:void 0},searchValue:String,onSearch:Function,expandTrigger:String,options:Array,dropdownPrefixCls:String,loadData:Function,popupVisible:{type:Boolean,default:void 0},dropdownClassName:String,dropdownMenuColumnStyle:{type:Object,default:void 0},popupStyle:{type:Object,default:void 0},dropdownStyle:{type:Object,default:void 0},popupPlacement:String,placement:String,onPopupVisibleChange:Function,onDropdownVisibleChange:Function,expandIcon:xe.any,loadingIcon:xe.any})}function Me(){return A(A({},Mt()),{onChange:Function,customSlots:Object})}function Wt(e){return Array.isArray(e)&&Array.isArray(e[0])}function De(e){return e?Wt(e)?e:(e.length===0?[]:[e]).map(a=>Array.isArray(a)?a:[a]):[]}const jt=he({compatConfig:{MODE:3},name:"Cascader",inheritAttrs:!1,props:Te(Me(),{}),setup(e,a){let{attrs:t,expose:l,slots:n}=a;const r=Qe(de(e,"id")),c=w(()=>!!e.checkable),[v,u]=ke(e.defaultValue,{value:w(()=>e.value),postState:De}),s=w(()=>kt(e.fieldNames)),o=w(()=>e.options||[]),g=Vt(o,s),P=p=>{const C=g.value;return p.map($=>{const{nodes:F}=C[$];return F.map(U=>U[s.value.value])})},[y,E]=ke("",{value:w(()=>e.searchValue),postState:p=>p||""}),f=(p,C)=>{E(p),C.source!=="blur"&&e.onSearch&&e.onSearch(p)},{showSearch:I,searchConfig:h}=At(de(e,"showSearch")),O=$t(y,o,s,w(()=>e.dropdownPrefixCls||e.prefixCls),h,de(e,"changeOnSelect")),D=Et(o,s,v),[_,d,b]=[L([]),L([]),L([])],{maxLevel:R,levelEntities:K}=Ze(g);pe(()=>{const[p,C]=D.value;if(!c.value||!v.value.length){[_.value,d.value,b.value]=[p,[],C];return}const $=oe(p),F=g.value,{checkedKeys:U,halfCheckedKeys:se}=Se($,!0,F,R.value,K.value);[_.value,d.value,b.value]=[P(U),P(se),C]});const Q=w(()=>{const p=oe(_.value),C=Re(p,g.value,e.showCheckedStrategy);return[...b.value,...P(C)]}),G=Tt(Q,o,s,c,de(e,"displayRender")),W=p=>{if(u(p),e.onChange){const C=De(p),$=C.map(se=>ce(se,o.value,s.value).map(ue=>ue.option)),F=c.value?C:C[0],U=c.value?$:$[0];e.onChange(F,U)}},j=p=>{if(E(""),!c.value)W(p);else{const C=ee(p),$=oe(_.value),F=oe(d.value),U=$.includes(C),se=b.value.some(ae=>ee(ae)===C);let ue=_.value,Pe=b.value;if(se&&!U)Pe=b.value.filter(ae=>ee(ae)!==C);else{const ae=U?$.filter(je=>je!==C):[...$,C];let Ce;U?{checkedKeys:Ce}=Se(ae,{halfCheckedKeys:F},g.value,R.value,K.value):{checkedKeys:Ce}=Se(ae,!0,g.value,R.value,K.value);const We=Re(Ce,g.value,e.showCheckedStrategy);ue=P(We)}W([...Pe,...ue])}},H=(p,C)=>{if(C.type==="clear"){W([]);return}const{valueCells:$}=C.values[0];j($)},te=w(()=>e.open!==void 0?e.open:e.popupVisible),N=w(()=>e.dropdownStyle||e.popupStyle||{}),m=w(()=>e.placement||e.popupPlacement),k=p=>{var C,$;(C=e.onDropdownVisibleChange)===null||C===void 0||C.call(e,p),($=e.onPopupVisibleChange)===null||$===void 0||$.call(e,p)},{changeOnSelect:i,checkable:x,dropdownPrefixCls:S,loadData:V,expandTrigger:M,expandIcon:B,loadingIcon:z,dropdownMenuColumnStyle:Z,customSlots:ne,dropdownClassName:le}=Je(e);Lt({options:o,fieldNames:s,values:_,halfValues:d,changeOnSelect:i,onSelect:j,checkable:x,searchOptions:O,dropdownPrefixCls:S,loadData:V,expandTrigger:M,expandIcon:B,loadingIcon:z,dropdownMenuColumnStyle:Z,customSlots:ne});const X=L();l({focus(){var p;(p=X.value)===null||p===void 0||p.focus()},blur(){var p;(p=X.value)===null||p===void 0||p.blur()},scrollTo(p){var C;(C=X.value)===null||C===void 0||C.scrollTo(p)}});const Y=w(()=>Ie(e,["id","prefixCls","fieldNames","defaultValue","value","changeOnSelect","onChange","displayRender","checkable","searchValue","onSearch","showSearch","expandTrigger","options","dropdownPrefixCls","loadData","popupVisible","open","dropdownClassName","dropdownMenuColumnStyle","popupPlacement","placement","onDropdownVisibleChange","onPopupVisibleChange","expandIcon","loadingIcon","customSlots","showCheckedStrategy","children"]));return()=>{const p=!(y.value?O.value:o.value).length,{dropdownMatchSelectWidth:C=!1}=e,$=y.value&&h.value.matchInputWidth||p?{}:{minWidth:"auto"};return T(et,J(J(J({},Y.value),t),{},{ref:X,id:r,prefixCls:e.prefixCls,dropdownMatchSelectWidth:C,dropdownStyle:A(A({},N.value),$),displayValues:G.value,onDisplayValuesChange:H,mode:c.value?"multiple":void 0,searchValue:y.value,onSearch:f,showSearch:I.value,OptionList:Ft,emptyOptions:p,open:te.value,dropdownClassName:le.value,placement:m.value,onDropdownVisibleChange:k,getRawInputElement:()=>{var F;return(F=n.default)===null||F===void 0?void 0:F.call(n)}}),n)}}}),Ht=e=>{const{prefixCls:a,componentCls:t,antCls:l}=e,n=`${t}-menu-item`,r=`
    &${n}-expand ${n}-expand-icon,
    ${n}-loading-icon
  `,c=Math.round((e.controlHeight-e.fontSize*e.lineHeight)/2);return[{[t]:{width:e.controlWidth}},{[`${t}-dropdown`]:[at(`${a}-checkbox`,e),{[`&${l}-select-dropdown`]:{padding:0}},{[t]:{"&-checkbox":{top:0,marginInlineEnd:e.paddingXS},"&-menus":{display:"flex",flexWrap:"nowrap",alignItems:"flex-start",[`&${t}-menu-empty`]:{[`${t}-menu`]:{width:"100%",height:"auto",[n]:{color:e.colorTextDisabled}}}},"&-menu":{flexGrow:1,minWidth:e.controlItemWidth,height:e.dropdownHeight,margin:0,padding:e.paddingXXS,overflow:"auto",verticalAlign:"top",listStyle:"none","-ms-overflow-style":"-ms-autohiding-scrollbar","&:not(:last-child)":{borderInlineEnd:`${e.lineWidth}px ${e.lineType} ${e.colorSplit}`},"&-item":A(A({},st),{display:"flex",flexWrap:"nowrap",alignItems:"center",padding:`${c}px ${e.paddingSM}px`,lineHeight:e.lineHeight,cursor:"pointer",transition:`all ${e.motionDurationMid}`,borderRadius:e.borderRadiusSM,"&:hover":{background:e.controlItemBgHover},"&-disabled":{color:e.colorTextDisabled,cursor:"not-allowed","&:hover":{background:"transparent"},[r]:{color:e.colorTextDisabled}},[`&-active:not(${n}-disabled)`]:{"&, &:hover":{fontWeight:e.fontWeightStrong,backgroundColor:e.controlItemBgActive}},"&-content":{flex:"auto"},[r]:{marginInlineStart:e.paddingXXS,color:e.colorTextDescription,fontSize:e.fontSizeIcon},"&-keyword":{color:e.colorHighlight}})}}}]},{[`${t}-dropdown-rtl`]:{direction:"rtl"}},ot(e)]},Bt=lt("Cascader",e=>[Ht(e)],{controlWidth:184,controlItemWidth:111,dropdownHeight:180});var zt=function(e,a){var t={};for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&a.indexOf(l)<0&&(t[l]=e[l]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,l=Object.getOwnPropertySymbols(e);n<l.length;n++)a.indexOf(l[n])<0&&Object.prototype.propertyIsEnumerable.call(e,l[n])&&(t[l[n]]=e[l[n]]);return t};function Xt(e,a,t){const l=e.toLowerCase().split(a).reduce((c,v,u)=>u===0?[v]:[...c,a,v],[]),n=[];let r=0;return l.forEach((c,v)=>{const u=r+c.length;let s=e.slice(r,u);r=u,v%2===1&&(s=T("span",{class:`${t}-menu-item-keyword`,key:"seperator"},[s])),n.push(s)}),n}const Ut=e=>{let{inputValue:a,path:t,prefixCls:l,fieldNames:n}=e;const r=[],c=a.toLowerCase();return t.forEach((v,u)=>{u!==0&&r.push(" / ");let s=v[n.label];const o=typeof s;(o==="string"||o==="number")&&(s=Xt(String(s),c,l)),r.push(s)}),r};function Gt(){return A(A({},Ie(Me(),["customSlots","checkable","options"])),{multiple:{type:Boolean,default:void 0},size:String,bordered:{type:Boolean,default:void 0},placement:{type:String},suffixIcon:xe.any,status:String,options:Array,popupClassName:String,dropdownClassName:String,"onUpdate:value":Function})}const Yt=he({compatConfig:{MODE:3},name:"ACascader",inheritAttrs:!1,props:Te(Gt(),{bordered:!0,choiceTransitionName:"",allowClear:!0}),setup(e,a){let{attrs:t,expose:l,slots:n,emit:r}=a;const c=rt(),v=ct.useInject(),u=w(()=>ut(v.status,e.status)),{prefixCls:s,rootPrefixCls:o,getPrefixCls:g,direction:P,getPopupContainer:y,renderEmpty:E,size:f,disabled:I}=dt("cascader",e),h=w(()=>g("select",e.prefixCls)),{compactSize:O,compactItemClassnames:D}=vt(h,P),_=w(()=>O.value||f.value),d=pt(),b=w(()=>{var i;return(i=I.value)!==null&&i!==void 0?i:d.value}),[R,K]=ht(h),[Q]=Bt(s),G=w(()=>P.value==="rtl"),W=w(()=>{if(!e.showSearch)return e.showSearch;let i={render:Ut};return typeof e.showSearch=="object"&&(i=A(A({},i),e.showSearch)),i}),j=w(()=>ft(e.popupClassName||e.dropdownClassName,`${s.value}-dropdown`,{[`${s.value}-dropdown-rtl`]:G.value},K.value)),H=L();l({focus(){var i;(i=H.value)===null||i===void 0||i.focus()},blur(){var i;(i=H.value)===null||i===void 0||i.blur()}});const te=function(){for(var i=arguments.length,x=new Array(i),S=0;S<i;S++)x[S]=arguments[S];r("update:value",x[0]),r("change",...x),c.onFieldChange()},N=function(){for(var i=arguments.length,x=new Array(i),S=0;S<i;S++)x[S]=arguments[S];r("blur",...x),c.onFieldBlur()},m=w(()=>e.showArrow!==void 0?e.showArrow:e.loading||!e.multiple),k=w(()=>e.placement!==void 0?e.placement:P.value==="rtl"?"bottomRight":"bottomLeft");return()=>{var i,x;const{notFoundContent:S=(i=n.notFoundContent)===null||i===void 0?void 0:i.call(n),expandIcon:V=(x=n.expandIcon)===null||x===void 0?void 0:x.call(n),multiple:M,bordered:B,allowClear:z,choiceTransitionName:Z,transitionName:ne,id:le=c.id.value}=e,X=zt(e,["notFoundContent","expandIcon","multiple","bordered","allowClear","choiceTransitionName","transitionName","id"]),Y=S||E("Cascader");let p=V;V||(p=G.value?T(gt,null,null):T(mt,null,null));const C=T("span",{class:`${h.value}-menu-item-loading-icon`},[T(Ct,{spin:!0},null)]),{suffixIcon:$,removeIcon:F,clearIcon:U}=St(A(A({},e),{hasFeedback:v.hasFeedback,feedbackIcon:v.feedbackIcon,multiple:M,prefixCls:h.value,showArrow:m.value}),n);return Q(R(T(jt,J(J(J({},X),t),{},{id:le,prefixCls:h.value,class:[s.value,{[`${h.value}-lg`]:_.value==="large",[`${h.value}-sm`]:_.value==="small",[`${h.value}-rtl`]:G.value,[`${h.value}-borderless`]:!B,[`${h.value}-in-form-item`]:v.isFormItemInput},yt(h.value,u.value,v.hasFeedback),D.value,t.class,K.value],disabled:b.value,direction:P.value,placement:k.value,notFoundContent:Y,allowClear:z,showSearch:W.value,expandIcon:p,inputIcon:$,removeIcon:F,clearIcon:U,loadingIcon:C,checkable:!!M,dropdownClassName:j.value,dropdownPrefixCls:s.value,choiceTransitionName:_e(o.value,"",Z),transitionName:_e(o.value,bt(k.value),ne),getPopupContainer:y==null?void 0:y.value,customSlots:A(A({},n),{checkable:()=>T("span",{class:`${s.value}-checkbox-inner`},null)}),tagRender:e.tagRender||n.tagRender,displayRender:e.displayRender||n.displayRender,maxTagPlaceholder:e.maxTagPlaceholder||n.maxTagPlaceholder,showArrow:v.hasFeedback||e.showArrow,onChange:te,onBlur:N,ref:H}),n)))}}}),qt=it(A(Yt,{SHOW_CHILD:Ne,SHOW_PARENT:Le})),Qt={class:"region-checkAll"},Zt=he({__name:"SelectRegion",props:{ids:Array,itemIndex:Number,index:Number,isDialog:Boolean,other:{type:Object,default(){return{}}}},emits:["submitCallback","update:confirmLoading","close"],setup(e,{expose:a,emit:t}){const l=t,n=e,r=He(),c=Be.cloneDeep(r.allRegion),v=n.other.map(d=>d.regionData.areaRegions),u=L(v.filter((d,b)=>b!==n.itemIndex&&d.length>0).flat());u.value=u.value.map(d=>d[d.length-1]);const s=L([]),o=L(null);function g(d,b){d.children&&d.children.forEach(R=>g(R,b)),b.includes(d.regionId)&&(d.disabled=!0)}c.forEach(d=>g(d,u.value));const P=(d,b)=>{s.value=b.map(R=>R[R.length-1].regionName)},y=L(!0),E=L(null),f=L(n.ids),I=()=>E.value,h=()=>{f.value=c.filter(d=>!d.disabled).map(d=>[d.regionId]),s.value=c.filter(d=>!d.disabled).map(d=>d.regionName)},O=()=>{f.value=[],s.value=[]},D=async()=>{l("update:confirmLoading",!0),l("submitCallback",{regionIds:f.value,regionNames:s.value,itemIndex:n.itemIndex,index:n.index})};return a({onFormSubmit:()=>{D()}}),(d,b)=>{const R=xt("el-button");return It(),wt("div",null,[be("div",{class:"region-con",ref_key:"cascaderConRef",ref:E},null,512),T(Ve(qt),{ref_key:"cascaderRef",ref:o,value:f.value,"onUpdate:value":b[0]||(b[0]=K=>f.value=K),open:y.value,multiple:"",options:Ve(c),placeholder:"请添加地区",fieldNames:{label:"regionName",value:"regionId",children:"children"},getPopupContainer:I,onChange:P},{tagRender:ve(K=>b[1]||(b[1]=[])),default:ve(()=>[b[2]||(b[2]=be("div",null,null,-1))]),_:1,__:[2]},8,["value","open","options"]),be("div",Qt,[T(R,{type:"primary",size:"small",onClick:h},{default:ve(()=>b[3]||(b[3]=[Ae("全选",-1)])),_:1,__:[3]}),T(R,{size:"small",onClick:O},{default:ve(()=>b[4]||(b[4]=[Ae("清空",-1)])),_:1,__:[4]})])])}}}),ln=Ot(Zt,[["__scopeId","data-v-43d990d0"]]);export{ln as default};

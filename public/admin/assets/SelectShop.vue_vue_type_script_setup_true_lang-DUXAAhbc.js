import{g as _}from"./shop-CBisV8Of.js";import{v as b}from"./bindShop-C4HDB3WM.js";import{d as V,aq as m,r as h,as as w,ar as C,o as B,c as M,D as x,P as F,f,k as g,h as n,m as L,g as T,F as N,p as P}from"./index-B52YIGC0.js";const U=V({__name:"SelectShop",props:m({modelValue:{type:[Number,String]},multiple:{type:Boolean,default:!1},type:{type:Number,default:1},placeholder:{type:String,default:"请输入店铺名称"}},{shopId:{},shopIdModifiers:{}}),emits:m(["update:modelValue","onChange"],["update:shopId"]),setup(l,{emit:v}){const p=l,a=h(!0),s=w({keyword:""}),d=v,u=C(l,"shopId"),y=o=>{d("update:modelValue",o),d("onChange",o)};B(()=>{c()});const i=M(()=>(localStorage.getItem("adminType"),x())),r=h([]),c=async o=>{a.value=!0,s.keyword=String(o||"");try{let e;i.value?(e=await b({...s}),r.value=e.records):(e=await _({...s,shopType:p.type}),r.value=e)}catch(e){F.error(e.message)}finally{a.value=!1}},S=o=>{i.value&&c(o)};return(o,e)=>{const k=f("el-option"),I=f("el-select");return n(),g(I,{modelValue:u.value,"onUpdate:modelValue":e[0]||(e[0]=t=>u.value=t),loading:a.value,filterable:"",remote:"",remoteMethod:S,multiple:p.multiple,placeholder:l.placeholder,clearable:"","reserve-keyword":"",onChange:y},{default:L(()=>[(n(!0),T(N,null,P(r.value,t=>(n(),g(k,{key:t.shopId,label:t.shopTitle,value:t.shopId},null,8,["label","value"]))),128))]),_:1},8,["modelValue","loading","multiple","placeholder"])}}});export{U as _};

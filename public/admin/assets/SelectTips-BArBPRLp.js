import{s as A}from"./storeTipManage-CIFieGB0.js";import{d as P,r as _,as as $,o as D,f as d,g as a,h as n,i as e,z as r,m as p,F as I,p as k,n as E,Q as b,l as L,t as m,P as y,_ as M}from"./index-B52YIGC0.js";const Q={class:"container"},R={class:"content_wrapper"},U={class:"lyecs-table-list-warp"},j={class:"list-table-tool lyecs-search-warp"},q={class:"list-table-tool-row"},G={class:"list-table-tool-col"},H={class:"tips-list"},J={class:"list-box"},K=["onClick"],O={key:0,class:"triangle"},W={class:"selected-list"},X={class:"title"},Y={class:"tips-list"},Z={class:"list-box"},ee=["onClick"],te=P({__name:"SelectTips",props:{selectedIds:{type:Array,default:[]}},emits:["submitCallback","okType"],setup(C,{expose:g,emit:w}){const x=C,S=w,v=_([]),f=_(!0),t=_(x.selectedIds),c=$({keyword:""}),h=async()=>{f.value=!0;try{const l=await A(c);v.value=l}catch(l){y.error(l.message)}finally{f.value=!1}};D(()=>{h()});const T=()=>{h()},V=l=>{if(t.value.some(s=>s.tipId===l.tipId)){t.value=t.value.filter(s=>s.tipId!==l.tipId);return}if(t.value.length>=6){y.warning("最多支持选择6个标签");return}t.value.push(l)},N=l=>{const s=t.value.findIndex(u=>u.tipId===l.tipId);t.value.splice(s,1)};return g({onFormSubmit:()=>{S("submitCallback",t)}}),(l,s)=>{const u=d("el-button"),F=d("TigInput"),B=d("el-space"),z=d("el-form");return n(),a("div",Q,[e("div",R,[e("div",U,[e("div",j,[r(z,{model:c},{default:p(()=>[e("div",q,[e("div",G,[r(B,null,{default:p(()=>[r(F,{modelValue:c.keyword,"onUpdate:modelValue":s[0]||(s[0]=o=>c.keyword=o),name:"keyword",placeholder:"输入标签名称"},{append:p(()=>[r(u,{onClick:T},{default:p(()=>[...s[1]||(s[1]=[e("span",{class:"iconfont icon-chakan1"},null,-1)])]),_:1})]),_:1},8,["modelValue"])]),_:1})])])]),_:1},8,["model"])]),e("div",H,[e("div",J,[(n(!0),a(I,null,k(v.value,o=>(n(),a("div",{class:E(["item",{active:t.value.some(i=>i.tipId==o.tipId)}]),key:o.tipId,onClick:i=>V(o)},[b(m(o.tipName)+" ",1),t.value.some(i=>i.tipId==o.tipId)?(n(),a("div",O)):L("",!0)],10,K))),128))])]),e("div",W,[e("div",X,[e("span",null,"已选标签("+m(t.value.length)+")",1),s[2]||(s[2]=e("div",{class:"tips"},"至多支持选择6个标签",-1))]),e("div",Y,[e("div",Z,[(n(!0),a(I,null,k(t.value,o=>(n(),a("div",{class:"item",key:o.tipId},[b(m(o.tipName)+" ",1),e("i",{class:"iconfont-admin icon-cha1",onClick:i=>N(o)},null,8,ee)]))),128))])])])])])])}}}),ae=M(te,[["__scopeId","data-v-e7dbae4d"]]);export{ae as default};

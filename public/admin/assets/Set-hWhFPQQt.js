import{d as D,r as c,b as I,ab as N,o as R,f as l,g as L,h as g,i as o,k as j,l as q,z as a,m as n,L as F,Q as O,O as U,P as m,_ as z}from"./index-B52YIGC0.js";import{j as E,k as M}from"./shop-CBisV8Of.js";const P={class:"container"},Q={class:"content_wrapper"},A={class:"lyecs-form-table"},G={class:"tig-radio"},H={class:"flex mb20"},J={class:"flex"},K={class:"check-box"},W={class:"flex mb20"},X=D({__name:"Set",props:{id:{type:Number,default:0},isDialog:Boolean},emits:["submitCallback","update:confirmLoading","close"],setup(y,{expose:h,emit:w}){const r=w,i=y,d=c(!1),x=I().currentRoute.value.query,p=c(i.isDialog?i.id:Number(x.id)),f=N(),t=c({dateType:0}),S=async()=>{try{const s=await E({shopId:p.value,code:"orderConfig"});Object.assign(t.value,s)}catch(s){m.error(s.message),r("close")}finally{d.value=!1}};R(()=>{S()});const _=async()=>{await f.value.validate();try{r("update:confirmLoading",!0);const s=await M({shopId:p.value,...t.value,code:"orderConfig"});r("submitCallback",s),m.success("操作成功")}catch(s){m.error(s.message)}finally{r("update:confirmLoading",!1)}};return h({onFormSubmit:()=>{_()}}),(s,e)=>{const v=l("el-radio"),k=l("TigInput"),V=l("el-radio-group"),b=l("el-form-item"),C=l("el-button"),T=l("el-form"),B=l("a-spin");return g(),L("div",P,[o("div",Q,[o("div",A,[d.value?q("",!0):(g(),j(T,{key:0,ref_key:"formRef",ref:f,model:t.value,"label-width":"auto"},{default:n(()=>[a(b,{label:"店铺状态",prop:"status"},{default:n(()=>[o("div",G,[a(V,{modelValue:t.value.dateType,"onUpdate:modelValue":e[1]||(e[1]=u=>t.value.dateType=u)},{default:n(()=>[o("div",H,[a(v,{value:1}),o("div",J,[e[2]||(e[2]=o("p",{class:"mr10"},"订单收货后",-1)),o("div",K,[a(k,{type:"integer",modelValue:t.value.useDay,"onUpdate:modelValue":e[0]||(e[0]=u=>t.value.useDay=u),class:"mr10",width:"100px",disabled:t.value.dateType==0},null,8,["modelValue","disabled"])]),e[3]||(e[3]=o("p",{class:"mr10"},"天结算",-1))])]),o("div",W,[a(v,{value:0}),e[4]||(e[4]=o("p",{class:"mr10"},"确认收货后立即不可售后",-1))])]),_:1},8,["modelValue"])])]),_:1}),F(a(b,{"wrapper-col":{offset:4,span:16}},{default:n(()=>[a(C,{ref:"submitBtn",class:"form-submit-btn",type:"primary",onClick:_},{default:n(()=>[...e[5]||(e[5]=[O("提交",-1)])]),_:1},512)]),_:1},512),[[U,!i.isDialog]])]),_:1},8,["model"])),a(B,{spinning:d.value,style:{width:"100%","margin-top":"100px"}},null,8,["spinning"])])])])}}}),ee=z(X,[["__scopeId","data-v-ed47bb94"]]);export{ee as default};

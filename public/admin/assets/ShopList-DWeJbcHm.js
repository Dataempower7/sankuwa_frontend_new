import{d as A,W as L,x as V,f as u,g as i,h as s,i as n,z as o,m as a,j as t,a8 as M,l as p,Q as m,t as d,k as y}from"./index-B52YIGC0.js";/* empty css             */import{_ as R}from"./Image.vue_vue_type_script_setup_true_lang-B8qXJKJq.js";import{S as b}from"./StatusDot-DuKP0Xmc.js";import{D as w}from"./DeleteRecord-BTXBpwL2.js";/* empty css                                                                    */import{P as B}from"./Pagination-C8J7-6Em.js";import{c as K,e as P}from"./areaManage-rIHpuU4l.js";import{u as q}from"./useListRequest-CprjeVXp.js";import"./format-BxqOrW-w.js";import"./index-C9ZdVeVx.js";const F={class:"container"},O={class:"content_wrapper"},U={class:"lyecs-table-list-warp"},j={class:"list-table-tool lyecs-search-warp"},E={class:"list-table-tool-row"},G={class:"simple-form-warp"},Q={class:"simple-form-field"},W={class:"form-group"},$={class:"control-container"},H={class:"table-container"},J={key:0},X={key:0},Y={key:1},Z={key:3,style:{color:"red"}},ee={key:4,style:{color:"green"}},te={class:"empty-warp"},oe={key:0,class:"empty-bg"},ae={key:0,class:"pagination-con"},fe=A({__name:"ShopList",props:{id:{type:Number,default:0}},emits:["submitCallback","update:confirmLoading","close"],setup(k,{emit:se}){L();const C=V(),S=k,{listData:v,loading:_,total:h,filterParams:c,loadData:g,onSearchSubmit:f,onSortChange:T}=q({apiFunction:K,idKey:"areaStoreManagerId",defaultParams:{page:1,size:C.get("pageSize"),sortField:"",sortOrder:"",shopTitle:"",areaStoreManagerId:S.id}});return g(),(ne,l)=>{const x=u("el-button"),D=u("TigInput"),r=u("el-table-column"),z=u("el-table"),I=u("a-spin");return s(),i("div",F,[n("div",O,[n("div",U,[n("div",j,[n("div",E,[n("div",G,[n("div",Q,[n("div",W,[n("div",$,[o(D,{modelValue:t(c).shopTitle,"onUpdate:modelValue":l[0]||(l[0]=e=>t(c).shopTitle=e),name:"shopTitle",placeholder:"输入门店名称",onKeyup:M(t(f),["enter"]),clearable:"",onClear:t(f)},{append:a(()=>[o(x,{onClick:t(f)},{default:a(()=>[...l[3]||(l[3]=[n("span",{class:"iconfont icon-chakan1"},null,-1)])]),_:1},8,["onClick"])]),_:1},8,["modelValue","onKeyup","onClear"])])])])])])]),n("div",H,[o(I,{spinning:t(_)},{default:a(()=>[o(z,{data:t(v),loading:t(_),total:t(h),"row-key":"areaStoreManagerId","show-overflow-tooltip":"",onSortChange:t(T)},{empty:a(()=>[n("div",te,[t(_)?p("",!0):(s(),i("div",oe,"暂无数据"))])]),default:a(()=>[o(r,{width:80,label:"序号"},{default:a(({row:e,$index:N})=>[m(d(N+1),1)]),_:1}),o(r,{label:"门店LOGO",prop:"shopLogo"},{default:a(({row:e})=>[o(t(R),{src:e.shopLogo,fit:"contain",style:{height:"25px",width:"60px"}},null,8,["src"])]),_:1}),o(r,{label:"门店名称",prop:"shopTitle"},{default:a(({row:e})=>[m(d(e.shopTitle),1)]),_:1}),o(r,{label:"门店地址",prop:"shopDetailedAddress","min-width":"200"},{default:a(({row:e})=>[e.shopRegionNames&&e.shopRegionNames.length>0?(s(),i("span",J,d(e.shopRegionNames.join("")),1)):p("",!0),m(" "+d(e.shopDetailedAddress||"--"),1)]),_:1}),o(r,{label:"联系电话",prop:"shopContactConfig"},{default:a(({row:e})=>[e.shopContactConfig&&e.shopContactConfig.length>0?(s(),i("div",X,d(e.shopContactConfig[0].values||"--"),1)):(s(),i("div",Y,"--"))]),_:1}),o(r,{label:"门店状态"},{default:a(({row:e})=>[e.status==10?(s(),y(b,{key:0,color:"red",flicker:!0})):p("",!0),e.status==4?(s(),y(b,{key:1,color:"red",flicker:!0})):p("",!0),e.status==1?(s(),y(b,{key:2,color:"green",flicker:!0})):p("",!0),e.status===10||e.status===4?(s(),i("span",Z,d(e.statusText),1)):e.status===1?(s(),i("span",ee,d(e.statusText),1)):p("",!0)]),_:1}),o(r,{width:100,fixed:"right",label:"操作"},{default:a(({row:e})=>[o(t(w),{params:{shopId:e.shopId,areaStoreManagerId:k.id},requestApi:t(P),onAfterDelete:t(g)},{default:a(()=>[...l[4]||(l[4]=[m("删除 ",-1)])]),_:1},8,["params","requestApi","onAfterDelete"])]),_:1})]),_:1},8,["data","loading","total","onSortChange"])]),_:1},8,["spinning"]),t(h)>0?(s(),i("div",ae,[o(t(B),{page:t(c).page,"onUpdate:page":l[1]||(l[1]=e=>t(c).page=e),size:t(c).size,"onUpdate:size":l[2]||(l[2]=e=>t(c).size=e),total:t(h),onCallback:t(g)},null,8,["page","size","total","onCallback"])])):p("",!0)])])])])}}});export{fe as default};

import{d as L}from"./vuedraggable.umd-BauR0rTv.js";import{l as I}from"./lodash-DLXBIuYo.js";import{d as J,r as a,o as $,f as v,g as n,h as t,i as s,z as r,m as i,k as f,l,j as m,B as M,t as P,ae as _,_ as q}from"./index-B52YIGC0.js";const U={class:"theme-toolbar"},z={class:"theme-menu-con show"},G={class:"theme-con-box"},R={class:"inside"},F=["onClick"],K=["innerHTML"],Q={key:1,class:"content"},W=["onClick"],X=["innerHTML"],Y={key:1,class:"content"},Z=["onClick"],oo=["innerHTML"],eo={key:1,class:"content"},to=J({__name:"ToolBar",props:{modules:{type:Object,default:()=>({})}},emits:["item-added"],setup(B,{emit:H}){const V=localStorage.getItem("adminType"),C=a(["tool","other","advanced"]),D=B,p=a("toolList"),x=a(D.modules),u=a([{type:"imageAd",url:"mobile",label:"图片广告1",content:'<i class="iconfont-admin icon-image_nav"></i>',module:{},isShow:!0},{type:"imageAd2",url:"mobile",label:"图片广告2",content:'<i class="iconfont-admin icon-image_nav"></i>',module:{},isShow:_()},{type:"imageSquareAd",url:"mobile",label:"图片魔方",content:'<i class="iconfont-admin icon-image_square_ad"></i>',module:{},isShow:!0},{type:"imageHotarea",url:"mobile",label:"热图绘制",content:'<i class="iconfont-admin icon-image_hotarea"></i>',module:{},isShow:!0},{type:"product",url:"mobile",label:"商品",content:'<i class="iconfont-admin icon-product"></i>',module:{},isShow:!0},{type:"product2",url:"mobile",label:"商品2",content:'<i class="iconfont-admin icon-product"></i>',module:{},isShow:_()},{type:"whiteLine",url:"mobile",label:"分割线",content:'<i class="iconfont-admin icon-white_line"></i>',module:{},isShow:!0},{type:"whiteBlank",url:"mobile",label:"空白辅助",content:'<i class="iconfont-admin icon-white_blank"></i>',module:{},isShow:!0},{type:"imageNav",url:"mobile",label:"图文导航",content:'<i class="iconfont-admin icon-image_nav"></i>',module:{},isShow:!0},{type:"titleAd",url:"mobile",label:"文本标题",content:'<i class="iconfont-admin icon-title_ad"></i>',module:{},isShow:!0},{type:"notice",url:"mobile",label:"公告",content:'<i class="iconfont-admin icon-notice"></i>',module:{},isShow:!0}]),A=a([{type:"imageTextComponent",url:"mobilePro",label:"图文介绍",content:'<i class="iconfont-admin icon-image_text_component"></i>',module:{},isShow:!0},{type:"productGrouping",url:"mobilePro",label:"商品分组",content:'<i class="iconfont-admin icon-product_grouping"></i>',module:{},isShow:!0},{type:"groupSliding",url:"mobilePro",label:"分组滑动",content:'<i class="iconfont-admin icon-group_sliding"></i>',module:{},isShow:!0},{type:"countdown",url:"mobilePro",label:"倒计时",content:'<i class="iconfont-admin icon-countdown"></i>',module:{},isShow:!0},{type:"categoryRec",url:"mobilePro",label:"分类推荐",content:'<i class="iconfont-admin icon-category_rec"></i>',module:{},isShow:!0},{type:"mixedProductDisplay",url:"mobilePro",label:"商品混排",content:'<i class="iconfont-admin icon-mixed_product_display"></i>',module:{},isShow:!0},{type:"specialOffer",url:"mobilePro",label:"天天特价",content:'<i class="iconfont-admin icon-special_offer"></i>',module:{},isShow:!0},{type:"noticeA2",url:"mobilePro",label:"公告",content:'<i class="iconfont-admin icon-notice"></i>',module:{},isShow:!0},{type:"mixedNotice",url:"mobilePro",label:"公告混排",content:'<i class="iconfont-admin icon-notice"></i>',module:{},isShow:!0},{type:"comboSuggestions",url:"mobilePro",label:"组合推荐",content:'<i class="iconfont-admin icon-combo_suggestions"></i>',module:{},isShow:!0},{type:"slideLargeImage",url:"mobilePro",label:"大图滑动",content:'<i class="iconfont-admin icon-slide_large_image"></i>',module:{},isShow:!0},{type:"slidingImage",url:"mobilePro",label:"小图滑动",content:'<i class="iconfont-admin icon-sliding_image"></i>',module:{},isShow:!0},{type:"banner",url:"mobilePro",label:"首焦轮播",content:'<i class="iconfont-admin icon-banner"></i>',module:{},isShow:!0},{type:"bannerA2",url:"mobilePro",label:"首焦轮播A2",content:'<i class="iconfont-admin icon-banner"></i>',module:{},isShow:!1},{type:"categoryNav",url:"mobilePro",label:"类目导航",content:'<i class="iconfont-admin icon-category_nav"></i>',module:{},isShow:!0},{type:"categoryNavA1",url:"mobilePro",label:"类目导航A1",content:'<i class="iconfont-admin icon-category_nav"></i>',module:{},isShow:!0},{type:"categoryNavA2",url:"mobilePro",label:"类目导航A2",content:'<i class="iconfont-admin icon-category_nav"></i>',module:{},isShow:!0},{type:"categoryNavA3",url:"mobilePro",label:"类目导航A3",content:'<i class="iconfont-admin icon-category_nav"></i>',module:{},isShow:!0},{type:"storeNav",url:"mobilePro",label:"门店导航",content:'<i class="iconfont-admin icon-category_nav"></i>',module:{},isShow:!1}]),y=a([{type:"coupon",url:"mobilePromotion",label:"优惠券",content:'<i class="iconfont-admin icon-coupon"></i>',module:{},isShow:!0}]),E=a([{type:"searchBar",url:"mobile",label:"商品搜索",content:'<i class="iconfont-admin icon-search_bar"></i>',module:{},isShow:!0},{type:"searchBar2",url:"mobile",label:"商品搜索2",content:'<i class="iconfont-admin icon-search_bar"></i>',module:{},isShow:_()},{type:"catNav",url:"mobile",label:"分类导航",content:'<i class="iconfont-admin icon-cat_nav"></i>',module:{},isShow:!0}]),N=a([{type:"seckill",url:"mobilePromotion",label:"秒杀",content:'<i class="iconfont-admin icon-seckill"></i>',module:{},isShow:!0},{type:"seckill2",url:"mobilePromotion",label:"秒杀2",content:'<i class="iconfont-admin icon-seckill"></i>',module:{},isShow:_()},{type:"groupon",url:"mobilePromotion",label:"拼团",content:'<i class="iconfont-admin icon-seckill"></i>',module:{},isShow:!0}]),O=a([{type:"shopInfo",url:"mobilePromotion",label:"店铺信息",content:'<i class="iconfont-admin icon-product"></i>',module:{},isShow:!0}]),g=c=>{let o=I.cloneDeep(c);return o.moduleIndex=Date.now(),delete o.content,o},j=H,w=(c,o="toolList",S)=>{const k={toolList:u.value,advancedList:A.value,otherList:y.value};let d;const b=k[o];if(b&&b[c])d=I.cloneDeep(b[c]),d.moduleIndex=Date.now(),x.value.moduleList.push(d),j("item-added",{newIndex:x.value.moduleList.length-1});else throw new Error("无效的类型或索引")};return $(()=>{const c=localStorage.getItem("shopId");c&&c!="0"?u.value=[...u.value,...O.value,...N.value]:(u.value=[...u.value,...E.value],y.value=[...y.value,...N.value])}),(c,o)=>{const S=v("el-tab-pane"),k=v("el-tabs"),d=v("el-collapse-item"),b=v("el-collapse");return t(),n("div",U,[s("div",z,[s("div",G,[r(k,{modelValue:p.value,"onUpdate:modelValue":o[0]||(o[0]=e=>p.value=e),class:"demo-tabs"},{default:i(()=>[r(S,{label:"基础模块",name:"toolList"}),m(M)()?(t(),f(S,{key:0,label:"高级模块",name:"advancedList"})):l("",!0)]),_:1},8,["modelValue"]),s("div",R,[r(b,{modelValue:C.value,"onUpdate:modelValue":o[7]||(o[7]=e=>C.value=e)},{default:i(()=>[p.value==="toolList"?(t(),f(d,{key:0,title:"基础模块",name:"tool"},{title:i(()=>[...o[8]||(o[8]=[s("div",{class:"modules-head J_ModuleListHead"},[s("span",null,"基础模块")],-1)])]),default:i(()=>[r(m(L),{class:"module-list","item-key":"type",list:u.value,"ghost-class":"sortable-ghost","chosen-class":"toolChosenClass",animation:"300",onStart:o[1]||(o[1]=()=>{}),onEnd:o[2]||(o[2]=()=>{}),sort:!1,group:{name:"advanced",pull:"clone",put:!1},clone:g},{item:i(({element:e,index:h})=>[e.isShow?(t(),n("div",{key:0,class:"list-item tool-list-item",onClick:T=>w(h,"toolList",e)},[e.content?(t(),n("span",{key:0,class:"pic",innerHTML:e.content},null,8,K)):l("",!0),e.label?(t(),n("span",Q,P(e.label),1)):l("",!0)],8,F)):l("",!0)]),_:1},8,["list"])]),_:1})):l("",!0),p.value==="toolList"?(t(),f(d,{key:1,title:"其它模块",name:"other"},{title:i(()=>[...o[9]||(o[9]=[s("div",{class:"modules-head J_ModuleListHead"},[s("span",null,"其它模块")],-1)])]),default:i(()=>[r(m(L),{class:"module-list","item-key":"type",list:y.value,"ghost-class":"sortable-ghost","chosen-class":"toolChosenClass",animation:"300",onStart:o[3]||(o[3]=()=>{}),onEnd:o[4]||(o[4]=()=>{}),sort:!1,group:{name:"advanced",pull:"clone",put:!1},clone:g},{item:i(({element:e,index:h})=>[e.isShow?(t(),n("div",{key:0,class:"list-item tool-list-item",onClick:T=>w(h,"otherList")},[e.content?(t(),n("span",{key:0,class:"pic",innerHTML:e.content},null,8,X)):l("",!0),e.label?(t(),n("span",Y,P(e.label),1)):l("",!0)],8,W)):l("",!0)]),_:1},8,["list"])]),_:1})):l("",!0),p.value==="advancedList"&&m(M)()&&m(V)==="admin"?(t(),f(d,{key:2,title:"高级模块",name:"advanced"},{title:i(()=>[...o[10]||(o[10]=[s("div",{class:"modules-head J_ModuleListHead"},[s("span",null,"高级模块")],-1)])]),default:i(()=>[r(m(L),{class:"module-list","item-key":"type",list:A.value,"ghost-class":"sortable-ghost","chosen-class":"toolChosenClass",animation:"300",onStart:o[5]||(o[5]=()=>{}),onEnd:o[6]||(o[6]=()=>{}),sort:!1,group:{name:"advanced",pull:"clone",put:!1},clone:g},{item:i(({element:e,index:h})=>[e.isShow?(t(),n("div",{key:0,class:"list-item tool-list-item",onClick:T=>w(h,"advancedList")},[e.content?(t(),n("span",{key:0,class:"pic",innerHTML:e.content},null,8,oo)):l("",!0),e.label?(t(),n("span",eo,P(e.label),1)):l("",!0)],8,Z)):l("",!0)]),_:1},8,["list"])]),_:1})):l("",!0)]),_:1},8,["modelValue"]),o[11]||(o[11]=s("div",{style:{height:"50px"}},null,-1))])])])])}}}),so=q(to,[["__scopeId","data-v-1bb16d29"]]);export{so as default};

/* empty css             */import{i as x}from"./index-Bb6yjXMn.js";import T from"./SelectTime-CSNZGMZn.js";import{c as b}from"./overview-CsCQyDU6.js";import{d as h,r as p,as as w,aw as _,o as z,s as O,y as S,w as D,g as E,h as L,z as V,i as m,F as k,P as A,_ as M}from"./index-B52YIGC0.js";import{f as Y}from"./time-EzYK4E-P.js";import"./SelectTimeInterval.vue_vue_type_style_index_0_scoped_207fe586_lang-1fz1RqDZ.js";import"./index-KjhYqCTY.js";import"./index-C9ZdVeVx.js";/* empty css                                                                    *//* empty css                                                                  *//* empty css                                                                              *//* empty css                                                                     */import"./SelectTimeInterval-BUZ-hmxo.js";const B={class:"chart-content"},C=h({__name:"TrendChart",setup(F){const e=p(window.innerWidth<768),v=()=>{e.value=window.innerWidth<768},a=w({dateType:3,startEndTime:Y(_(1,"sub"),"YYYY-MM-DD")}),n=p();let t;const f=()=>({grid:{left:e.value?"0%":"2%",right:"4%",bottom:"25%",top:(e.value,"15%"),containLabel:!0},tooltip:{trigger:"axis",confine:!0},legend:{data:["分销员销售额(元)"],icon:"rect",itemWidth:e.value?15:20,itemHeight:e.value?3:4,top:e.value?0:void 0},xAxis:{type:"category",data:[],axisLabel:{interval:e.value?"auto":0,rotate:e.value?30:0,fontSize:e.value?10:12}},yAxis:{type:"value",name:"分销员销售额(元)",nameLocation:"end",nameTextStyle:{padding:e.value?[0,0,0,20]:[0,0,0,50]},axisLabel:{formatter:e.value?o=>o>=1e4?`${(o/1e4).toFixed(1)}万`:o:void 0}},dataZoom:[{backgroundColor:"#fff",fillerColor:"rgb(234, 236, 253, 0.6)",borderColor:"#bbc2f9",showDetail:!1,startValue:0,endValue:100,filterMode:"empty",left:"center",zoomLoxk:!0,bottom:3,height:e.value?15:20}],series:[{name:"分销员销售额(元)",data:[],type:"line",smooth:!1,lineStyle:{color:"#3aa1ff",width:e.value?2:3},areaStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"rgba(58,161,255, 0.5)"},{offset:1,color:"#ffffff"}],global:!1}},color:"#3aa1ff",emphasis:{scale:!1},symbolSize:e.value?4:6}]}),r=p(f()),c=()=>{v(),t==null||t.resize(),r.value=f(),t==null||t.setOption(r.value,!0)},y=()=>{n.value&&(t=x(n.value),t.setOption(r.value),window.addEventListener("resize",c))},l=async()=>{try{const o=await b({...a}),{horizontalAxis:i,longitudinalAxis:s}=o,g=i.map(u=>{let d="月";return a.dateType===2&&(d="日"),a.dateType===3&&(d="时"),e.value&&a.dateType===3?u:u+d});r.value.xAxis.data=g,r.value.series[0].data=s,t==null||t.setOption(r.value)}catch(o){A.error(o.message)}};return z(()=>{O(()=>{y()}),l()}),S(()=>{t==null||t.dispose(),window.removeEventListener("resize",c)}),D(()=>{a.dateType&&l()}),(o,i)=>(L(),E(k,null,[V(T,{dateType:a.dateType,"onUpdate:dateType":i[0]||(i[0]=s=>a.dateType=s),dateValue:a.startEndTime,"onUpdate:dateValue":i[1]||(i[1]=s=>a.startEndTime=s),onOnOK:l},null,8,["dateType","dateValue"]),m("div",B,[m("div",{class:"chart",ref_key:"chartRef",ref:n},null,512)])],64))}}),Q=M(C,[["__scopeId","data-v-e66ab991"]]);export{Q as default};

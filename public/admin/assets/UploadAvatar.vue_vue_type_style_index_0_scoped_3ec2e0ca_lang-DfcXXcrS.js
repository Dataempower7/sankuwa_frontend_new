import{d as O,r as k,a0 as j,f as o,k as c,h as s,i as e,n as B,j as y,l as i,z as d,aO as w,e as S,dm as F,G,J as N,g as a,_ as $}from"./index-BLXOA87U.js";import"./index-DpgvsnVO.js";import{d as z}from"./vuedraggable.umd-OAFqtEpj.js";import{_ as b}from"./Image.vue_vue_type_script_setup_true_lang-BK00jvUw.js";import{i as C}from"./format-DdZABYp4.js";import{B as A}from"./BusinessImg-C3Ug8bC9.js";import{b as E}from"./version-hjn5tnxG.js";import{_ as h}from"./DialogForm.vue_vue_type_script_setup_true_lang-6GHo9HCV.js";const D={class:"gallery-pic"},J={class:"item-img add-photo-btn"},P={key:2,class:"remove-btn"},R={key:0,class:"item-action"},q={key:1,class:"gallery-list-warp"},H={class:"item","data-id":"img.imgId"},K={class:"img flex flex-justify-center"},L={class:"lyecs-dialogImage"},Q={key:1,class:"lyecs-dialogImage"},W=["onClick"],X={key:0},Y={class:"item gallery-add-item add-gallery-photo-btn",draggable:"false"},Z=O({__name:"FormAddGallery",props:{photo:{type:String,default:""},photos:{type:Array,default:[]},isMultiple:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},type:{type:Number,default:1},pageType:{type:String,default:""}},emits:["update:photo","update:photos"],setup(p,{emit:T}){k(null);const m=p,{photo:n,photos:_,isMultiple:v,disabled:f}=j(m),g=T,u=r=>{if(v.value==!0){let t=_.value||[];g("update:photos",t.concat(r))}else g("update:photo",r[0].picUrl)},x=r=>{let t=_.value;t.splice(r,1),g("update:photos",t)},M=()=>{g("update:photo","")};return k(!1),k(""),(r,t)=>{const U=S("el-icon");return a(),o("div",D,[!e(v)&&p.type==1?(a(),o("div",{key:0,class:B("gallery-pic-select "+(e(n)?"have_image":""))},[s("div",J,[e(n)?(a(),y(e(b),{key:0,class:"gallery-img",src:e(C)(e(n))},null,8,["src"])):c("",!0),e(n)?c("",!0):(a(),y(e(h),{key:1,type:"gallery",class:"item-bg",onOkCallback:u,params:{isMultiple:m.isMultiple}},{default:i(()=>t[2]||(t[2]=[s("div",{class:"flex",style:{"flex-direction":"column",height:"80px",width:"80px","align-items":"center","justify-content":"center","line-height":"22px"}},[s("i",{class:"iconfont icon-tianjiatupian"}),s("span",null,"添加图片")],-1)])),_:1,__:[2]},8,["params"])),e(n)&&!e(f)?(a(),o("p",P,[s("i",{onClick:M,class:"iconfont icon-cha"})])):c("",!0)]),e(n)&&p.type==1&&!e(f)?(a(),o("div",R,[d(e(h),{type:"gallery",class:"item item-edit",onOkCallback:u,params:{isMultiple:m.isMultiple}},{default:i(()=>t[3]||(t[3]=[s("span",{class:"iconfont icon-bianji1"},null,-1)])),_:1,__:[3]},8,["params"]),s("span",{onClick:M,class:"item item-remove iconfont icon-shanchu"})])):c("",!0)],2)):c("",!0),s("div",null,[p.type==2?(a(),y(e(h),{key:0,type:"gallery",onOkCallback:u,params:{isMultiple:m.isMultiple}},{default:i(()=>[s("div",null,[w(r.$slots,"default",{},void 0,!0)])]),_:3},8,["params"])):c("",!0)]),e(v)?(a(),o("div",q,[s("div",null,[d(e(z),{class:"gallery-list-ul","item-key":"picId",list:e(_),"ghost-class":"ghost","chosen-class":"chosenClass",animation:"300",onStart:t[0]||(t[0]=()=>{}),onEnd:t[1]||(t[1]=()=>{})},{item:i(({element:l,index:V})=>[s("div",H,[s("div",K,[p.pageType=="product"?(a(),y(A,{key:0,modelValue:l.picUrl,"onUpdate:modelValue":I=>l.picUrl=I,picThumb:l.picThumb,dataId:l.picId,dataType:7,onEdit:u,onDelete:x},{default:i(()=>[s("a",L,[d(e(b),{class:"gallery-img",big:l.picUrl,src:e(C)(l.picThumb)},null,8,["big","src"])])]),_:2},1032,["modelValue","onUpdate:modelValue","picThumb","dataId"])):(a(),o("a",Q,[d(e(b),{class:"gallery-img",big:l.picUrl,src:e(C)(l.picThumb)},null,8,["big","src"])])),G(s("i",{onClick:I=>x(V),class:B(["btn-del iconfont icon-cha",{overseas:e(E)()}])},null,10,W),[[N,!e(f)]])])])]),footer:i(()=>[e(f)?(a(),o("div",X)):(a(),y(e(h),{key:1,type:"gallery",class:"",onOkCallback:u,params:{isMultiple:m.isMultiple}},{default:i(()=>[s("div",Y,[d(U,{size:"25"},{default:i(()=>[d(e(F))]),_:1})])]),_:1},8,["params"]))]),_:1},8,["list"])])])):c("",!0)])}}}),ne=$(Z,[["__scopeId","data-v-9a601139"]]);export{ne as F};

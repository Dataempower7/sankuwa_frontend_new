import{i as $,p as L}from"./format-BxqOrW-w.js";import{m as M,g as D,h as q,b as E}from"./index-DLTpLwVu.js";import{e as O}from"./empty-img-bg3-5lYgsyrX.js";import{b as H}from"./groupon-BtcEMuW-.js";import W from"./View-DKvEAP06.js";import{d as Z,ar as K,r as f,c as b,w as Q,o as U,g as i,h as s,i as e,k as Y,l as r,j as c,bq as J,F as X,p as oo,ah as P,n as j,t as h,_ as eo}from"./index-B52YIGC0.js";/* empty css                                                             *//* empty css                                                             */import"./lodash-DLXBIuYo.js";const to={class:"goods-ad-warp",style:{}},ao={class:"goods-ad-con"},so={class:"item-con"},io={class:"item-photo"},ro={href:"",title:"",class:"item-image-a"},no=["src"],uo={key:0,class:"cap-seckill-goods__tag-title"},lo={class:"item-info groupon"},co={class:"item-name-a"},mo={key:0,class:"group-num"},po={class:"group-num-text"},go={key:1,href:"",title:"",class:"groupon-product-name"},_o={key:0,class:"item-name"},vo={class:"item-name-a product-desc"},yo={key:1,class:"item-action"},ho={class:"item-price"},xo={class:"price_format"},bo={class:"price_format source_price"},fo={class:"item-buy"},Po={href:"javascript:;",class:"buy-btn lyecs-buyBtn"},No={key:0},ko={key:1},Bo={key:2,class:"iconfont-h5 icon-gouwuche iconh5-style"},Io={key:3,class:"iconfont-h5 icon-gouwuche1 iconh5-style"},wo={key:4,class:"iconfont-h5 icon-jia iconh5-style"},Go={key:5,class:"iconfont-h5 icon-jia1 iconh5-style"},So=Z({__name:"View",props:{module:{},moduleModifiers:{}},emits:["update:module"],setup(z){const o=K(z,"module");f(Date.now()+1e3*60*60*7);const C=f({style:1,goodsStyle:1,goodsRadioStyle:1,textAlign:1,textWeight:1,goodsNameRow:2,goodsNamePadding:1,showName:1,showBrief:1,showPrice:1,goodsPadding:5,buyBtnStyle:1,backgroundColor:"",boxRadius:0,innerPadding:0,boxPadding:10,boxPaddingTop:5,boxPaddingBottom:5,frame:E,title:q,groupType:1,grouponActivityItem:void 0});M(o.value,C.value),o.value.grouponActivityItem&&(o.value.groupType=o.value.grouponActivityItem.groupType);const{frame:F,title:x}=o.value,m=b(()=>D(F??{})),d=b(()=>{var t,a,u,p,g,_,v,y;return{backgroundColor:`background-color: ${(t=o==null?void 0:o.value)==null?void 0:t.backgroundColor};`,boxPadding:`margin-left: ${(a=o==null?void 0:o.value)==null?void 0:a.boxPadding}px;margin-right: ${(u=o==null?void 0:o.value)==null?void 0:u.boxPadding}px;`,boxPaddingBottom:`margin-bottom: ${(p=o==null?void 0:o.value)==null?void 0:p.boxPaddingBottom}px;`,boxPaddingTop:`margin-top: ${(g=o==null?void 0:o.value)==null?void 0:g.boxPaddingTop}px;`,boxRadius:`border-radius: ${(_=o==null?void 0:o.value)==null?void 0:_.boxRadius}px;`,innerPadding:`padding: ${(v=o==null?void 0:o.value)==null?void 0:v.innerPadding}px;`,goodsPadding:`padding: ${(y=o==null?void 0:o.value)==null?void 0:y.goodsPadding}px;`}}),R=b(()=>{var t;switch((t=o==null?void 0:o.value)==null?void 0:t.style){case 1:return"big";case 2:return"small flex-end";case 5:return"list flex-end";case 6:return"small flex-end"}});b(()=>o.value.style===1?"距离开始仅剩":"距开始");const l=f([]),A=[{grouponPromotionItemId:0,productId:0,groupNum:2,sort:1,productName:"PP折叠盆",productSn:"",picThumb:"https://oss.tigshop.com/img/gallery/202510/1761024185GjoiVoxyZCFBgz02sj.jpeg?x-oss-process=image/resize,m_pad,h_200,h_200",productPrice:"15.80",minGroupPrice:"8.8",maxGroupPrice:"12.8",minGroupNum:2,maxGroupNum:5,minLimitNum:10,maxLimitNum:12},{grouponPromotionItemId:0,productId:0,groupNum:2,sort:1,productName:"曲奇饼饼",productSn:"",picThumb:"https://oss.tigshop.com/img/gallery/202510/17605171914YIcsTf34FQjP0qq3r.jpeg?x-oss-process=image/resize,m_pad,h_200,h_200",productPrice:"30.00",minGroupPrice:"18.8",maxGroupPrice:"26.8",minGroupNum:3,maxGroupNum:8,minLimitNum:10,maxLimitNum:12,productBrief:""},{grouponPromotionItemId:0,productId:0,groupNum:2,sort:1,productName:"脚踏车",productSn:"",picThumb:"https://oss.tigshop.com/img/gallery/202508/1755141476MeZ9q6HfncgkfbysBG.jpeg?x-oss-process=image/resize,m_pad,h_200,h_200",productPrice:"30.00",minGroupPrice:"15.8",maxGroupPrice:"22.8",minGroupNum:2,maxGroupNum:6,minLimitNum:10,maxLimitNum:12,productBrief:""},{grouponPromotionItemId:0,productId:0,groupNum:2,sort:1,productName:"传统阿胶糕1000g东阿原产即食胶原蛋白阿胶片营养品",productSn:"",picThumb:"https://oss.tigshop.com/img/item/demo/1682046308g5LOOn4OKbSHNNn7kT!!pic200x200.jpeg",productPrice:"93.00",minGroupPrice:"48.00",maxGroupPrice:"68.8",minGroupNum:4,maxGroupNum:10,minLimitNum:10,maxLimitNum:12,productBrief:""}],N=t=>{if(l.value<t){let a=0;for(let u=l.value.length;u<t;u++)l.value.push(A[a]),a++}},k=async()=>{let t={grouponPromotionId:0,page:1,size:1};if(o.value.style<5?t.size=Number(o.value.style):o.value.style===5&&(t.size=1),!o.value.grouponActivityItem||!o.value.grouponActivityItem.grouponPromotionId){l.value.length=0,N(t.size);return}t.grouponPromotionId=o.value.grouponActivityItem.grouponPromotionId;try{const a=await H(t);l.value=a.records,N(t.size)}catch(a){console.error(a)}};Q(()=>{k()});const V=t=>{t.target.src=O};return U(()=>{k()}),(t,a)=>{var u,p,g,_,v,y,B,I,w;return s(),i("div",{class:j("module-ad-con module-goods_ad module-seckill-goods_ad ad-style__"+((u=o.value)==null?void 0:u.style)+" ad-buyBtnStyle__"+((p=o.value)==null?void 0:p.buyBtnStyle)+" ad-goods_style__"+((g=o.value)==null?void 0:g.goodsStyle)+" ad-goods_radio_style__"+((_=o.value)==null?void 0:_.goodsRadioStyle)+" ad-text_align__"+((v=o.value)==null?void 0:v.textAlign)+" ad-text_weight__"+((y=o.value)==null?void 0:y.textWeight)+" ad-goods_name_row__"+((B=o.value)==null?void 0:B.goodsNameRow)+" ad-goods_name_padding__"+((I=o.value)==null?void 0:I.goodsNamePadding)),style:P(m.value.boxPadding+m.value.boxPaddingTop+m.value.boxPaddingBottom)},[e("div",{class:"module-ad-content",style:P(m.value.backgroundColor+" "+m.value.boxRadius+d.value.backgroundColor+d.value.boxPadding+d.value.boxPaddingBottom+d.value.boxPaddingTop+d.value.boxRadius+d.value.innerPadding)},[(w=c(x))!=null&&w.showTitle?(s(),Y(c(W),{key:0,modelValue:c(x),"onUpdate:modelValue":a[0]||(a[0]=n=>J(x)?x.value=n:null)},null,8,["modelValue"])):r("",!0),e("div",to,[e("div",ao,[(s(!0),i(X,null,oo(l.value,n=>{var G,S,T;return s(),i("div",{class:"goods-ad-item",key:n.grouponPromotionId},[e("div",{class:"item-content",style:P(d.value.goodsPadding)},[e("div",so,[e("div",io,[e("a",ro,[e("img",{onError:V,src:c($)(n.picThumb),alt:""},null,40,no)]),o.value.style<3||o.value.style===5?(s(),i("div",{key:0,class:j("cap-seckill-goods__tag "+R.value)},[((G=o.value)==null?void 0:G.style)===1?(s(),i("span",uo," 拼团 ")):r("",!0)],2)):r("",!0)]),e("div",lo,[e("div",co,[e("div",null,[o.value.style<3||o.value.style===5?(s(),i("span",mo,[e("span",po,h(n.minGroupNum)+"人团",1)])):r("",!0),(S=o.value)!=null&&S.showName?(s(),i("a",go,h(n.productName),1)):r("",!0)])]),(o.value.style===1||o.value.style===5)&&n.productBrief?(s(),i("div",_o,[e("div",vo,h(n.productBrief),1)])):r("",!0),(T=o.value)!=null&&T.showPrice?(s(),i("div",yo,[e("div",ho,[e("b",xo,h(c(L)(n.minGroupPrice)),1),e("b",bo,h(c(L)(n.productPrice)),1)]),e("div",fo,[e("a",Po,[o.value.buyBtnStyle===5||o.value.buyBtnStyle===6?(s(),i("span",No,"购买")):r("",!0),o.value.buyBtnStyle===7||o.value.buyBtnStyle===8?(s(),i("span",ko,"马上抢")):r("",!0),o.value.buyBtnStyle===1?(s(),i("span",Bo)):r("",!0),o.value.buyBtnStyle===2?(s(),i("span",Io)):r("",!0),o.value.buyBtnStyle===3?(s(),i("span",wo)):r("",!0),o.value.buyBtnStyle===4?(s(),i("span",Go)):r("",!0)])])])):r("",!0),a[1]||(a[1]=e("div",{class:"blank",style:{height:"10px"}},null,-1))])])],4)])}),128))]),a[2]||(a[2]=e("div",{class:"swiper-pagination-con"},[e("div",{class:"swiper-pagination"})],-1))])],4)],6)}}}),$o=eo(So,[["__scopeId","data-v-942f5d22"]]);export{$o as default};

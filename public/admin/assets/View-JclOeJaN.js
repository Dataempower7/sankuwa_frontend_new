import{d as E,d5 as z,ar as A,r as f,c as P,w as D,g as s,h as o,i as t,l as i,k as N,j as m,bq as U,m as W,F as C,p as T,ah as x,t as v,n as q,_ as K}from"./index-B52YIGC0.js";import{i as V,p as R}from"./format-BxqOrW-w.js";import{a as G}from"./product-hE35r0Q_.js";import{m as H,g as J,j as Q,h as X,b as Y}from"./index-DLTpLwVu.js";import{_ as Z}from"./Swiper.vue_vue_type_script_setup_true_lang-CPeenrjH.js";import ee from"./View-DKvEAP06.js";/* empty css                                                             *//* empty css                                                             */import"./lodash-DLXBIuYo.js";const te={key:0,class:"module-ad-empty empty-image_ad"},ae={class:"goods-ad-warp",style:{}},oe={class:"goods-ad-con"},se={class:"item-con"},ie={class:"item-photo"},de={href:"",title:"",class:"item-image-a"},le=["src"],ne={class:"item-info"},re={class:"item-name"},ue={key:0,href:"",title:"",class:"item-name-a"},ce={key:1,href:"",title:"",class:"item-brief"},pe={key:0,class:"item-action"},me={class:"item-price"},_e={class:"price_format"},ge={class:"item-con"},ve={class:"item-photo"},ye={href:"",title:"",class:"item-image-a"},he=["src"],be={class:"item-info"},fe={class:"item-name"},xe={key:0,href:"",title:"",class:"item-name-a"},Pe={key:1,href:"",title:"",class:"item-brief"},we={key:0,class:"item-action"},ke={class:"item-price"},Be={class:"price_format"},Se={class:"item-buy"},Ne={href:"javascript:;",class:"buy-btn lyecs-buyBtn"},Ce={key:0},Te={key:1},Ve={key:2,class:"iconfont-h5 icon-gouwuche iconh5-style"},Re={key:3,class:"iconfont-h5 icon-gouwuche1 iconh5-style"},$e={key:4,class:"iconfont-h5 icon-jia iconh5-style"},Fe={key:5,class:"iconfont-h5 icon-jia1 iconh5-style"},Me=E({__name:"View",props:{module:{},moduleModifiers:{}},emits:["update:module"],setup($){z(l=>({f41db83c:I.value}));const e=A($,"module"),F=f({style:1,goodsStyle:1,goodsRadioStyle:1,textAlign:1,textWeight:1,goodsNameRow:2,goodsNamePadding:1,showName:1,showBrief:1,showPrice:1,goodsPadding:5,buyBtnStyle:1,backgroundColor:"",boxRadius:0,innerPadding:0,boxPadding:10,boxPaddingTop:5,boxPaddingBottom:5,imgPadding:1,waterfall:0,swiperPageColor:"",frame:Y,title:X,products:Q});H(e.value,F.value);const{frame:M,title:h}=e.value,_=f(),y=P(()=>J(M??{})),r=P(()=>{var l,a,u,c,d,n,g,p;return{backgroundColor:`background-color: ${(l=e==null?void 0:e.value)==null?void 0:l.backgroundColor};`,boxPadding:`margin-left: ${(a=e==null?void 0:e.value)==null?void 0:a.boxPadding}px;margin-right: ${(u=e==null?void 0:e.value)==null?void 0:u.boxPadding}px;`,boxPaddingBottom:`margin-bottom: ${(c=e==null?void 0:e.value)==null?void 0:c.boxPaddingBottom}px;`,boxPaddingTop:`margin-top: ${(d=e==null?void 0:e.value)==null?void 0:d.boxPaddingTop}px;`,boxRadius:`border-radius: ${(n=e==null?void 0:e.value)==null?void 0:n.boxRadius}px;`,innerPadding:`padding: ${(g=e==null?void 0:e.value)==null?void 0:g.innerPadding}px;`,goodsPadding:`padding: ${(p=e==null?void 0:e.value)==null?void 0:p.goodsPadding}px;`}}),j={1:["productIds"],2:["productCategoryId","productNumber"],3:["productTag","productNumber"]},w={productIds:"ids",productCategoryId:"categoryId",productNumber:"size",productTag:"introType"},k=async()=>{let l={};if(typeof e.value.products=="object"&&e.value.products.productSelectType){const a=e.value.products.productSelectType,u=j[a];a===1?l[w[u[0]]]=e.value.products.productIds.join(","):(l.page=1,u.forEach(c=>{l[w[c]]=e.value.products[c]}))}try{const a=await G({productStatus:1,checkStatus:1,...l});_.value=a.records,b.value=[],L()}catch{}finally{}};k();const I=P(()=>e.value.swiperPageColor||"#333"),b=f([]),L=()=>{if(e.value.style===7&&_.value){let l=Math.ceil(_.value.length/3);for(let a=0;a<l;a++)b.value.push(_.value.slice(a*3,(a+1)*3))}};D(()=>{k()});const O=f({autoplay:{delay:3e3,disableOnInteraction:!1,pauseOnMouseEnter:!0},pagination:{clickable:!0}});return(l,a)=>{var u,c;return o(),s("div",{class:q("module-ad-con module-goods_ad ad-style__"+e.value.style+" ad-buy_btn_style__"+e.value.buyBtnStyle+" ad-goods_style__"+e.value.goodsStyle+" ad-goods_radio_style__"+e.value.goodsRadioStyle+" ad-text_align__"+e.value.textAlign+" ad-text_weight__"+e.value.textWeight+" ad-goods_name_row__"+e.value.goodsNameRow+" ad-goods_name_padding__"+e.value.goodsNamePadding+" ad-goods-title_style__"+((u=e.value.title)==null?void 0:u.titleStyle)),style:x(y.value.boxPadding+y.value.boxPaddingTop+y.value.boxPaddingBottom)},[t("div",{class:"module-ad-content",style:x(y.value.backgroundColor+" "+y.value.boxRadius+r.value.backgroundColor+r.value.boxPadding+r.value.boxPaddingBottom+r.value.boxPaddingTop+r.value.boxRadius+r.value.innerPadding)},[!_.value||_.value.length==0?(o(),s("div",te,[...a[2]||(a[2]=[t("div",{class:"image-empty-goods-bg"},null,-1),t("div",{class:"desc"},"点击添加商品",-1)])])):i("",!0),(c=m(h))!=null&&c.showTitle?(o(),N(m(ee),{key:1,modelValue:m(h),"onUpdate:modelValue":a[0]||(a[0]=d=>U(h)?h.value=d:null)},null,8,["modelValue"])):i("",!0),t("div",ae,[t("div",oe,[e.value.style===7?(o(),N(m(Z),{key:0,swiperOption:O.value,modelValue:b.value,"onUpdate:modelValue":a[1]||(a[1]=d=>b.value=d)},{default:W(({item:d})=>[(o(!0),s(C,null,T(d,(n,g)=>{var p,B,S;return o(),s("div",{class:"goods-ad-item",key:g},[t("div",{class:"item-content",style:x(r.value.goodsPadding)},[t("div",se,[t("div",ie,[t("a",de,[t("img",{src:m(V)(n.picThumb),alt:""},null,8,le)])]),t("div",ne,[t("div",re,[(p=e.value)!=null&&p.showName?(o(),s("a",ue,v(n.productName),1)):i("",!0),(B=e.value)!=null&&B.showBrief?(o(),s("a",ce,v("商品描述"))):i("",!0)]),(S=e.value)!=null&&S.showPrice?(o(),s("div",pe,[t("div",me,[t("b",_e,v(m(R)(Number(n.productPrice))),1)]),a[3]||(a[3]=t("div",{class:"item-buy"},null,-1))])):i("",!0)])])],4)])}),128))]),_:1},8,["swiperOption","modelValue"])):(o(!0),s(C,{key:1},T(_.value,d=>{var n,g,p;return o(),s("div",{class:"goods-ad-item",key:d.productId},[t("div",{class:"item-content",style:x(r.value.goodsPadding)},[t("div",ge,[t("div",ve,[t("a",ye,[t("img",{src:m(V)(d.picThumb),alt:""},null,8,he)])]),t("div",be,[t("div",fe,[(n=e.value)!=null&&n.showName?(o(),s("a",xe,v(d.productName),1)):i("",!0),(g=e.value)!=null&&g.showBrief?(o(),s("a",Pe,v("商品描述"))):i("",!0)]),(p=e.value)!=null&&p.showPrice?(o(),s("div",we,[t("div",ke,[t("b",Be,v(m(R)(Number(d.productPrice))),1)]),t("div",Se,[t("a",Ne,[e.value.buyBtnStyle===5||e.value.buyBtnStyle===6?(o(),s("span",Ce,"购买")):i("",!0),e.value.buyBtnStyle===7||e.value.buyBtnStyle===8?(o(),s("span",Te,"马上抢")):i("",!0),e.value.buyBtnStyle===1?(o(),s("span",Ve)):i("",!0),e.value.buyBtnStyle===2?(o(),s("span",Re)):i("",!0),e.value.buyBtnStyle===3?(o(),s("span",$e)):i("",!0),e.value.buyBtnStyle===4?(o(),s("span",Fe)):i("",!0)])])])):i("",!0)])])],4)])}),128))])])],4)],6)}}}),We=K(Me,[["__scopeId","data-v-05aacaab"]]);export{We as default};

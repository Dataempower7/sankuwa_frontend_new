import{i as U,p as B}from"./format-BxqOrW-w.js";import{m as W,g as G,h as H}from"./index-DLTpLwVu.js";import{g as J}from"./mobileSeckill-BvADbKMM.js";import{e as K}from"./empty-img-bg3-5lYgsyrX.js";import O from"./View-CcLxZXJW.js";import Q from"./View-DKvEAP06.js";import{d as X,ar as Y,r as S,c as n,g as c,h as l,i as e,k as Z,l as y,j as g,m as $,z as oo,F as N,t as d,bq as eo,ah as i,p as to,n as ao,_ as so}from"./index-B52YIGC0.js";/* empty css                                                             *//* empty css                                                             */import"./lodash-DLXBIuYo.js";const no={class:"countdown-box"},lo={class:"countdown-item"},io={class:"countdown-item"},ro={class:"countdown-item"},uo={class:"countdown-item"},co={class:"goods-ad-warp"},go={class:"item-con"},mo={class:"item-photo"},po=["src"],vo={class:"item-info"},_o={class:"item-name"},xo={key:0,href:"",title:"",class:"item-name-a"},yo={class:"tips"},fo={key:0,class:"item-action"},bo={key:0,class:"price-through"},ho=X({__name:"View",props:{module:{},moduleModifiers:{}},emits:["update:module"],setup(R){const o=Y(R,"module"),V=S({style:1,goodsNamePadding:1,showName:0,showPrice:1,goodsPadding:5,imageBackgroundColor:"",backgroundColor:"",boxRadius:0,innerPadding:0,boxPadding:10,boxPaddingTop:5,boxPaddingBottom:5,title:H});W(o.value,V.value);const{frame:D,title:f}=o.value,m=n(()=>G(D??{})),r=n(()=>{var a,t,u,p,v,_,x;return{backgroundColor:`background-color: ${(a=o==null?void 0:o.value)==null?void 0:a.backgroundColor};`,boxPadding:`margin-left: ${(t=o==null?void 0:o.value)==null?void 0:t.boxPadding}px;margin-right: ${(u=o==null?void 0:o.value)==null?void 0:u.boxPadding}px;`,boxPaddingBottom:`margin-bottom: ${(p=o==null?void 0:o.value)==null?void 0:p.boxPaddingBottom}px;`,boxPaddingTop:`margin-top: ${(v=o==null?void 0:o.value)==null?void 0:v.boxPaddingTop}px;`,boxRadius:`border-radius: ${(_=o==null?void 0:o.value)==null?void 0:_.boxRadius}px;`,innerPadding:`padding: ${(x=o==null?void 0:o.value)==null?void 0:x.innerPadding}px;`}}),F=n(()=>{var a;return`${o.value.style==10?"padding-left":"padding"}: ${(a=o==null?void 0:o.value)==null?void 0:a.goodsPadding}px;`}),M=n(()=>{let a="";return o.value.style==10&&(a+="display: flex; overflow: hidden;overflow-x: auto;flex-wrap: nowrap;"),a}),z=n(()=>o.value.style==10?`width: ${100/3}%;flex-shrink: 0;flex-grow: 0;`:0),E=n(()=>o.value.style==10?"font-size: 16px;font-weight: 400;line-height: 24px;color: #1a1a1a;display: block;height: 24px;margin-right: 8px;":""),I=n(()=>o.value.style==10?"display: flex;align-items: baseline;":""),L=(a,t)=>{if(t===0||a>=t)return 0;const u=(t-a)/t*100;return Math.floor(u*10)/10},j=n(()=>b.value[0]?new Date(b.value[0].seckkillData.seckillEndTime).getTime():0),b=S([]);(async()=>{try{const a=await J();b.value=a}catch(a){console.error(a)}})();const q=a=>{a.target.src=K};return(a,t)=>{var u,p,v,_,x,P,k,C,T;return l(),c("div",{class:ao("module-ad-con module-goods_ad module-seckill-goods_ad ad-style__"+((u=o.value)==null?void 0:u.style)+" ad-buyBtnStyle__"+((p=o.value)==null?void 0:p.buyBtnStyle)+" ad-goods_style__"+((v=o.value)==null?void 0:v.goodsStyle)+" ad-goods_radio_style__"+((_=o.value)==null?void 0:_.goodsRadioStyle)+" ad-text_align__"+((x=o.value)==null?void 0:x.textAlign)+" ad-text_weight__"+((P=o.value)==null?void 0:P.textWeight)+" ad-goods_name_row__"+((k=o.value)==null?void 0:k.goodsNameRow)+" ad-goods_name_padding__"+((C=o.value)==null?void 0:C.goodsNamePadding)),style:i(m.value.boxPadding+m.value.boxPaddingTop+m.value.boxPaddingBottom+r.value.backgroundColor)},[e("div",{class:"module-ad-content",style:i(m.value.backgroundColor+" "+m.value.boxRadius+r.value.backgroundColor+r.value.boxPadding+r.value.boxPaddingBottom+r.value.boxPaddingTop+r.value.boxRadius+r.value.innerPadding)},[(T=g(f))!=null&&T.showTitle?(l(),Z(g(Q),{key:0,modelValue:g(f),"onUpdate:modelValue":t[0]||(t[0]=s=>eo(f)?f.value=s:null)},{more:$(()=>[oo(g(O),{countdownType:"specifyTime",specifyTime:j.value},{default:$(({days:s,hours:h,minutes:w,seconds:A})=>[e("div",no,[t[2]||(t[2]=e("span",{class:"countdown-text"},"距结束",-1)),s&&Number(s)>0?(l(),c(N,{key:0},[e("span",lo,d(s),1),t[1]||(t[1]=e("span",{class:"countdown-separator"}," 天 ",-1))],64)):y("",!0),e("span",io,d(h),1),t[3]||(t[3]=e("span",{class:"countdown-separator"},":",-1)),e("span",ro,d(w),1),t[4]||(t[4]=e("span",{class:"countdown-separator"},":",-1)),e("span",uo,d(A),1),t[5]||(t[5]=e("i",{class:"iconfont-h5 icon-youjiantou"},null,-1))])]),_:1},8,["specifyTime"])]),_:1},8,["modelValue"])):y("",!0),e("div",co,[e("div",{class:"goods-ad-con",style:i(M.value)},[(l(!0),c(N,null,to(b.value,s=>{var h,w;return l(),c("div",{key:s.id,class:"goods-ad-item",style:i(z.value)},[e("div",{class:"item-content",style:i(F.value)},[e("div",go,[e("div",mo,[e("div",{class:"item-photo-bg",style:i({backgroundColor:o.value.imageBackgroundColor})},null,4),e("img",{onError:q,src:g(U)(s.picThumb),alt:""},null,40,po)]),e("div",vo,[e("div",_o,[(h=o.value)!=null&&h.showName?(l(),c("a",xo,d(s.productName),1)):y("",!0)]),e("div",yo,d(`优惠${L(s.productPrice,s.orgProductPrice)}%`),1),(w=o.value)!=null&&w.showPrice?(l(),c("div",fo,[e("div",{class:"item-price",style:i(I.value)},[e("span",{class:"price_format",style:i(E.value)},d(g(B)(s.productPrice)),5),o.value.style==10?(l(),c("span",bo,d(g(B)(s.orgProductPrice)),1)):y("",!0)],4)])):y("",!0)])])],4)],4)}),128))],4)])],4)],6)}}}),Do=so(ho,[["__scopeId","data-v-d6daf002"]]);export{Do as default};

/* empty css             */import{d as h,e as C}from"./mail-gJcKEEt7.js";import{d as S}from"./format-BxqOrW-w.js";import{d as V,u as T,r as i,ab as F,o as I,f as s,g as B,h as N,i as o,z as n,m as a,Q as u,ah as U,j as z,F as R,P as m,_ as X}from"./index-B52YIGC0.js";const j="/admin/assets/wxwork-BysXIoCV.png",E={class:"container"},L={class:"content_wrapper"},M={class:"extra"},O={class:"selected-action"},P=V({__name:"WxWork",emits:["submitCallback","update:confirmLoading","close"],setup(Q,{expose:d,emit:q}){const{themeInfo:f}=T(),r=i(!1),c=i(!0),_=F(),l=i({}),g=async()=>{try{const t=await h();Object.assign(l.value,S(t))}catch(t){m.error(t.message)}finally{c.value=!1}};I(()=>{g()});const p=async()=>{r.value=!0;try{const t=await C(l.value);m.success("修改成功")}catch(t){m.error(t.message)}finally{r.value=!1}};return d({onFormSubmit:()=>{p()}}),(t,e)=>{const v=s("TigInput"),w=s("el-popover"),k=s("el-form-item"),x=s("el-form"),y=s("a-spin"),b=s("el-button");return N(),B(R,null,[o("div",E,[o("div",L,[e[4]||(e[4]=o("div",{class:"title"},"企业微信通知设置",-1)),n(y,{spinning:c.value,style:{width:"100%","margin-top":"100px"}},{default:a(()=>[n(x,{ref_key:"formRef",ref:_,model:l.value,"label-width":"auto"},{default:a(()=>[n(k,{label:"企业微信群消息机器人",prop:"wxworkWebhookUrl"},{default:a(()=>[o("div",null,[n(v,{classType:"tig-form-input",modelValue:l.value.wxworkWebhookUrl,"onUpdate:modelValue":e[0]||(e[0]=W=>l.value.wxworkWebhookUrl=W)},null,8,["modelValue"]),o("div",M,[e[3]||(e[3]=u(" 可在“企业微信-创建机器人-机器人名片”页面获取。",-1)),n(w,{width:630,placement:"right",trigger:"click"},{reference:a(()=>[...e[1]||(e[1]=[o("a",null,"查看示例",-1)])]),default:a(()=>[...e[2]||(e[2]=[o("img",{src:j,style:{width:"600px"}},null,-1)])]),_:1})])])]),_:1})]),_:1},8,["model"])]),_:1},8,["spinning"])])]),o("div",{class:"selected-action-warp selected-warp-left",style:U({left:z(f).layout!=="topMenu"?"369px":"270px"})},[o("div",O,[n(b,{loading:r.value,class:"form-submit-btn",size:"large",type:"primary",onClick:p},{default:a(()=>[...e[5]||(e[5]=[u("提 交",-1)])]),_:1},8,["loading"])])],4)],64)}}}),K=X(P,[["__scopeId","data-v-02d5c060"]]);export{K as default};

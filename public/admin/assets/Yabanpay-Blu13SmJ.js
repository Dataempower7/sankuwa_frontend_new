/* empty css             */import"./index-KjhYqCTY.js";import{f as U,h as K}from"./payment-BrWLIX_t.js";import{d as W}from"./format-BxqOrW-w.js";import{d as T,u as I,ab as A,r as m,o as N,P as f,f as o,k as g,h as v,m as t,z as e,i as s,Q as d,g as z,F as D,p as E,t as F,j as Y,ah as L,_ as R}from"./index-B52YIGC0.js";import{_ as j}from"./DialogForm.vue_vue_type_script_setup_true_lang-CT6mpwCc.js";import"./index-C9ZdVeVx.js";const M={class:"content"},O={class:"flex flex-align-center",style:{gap:"10px"}},Q={class:"secret-txt line1",style:{"max-width":"380px"}},$={class:"selected-action"},q=T({__name:"Yabanpay",setup(G){const{themeInfo:x}=I(),S=A(),i=m(!1),l=m({useYabanpay:void 0,useYabanpayWechat:void 0,useYabanpayAlipay:void 0,yabanpayCurrency:"yabanpayCurrency_957f5c4b40ce",yabandpayUid:"yabandpayUid_59277ac5d616",yabandpaySecretKey:"yabandpaySecretKey_2f8cef5492f1"});N(async()=>{B()});const b=m(!0),B=async()=>{try{const r=await U();Object.assign(l.value,W(r))}catch(r){f.error(r.message)}finally{b.value=!1}},V=async()=>{i.value=!0;try{const r=await K({...l.value});f.success("修改成功")}catch(r){f.error(r.message)}finally{i.value=!1}};return(r,a)=>{const u=o("el-radio"),y=o("el-radio-group"),p=o("el-form-item"),_=o("el-option"),P=o("el-select"),C=o("TigInput"),c=o("el-button"),k=o("el-form"),w=o("a-spin");return v(),g(w,{spinning:b.value},{default:t(()=>[e(k,{ref_key:"formRef",ref:S,model:l.value,"label-width":"160px"},{default:t(()=>[s("div",M,[a[18]||(a[18]=s("div",{class:"title"},"YaBandPay设置",-1)),e(p,{label:"是否开启",prop:"useYabanpay"},{default:t(()=>[e(y,{modelValue:l.value.useYabanpay,"onUpdate:modelValue":a[0]||(a[0]=n=>l.value.useYabanpay=n),class:"itemWidth"},{default:t(()=>[e(u,{value:1},{default:t(()=>[...a[6]||(a[6]=[d("开启",-1)])]),_:1}),e(u,{value:0},{default:t(()=>[...a[7]||(a[7]=[d("关闭",-1)])]),_:1})]),_:1},8,["modelValue"]),a[8]||(a[8]=s("div",{class:"extra"},"是否开启YaBandPay支付，如关闭则不显示YaBandPay支付选项",-1))]),_:1}),e(p,{label:"微信开启",prop:"useYabanpayWechat"},{default:t(()=>[e(y,{modelValue:l.value.useYabanpayWechat,"onUpdate:modelValue":a[1]||(a[1]=n=>l.value.useYabanpayWechat=n),class:"itemWidth"},{default:t(()=>[e(u,{value:1},{default:t(()=>[...a[9]||(a[9]=[d("开启",-1)])]),_:1}),e(u,{value:0},{default:t(()=>[...a[10]||(a[10]=[d("关闭",-1)])]),_:1})]),_:1},8,["modelValue"]),a[11]||(a[11]=s("div",{class:"extra"},"是否开启YaBandPay微信支付，如关闭则不显示YaBandPay微信支付选项",-1))]),_:1}),e(p,{label:"支付宝开启",prop:"useYabanpayAlipay"},{default:t(()=>[e(y,{modelValue:l.value.useYabanpayAlipay,"onUpdate:modelValue":a[2]||(a[2]=n=>l.value.useYabanpayAlipay=n),class:"itemWidth"},{default:t(()=>[e(u,{value:1},{default:t(()=>[...a[12]||(a[12]=[d("开启",-1)])]),_:1}),e(u,{value:0},{default:t(()=>[...a[13]||(a[13]=[d("关闭",-1)])]),_:1})]),_:1},8,["modelValue"]),a[14]||(a[14]=s("div",{class:"extra"},"是否开启YaBandPay支付宝支付，如关闭则不显示YaBandPay支付宝支付选项",-1))]),_:1}),e(p,{label:"货币",prop:"yabanpayCurrency"},{default:t(()=>[e(P,{modelValue:l.value.yabanpayCurrency,"onUpdate:modelValue":a[3]||(a[3]=n=>l.value.yabanpayCurrency=n),style:{width:"450px"}},{default:t(()=>[e(_,{value:"0",label:"不选择"}),(v(!0),z(D,null,E(l.value.yabanpayCurrencyList,n=>(v(),g(_,{key:n.id,value:n.value,label:n.name},null,8,["value","label"]))),128))]),_:1},8,["modelValue"]),a[15]||(a[15]=s("div",{class:"extra"}," 如果选择了默认国家，则会员在选择地址时默认会显示该国家下的省份或地区，不再显示国家选择（修改设置对已经添加的会员地址不生效） ",-1))]),_:1}),e(p,{label:"YaBandPay UID",prop:"yabandpayUid"},{default:t(()=>[e(C,{classType:"tig-form-input",modelValue:l.value.yabandpayUid,"onUpdate:modelValue":a[4]||(a[4]=n=>l.value.yabandpayUid=n)},null,8,["modelValue"])]),_:1}),e(p,{label:"YaBandPay Secret Key",prop:"yabandpaySecretKey"},{default:t(()=>[s("div",null,[s("div",O,[s("div",Q,F(l.value.yabandpaySecretKey),1),e(Y(j),{maskClose:!1,isDrawer:!1,params:{title:"YaBandPay Secret Key",content:l.value.yabandpaySecretKey},path:"setting/config/src/EditSecret",title:"YaBandPay Secret Key",width:"600px",onOkCallback:a[5]||(a[5]=n=>l.value.yabandpaySecretKey=n)},{default:t(()=>[e(c,{style:{"margin-top":"3px"},link:"",type:"primary"},{default:t(()=>[...a[16]||(a[16]=[d(" 编辑 ",-1)])]),_:1})]),_:1},8,["params"])]),a[17]||(a[17]=s("div",{class:"extra"},"编辑完成后，点击下方提交按钮确认修改，请确保填写正确的YaBandPay Secret Key",-1))])]),_:1})])]),_:1},8,["model"]),a[20]||(a[20]=s("div",{style:{height:"20px"}},null,-1)),s("div",{class:"selected-action-warp selected-warp-left",style:L({left:Y(x).layout!=="topMenu"?"369px":"270px"})},[s("div",$,[e(c,{loading:i.value,class:"form-submit-btn",size:"large",type:"primary",onClick:V},{default:t(()=>[...a[19]||(a[19]=[d("提 交",-1)])]),_:1},8,["loading"])])],4)]),_:1},8,["spinning"])}}}),ta=R(q,[["__scopeId","data-v-66cd4a8d"]]);export{ta as default};

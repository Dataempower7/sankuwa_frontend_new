import S from"./BuyerInfo-CKIe2J3E.js";import{q as w}from"./buyShow-GI1gwX70.js";import{d as k,r as p,ab as C,f as n,g as N,h as c,k as x,l as B,m as l,z as a,P as d}from"./index-B52YIGC0.js";import"./UploadAvatar.vue_vue_type_style_index_0_scoped_3ec2e0ca_lang-BGZZHoO-.js";import"./index-KjhYqCTY.js";import"./index-C9ZdVeVx.js";import"./vuedraggable.umd-BauR0rTv.js";import"./Image.vue_vue_type_script_setup_true_lang-B8qXJKJq.js";import"./format-BxqOrW-w.js";import"./BusinessImg-B_fZOjqm.js";import"./currencyManagement-DNysi_dA.js";import"./DialogForm.vue_vue_type_script_setup_true_lang-CT6mpwCc.js";/* empty css                                                                    */const G=k({__name:"addComments",props:{id:{type:Number,default:0},act:{type:String,default:""}},emits:["submitCallback","update:confirmLoading","close"],setup(f,{expose:b,emit:y}){const s=f,_=p(!1),e=p({content:"",buyerName:"",buyerPhoto:""}),u=C(),r=y,g=async()=>{await u.value.validate();try{const o={buyerShowId:s.id,userName:e.value.buyerName,userPhoto:e.value.buyerPhoto,content:e.value.content};r("update:confirmLoading",!0);const t=await w(o);r("submitCallback",t),d.success("操作成功")}catch(o){d.error(o.message)}finally{r("update:confirmLoading",!1)}};return b({onFormSubmit:()=>{g()}}),(o,t)=>{const i=n("el-form-item"),v=n("TigInput"),h=n("el-form");return c(),N("div",null,[_.value?B("",!0):(c(),x(h,{key:0,ref_key:"formRef",ref:u,model:e.value,"label-width":"auto"},{default:l(()=>[a(i,{prop:"buyerName",label:"买家信息",rules:[{required:!0,message:"请选择买家信息!"}]},{default:l(()=>[a(S,{formState:e.value,"onUpdate:formState":t[0]||(t[0]=m=>e.value=m),act:s.act},null,8,["formState","act"])]),_:1}),a(i,{prop:"content",label:"文字内容",rules:[{required:!0,message:"请填写文字内容!"}]},{default:l(()=>[a(v,{classType:"tig-form-input",type:"textarea",placeholder:"请输入评价内容",modelValue:e.value.content,"onUpdate:modelValue":t[1]||(t[1]=m=>e.value.content=m),maxlength:"500","show-word-limit":""},null,8,["modelValue"])]),_:1})]),_:1},8,["model"]))])}}});export{G as default};

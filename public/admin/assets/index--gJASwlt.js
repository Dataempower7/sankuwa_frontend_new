import{d as D,u as H,r as y,a as j,b as J,c as A,w as de,o as q,e as oe,f as O,g as s,h as t,F as b,i as e,n as g,j as o,k as W,l,m as R,p as B,q as ee,t as $,s as Ce,_ as F,v as V,x as pe,y as xe,z as x,A as he,B as Te,C as ce,D as Le,E as Ie,G as ve,H as Me,I as Ee,J as ne,K as ze,L as se,M as Re,N as Ae,O as me,P as Ne,Q as te,T as De,R as fe,S as ge,U as Pe,V as We,W as Ve,X as Be,Y as Oe,Z as Ue}from"./index-B52YIGC0.js";import{u as ye,r as ue,i as Y}from"./format-BxqOrW-w.js";import{g as je}from"./adminMsg-BS0ZiVYJ.js";import{_ as Fe,g as He,c as Je,a as qe,b as Ge}from"./SelectShop.vue_vue_type_script_setup_true_lang-dSdobvPq.js";import"./index-KjhYqCTY.js";import{_ as Ke}from"./DialogForm.vue_vue_type_script_setup_true_lang-CT6mpwCc.js";import{_ as Xe}from"./merchant_logo-DuVmNXah.js";import"./index-C9ZdVeVx.js";const Qe={key:0,class:"main-menu-ul"},Ye=["href","onClick"],Ze={class:"nav-tit"},et={class:"child-tit"},tt=["onClick"],st={class:"menu-item-title"},ot={class:"nav-title"},nt={key:0,class:"menu-chider"},at={class:"menu-list"},it=["onClick"],lt={class:"nav-title"},rt=["target","onClick"],ct={class:"menu-item-title"},ut={class:"nav-title"},dt=D({__name:"pageLeftMenu",setup(P){const{themeInfo:a}=H(),d=y(localStorage.getItem("adminType")),u=j(),_=J(),c=j(),n=y([]);n.value=_.currentRoute.value.matched;const v=A(()=>c.routers?c.routers:[]),m=(w,h=0,S=!1,r=!0)=>{w.forEach(p=>{S==!0&&h==1?n.value[h]&&n.value[h].name===p.meta.authoritySn&&(p.meta.current=!0):p.meta.current=n.value[h]?n.value[h].name===p.meta.authoritySn:!1,p.children&&m(p.children,h+1,S,r)})},M=(w,h)=>w==="/"?`${w}${h}`:`${w}/${h}`,C=(w,h=!1,S)=>{let r=S?M(S.path,w.path):w.path;window.innerWidth<=756?h?(v.value.forEach(p=>{p.meta.current=!1}),w.meta.current=!0):(w.meta.blank?window.open(r,"_blank"):_.push(r),u.menuActive=!1):(h&&v.value.forEach(p=>{p.children&&p.children.length>0&&p.children.forEach(k=>{k.meta.current=!0})}),w.meta.blank?window.open(r,"_blank"):_.push(r),Ce(),u.childMenuShow=!0)};de(()=>{n.value=_.currentRoute.value.matched,m(v.value,0,!0,!1)});const L=y(window.innerWidth),f=()=>{L.value=window.innerWidth};return q(()=>{window.addEventListener("resize",f)}),oe(()=>{window.removeEventListener("resize",f)}),(w,h)=>{const S=O("el-scrollbar");return t(),s(b,null,[e("div",{class:g([{active:o(u).menuActive,"shop-admin":d.value==="shop",dark:o(a).navTheme==="dark"},"body-menu"])},[o(a).layout=="default"||L.value<900?(t(),W(S,{key:0,class:"main-menu"},{default:R(()=>[v.value?(t(),s("ul",Qe,[(t(!0),s(b,null,B(v.value,(r,p)=>(t(),s(b,{key:r.meta.authoritySn},[r.meta.isShow?(t(),s("li",{key:0,class:g("main-menu-item menu_"+r.meta.authoritySn+" "+(r.meta.current?"current":""))},[e("a",{href:"/"+r.path,class:"menu-tit",onClick:ee(k=>C(r,!0),["prevent"])},[e("i",{class:g(r.meta.authorityIco)},null,2),e("span",Ze,$(r.meta.authorityName),1)],8,Ye)],2)):l("",!0)],64))),128)),h[2]||(h[2]=e("li",{style:{height:"80px"}},null,-1))])):l("",!0)]),_:1})):l("",!0),e("div",{class:g("child-menu "+(o(u).childMenuShow?"child-menu-show":"child-menu-hide"))},[(t(!0),s(b,null,B(v.value,(r,p)=>(t(),s(b,{key:r.meta.authoritySn},[r.meta.current&&r.meta.isShow?(t(),W(S,{key:0,always:!0,class:"child_warp"},{default:R(()=>[e("div",et,$(r.meta.authorityName),1),e("ul",null,[(t(!0),s(b,null,B(r.children,(k,G)=>(t(),s(b,{key:k.meta.authoritySn},[k.children?(t(),s(b,{key:0},[k.meta.isShow?(t(),s("li",{key:0,class:g("menu-item "+(k.meta.current?"cur":""))},[e("a",{class:"menu-item-a",onClick:z=>k.meta.current=!k.meta.current},[e("div",st,[e("i",{class:g([k.meta.authorityIco,"tit-ico"])},null,2),e("span",ot,$(k.meta.authorityName),1)]),h[3]||(h[3]=e("i",{class:"nav-icon iconfont-admin icon-xjt"},null,-1))],8,tt),k.meta.current?(t(),s("div",nt,[e("ul",at,[(t(!0),s(b,null,B(k.children,(z,I)=>(t(),s(b,null,[z.meta.isShow?(t(),s("li",{key:0,class:g("menu-item menu-chider-item "+(z.meta.current?"current":""))},[e("a",{class:"",onClick:ee(i=>C(z,!1,r),["prevent"])},[e("span",lt,$(z.meta.authorityName),1)],8,it)],2)):l("",!0)],64))),256))])])):l("",!0)],2)):l("",!0)],64)):(t(),s(b,{key:1},[k.meta.isShow?(t(),s("li",{key:0,class:g("menu-item "+(n.value[1].name==`${k.meta.authoritySn}`?"current":""))},[e("a",{target:k.blank?"_blank":"",class:"menu-item-a",onClick:ee(z=>C(k),["prevent"])},[e("div",ct,[e("i",{class:g([k.meta.authorityIco,"tit-ico"])},null,2),e("span",ut,$(k.meta.authorityName),1)])],8,rt)],2)):l("",!0)],64))],64))),128)),h[4]||(h[4]=e("li",{style:{height:"80px"}},null,-1))])]),_:2},1024)):l("",!0)],64))),128)),l("",!0)],2)],2),e("div",{class:g([{active:o(u).menuActive},"body-menu-mask"]),onClick:h[1]||(h[1]=r=>o(u).menuActive=!o(u).menuActive)},null,2)],64)}}}),mt=F(dt,[["__scopeId","data-v-d1a3c7fa"]]),_t={class:"top-bar-right flex flex-align-center"},pt={key:0},ht={key:1,class:"admin_msg-order_count"},vt={key:2,class:"admin_msg-count"},gt={key:0},ft={key:1,class:"admin_msg-count"},yt=["href"],kt={key:0},$t={key:0,class:"admin-user-warp"},wt={key:0,class:"admin-user-photo"},St=["src"],bt=["src"],Ct={key:1,class:"admin-user-name"},xt={key:2,class:"admin-user-name"},Tt={key:1,class:"top-bar-btn"},Lt={class:"dropdown-memu top-bar-memu"},It={class:"entrance-list"},Mt={class:"dialog-box"},Et=D({__name:"MsgCount",setup(P){const{themeInfo:a}=H(),d=y(localStorage.getItem("adminType")),u=V();j();const{logout:_,updateUserInfo:c}=V(),n=A(()=>V().userInfo),v=A(()=>V().shopInfo);pe();const m=y(null),M=()=>{m.value&&(m.value={...m.value})},C=async()=>{try{const I=await He({startTime:localStorage.getItem("lastOpenTime")});m.value=I,u.messageCount=I.unreadMsgCount}catch(I){console.error("请求消息失败:",I)}},L=()=>{f()},f=()=>{const I=ve.headers(),i=localStorage.getItem("lastOpenTime")||"";fetch(`${ve.prefix}/msg/adminMsg/msgCount?startTime=${i}`,{headers:I}).then(N=>{var K;if(!N.ok)throw new Error(`HTTP error! status: ${N.status}`);const E=(K=N.body)==null?void 0:K.getReader(),U=new TextDecoder;function T(){E==null||E.read().then(({done:ae,value:Se})=>{if(ae){setTimeout(()=>L(),5e3);return}const _e=U.decode(Se);try{const Z=JSON.parse(_e);Z.code===0&&(m.value=Z.data,u.messageCount=Z.data.unreadMsgCount)}catch{_e.split(`
`).forEach(X=>{if(X.startsWith("data:"))try{const Q=X.substring(5).trim(),ie=Q.indexOf("{"),le=Q.lastIndexOf("}");if(ie!==-1&&le!==-1&&le>ie){const be=Q.substring(ie,le+1),re=JSON.parse(be);re.code===0&&(m.value=re.data,u.messageCount=re.data.unreadMsgCount)}else console.error("未能找到有效的JSON结构")}catch(Q){console.error("解析SSE消息失败:",Q),console.log("原始行数据:",X)}else X.trim()!==""&&console.log("收到其他类型的数据:",X)})}T()}).catch(ae=>{console.error("SSE读取错误:",ae),setTimeout(()=>L(),5e3)})}T()}).catch(N=>{console.error("SSE连接失败:",N),setTimeout(()=>L(),5e3)})},w=()=>{m.value&&(m.value.orderCount=0,m.value.imMsgCount=0,m.value.unreadMsgCount=0),u.messageCount=0,localStorage.setItem("lastOpenTime",String(Me().unix()))},h=async()=>{try{const I=await Je(),i=pe();c(),i.updateConfig(),Ee.success({message:"缓存已清除",description:"缓存清除后可刷新页面更新效果"})}catch{}},S=async()=>{_()},r=y(!1),p=()=>{r.value=!0},k=()=>{r.value=!1},G=y(window.innerWidth),z=()=>{G.value=window.innerWidth};return q(()=>{c(),C(),L(),window.addEventListener("resize",z)}),xe(()=>{}),oe(()=>{window.removeEventListener("resize",z)}),(I,i)=>{const N=O("router-link"),E=O("a-dropdown"),U=O("el-dialog");return t(),s(b,null,[e("div",_t,[e("div",{class:g(["top-bar-item top-admin_msg",o(a).layout]),onClick:w},[x(o(Ke),{"is-drawer":!1,path:"panel/adminMsg/AdminMsg",title:"消息中心",showFooter:!1,width:"1000px",bodyStyle:{padding:0},onCallback:M},{default:R(()=>{var T;return[e("a",{class:g(["top-bar-btn lyecs-dialogPage",o(a).navTheme])},[i[1]||(i[1]=e("i",{class:"iconfont-admin icon-tongzhi-L"},null,-1)),o(a).layout!=="topMenu"?(t(),s("span",pt,"消息")):l("",!0),((T=m.value)==null?void 0:T.orderCount)>0&&o(a).layout!=="topMenu"?(t(),s("span",ht,"新订单 "+$(m.value.orderCount),1)):l("",!0),o(u).messageCount>0?(t(),s("em",vt,$(o(u).messageCount),1)):l("",!0)],2)]}),_:1})],2),(o(he)()||o(Te)())&&d.value!=="vendor"?(t(),s("div",{key:0,class:g(["top-bar-item top-admin_msg",o(a).layout])},[x(N,{to:{path:"/im/index"},target:"_blank"},{default:R(()=>{var T;return[e("p",{class:g(["top-bar-btn",o(a).navTheme])},[i[2]||(i[2]=e("i",{class:"iconfont-admin icon-xiaoxi"},null,-1)),o(a).layout!=="topMenu"?(t(),s("span",gt,"客服")):l("",!0),((T=m.value)==null?void 0:T.imMsgCount)>0?(t(),s("em",ft,$(m.value.imMsgCount),1)):l("",!0)],2)]}),_:1})],2)):l("",!0),e("div",{class:g(["top-bar-item",o(a).layout])},[e("a",{class:g(["top-bar-btn",o(a).navTheme]),href:o(ye)("/"),target:"_blank"},[i[3]||(i[3]=e("i",{class:"iconfont icon-guanli"},null,-1)),o(a).layout!=="topMenu"?(t(),s("span",kt,"查看门店")):l("",!0)],10,yt)],2),e("div",{class:g(["top-bar-item top-bar-user",o(a).layout]),id:"dropdown-memu"},[x(E,{trigger:["click"]},{overlay:R(()=>[e("div",Lt,[e("div",It,[o(he)()||o(Le)()||o(Ie)()?(t(),s("p",{key:0,class:"entrance lyecs-openPage",onClick:p},[...i[6]||(i[6]=[e("i",{class:"iconfont-tig icon-shanghu"},null,-1),e("span",null,"切换组织",-1)])])):l("",!0),x(N,{to:{path:d.value=="shop"||d.value=="vendor"?"/setting/account-editing/index":"/authority/account-editing/index"}},{default:R(()=>[...i[7]||(i[7]=[e("p",{class:"entrance lyecs-openPage"},[e("i",{class:"iconfont-tig icon-guanlizhanghao"}),e("span",null,"管理账号")],-1)])]),_:1},8,["to"]),e("p",{class:"entrance",onClick:h},[...i[8]||(i[8]=[e("i",{class:"iconfont-tig icon-qingchuhuancun"},null,-1),e("span",null,"清除缓存",-1)])]),e("p",{class:"entrance",onClick:S},[...i[9]||(i[9]=[e("i",{class:"iconfont-tig icon-tuichudenglu"},null,-1),e("span",null,"退出登录",-1)])])])])]),default:R(()=>[n.value.username?(t(),s("div",$t,[G.value>=900?(t(),s("a",{key:0,class:g(["top-bar-btn",o(a).navTheme])},[d.value!=="shop"?(t(),s("span",wt,[o(ce)(String(n.value.avatar))=="def"?(t(),s("img",{key:0,src:o(ue)(n.value.avatar)},null,8,St)):(t(),s("img",{key:1,src:o(Y)(n.value.avatar)},null,8,bt))])):l("",!0),o(a).layout!=="topMenu"?(t(),s("div",Ct,$(/^1[3-9]\d{9}$/.test(n.value.username)?n.value.username.replace(/(\d{3})\d{4}/,"$1****"):n.value.username),1)):l("",!0),d.value=="shop"?(t(),s("div",xt,$(v.value.shopTitle),1)):l("",!0),i[4]||(i[4]=e("i",{class:"iconfont icon-xiala"},null,-1))],2)):(t(),s("a",Tt,[...i[5]||(i[5]=[e("i",{class:"iconfont icon-xiala"},null,-1)])]))])):l("",!0)]),_:1})],2)]),e("div",Mt,[x(U,{"z-index":12,modelValue:r.value,"onUpdate:modelValue":i[0]||(i[0]=T=>r.value=T)},{default:R(()=>[r.value?(t(),W(Fe,{key:0,onClosePopup:k,isIndex:!0,username:n.value.username},null,8,["username"])):l("",!0)]),_:1},8,["modelValue"])])],64)}}}),ke=F(Et,[["__scopeId","data-v-0b37669f"]]),$e="/admin/assets/logo_white-RvMnD8dm.png",zt={key:0,class:"auth-img"},Rt=["src"],we=D({__name:"Licensed",setup(P){const a=j(),d=y(localStorage.getItem("adminType")),u=ne();return u._getLicensed(),(_,c)=>{const n=O("router-link");return o(a).isLicensed&&o(u).licensedData.license?(t(),s("div",zt,[d.value!=="shop"?(t(),W(n,{key:0,to:{path:"/setting/licensed/index"}},{default:R(()=>[e("img",{src:o(ze)(),style:{height:"25px","margin-top":"2px"}},null,8,Rt)]),_:1})):l("",!0)])):l("",!0)}}}),At={class:"top-bar-left"},Nt={key:0,class:"logo-box"},Dt=["src"],Pt=["src"],Wt={class:"top-bar-item wap-show",style:{display:"none"}},Vt=["href"],Bt={key:0,class:"shop-tit"},Ot={key:0,class:"label"},Ut={key:1,class:"label green"},jt={key:1},Ft={class:"top-bar-item top-bar-search-warp"},Ht={class:"top-bar-search"},Jt={class:"search-menu-con"},qt={class:"search-menu-list"},Gt=["onClick"],Kt={key:0,class:"empty"},Xt={class:"top-bar-right"},Qt={class:"top-bar-item mr10"},Yt=D({__name:"pageTopBar",setup(P){const{themeInfo:a}=H(),d=y(localStorage.getItem("adminType")),u=J(),_=JSON.parse(localStorage.getItem("routers")||"[]"),c=ne(),n=c.licensedData,v=j(),m=A(()=>(n==null?void 0:n.adminLightLogo)!=null),M=A(()=>n!==null&&!(n!=null&&n.adminLightLogo)),C=y(""),L=y([]),f=y(!1),w=async I=>{try{const i=await je({keyword:C.value});L.value=i,C.value&&(f.value=!0)}catch(i){Ne.error(i.message)}},h=(I,i=[])=>{const N=i.length>0?i:_;let E;for(let U=0;U<N.length;U++){const T=N[U];if(T.name===I){T.children&&T.children.length>0?E=T.children[0].name:E=T.name;break}else if(T.children&&T.children.length>0){const K=h(I,T.children);if(K){E=K;break}}}return E},S=I=>{f.value=!1,C.value="",L.value=[],u.push({name:h(I)})},r=()=>{C.value==""&&(f.value=!1)},p=()=>{f.value=!1},{logout:k,updateUserInfo:G}=V();A(()=>V().userInfo);const z=A(()=>V().shopInfo);return A(()=>V().vendorInfo),y(0),y(!1),q(()=>{c._getLicensed()}),(I,i)=>{const N=O("TigInput");return t(),s("div",{class:g(["page-top",{"shop-admin":d.value==="merchant"}])},[e("div",{class:g(["page-top-warp",{dark:o(a).navTheme==="dark"}])},[e("div",At,[e("div",{class:g(["main-menu-logo",{light:o(a).navTheme==="light"}])},[o(n)&&o(n).adminLightLogo&&o(n).adminLightLogo!==null?(t(),s("div",Nt,[m.value?(t(),s("img",{src:o(Y)(o(n).adminLightLogo),key:"admin-logo"},null,8,Dt)):l("",!0),M.value?(t(),s("img",{src:o($e),key:"default-logo"},null,8,Pt)):l("",!0)])):l("",!0)],2),e("div",{class:"top-bar-item wap-show",onClick:i[0]||(i[0]=E=>o(v).menuActive=!o(v).menuActive)},[...i[2]||(i[2]=[e("span",{class:"open-menu-btn icon-zhankai iconfont"},null,-1)])]),i[4]||(i[4]=e("div",{class:"top-bar-item wap-show"},[e("a",{class:"wap-refresh-btn icon-shuaxin iconfont",href:"javascript:;",onclick:"location.reload();"})],-1)),e("div",Wt,[e("a",{class:"wap-openShop-btn icon-wangdianwaibao iconfont",href:o(ye)("/"),target:"_blank"},null,8,Vt)]),d.value==="shop"?(t(),s("div",Bt,[e("h2",null,"当前店铺: "+$(z.value.shopTitle),1),z.value.status===0?(t(),s("div",Ot,$(z.value.statusText),1)):(t(),s("div",Ut,$(z.value.statusText),1))])):se((t(),s("div",jt,[e("div",Ft,[e("div",Ht,[x(N,{modelValue:C.value,"onUpdate:modelValue":i[1]||(i[1]=E=>C.value=E),style:{width:"300px"},placeholder:"在这里查找功能，一键直达","prefix-icon":o(Ae),onInput:w,onBlur:r},null,8,["modelValue","prefix-icon"])])]),se(e("div",Jt,[i[3]||(i[3]=e("div",{class:"search-menu-title"},"搜索结果",-1)),e("div",qt,[(t(!0),s(b,null,B(L.value,E=>(t(),s("div",{class:"menu-item",onClick:U=>S(E.authoritySn)},[e("p",null,$(E.authorityNames.join(" / ")),1)],8,Gt))),256)),L.value.length<1?(t(),s("div",Kt,"没有搜索到栏目！")):l("",!0)])],512),[[me,f.value]])])),[[o(Re),p]])]),e("div",Xt,[e("div",Qt,[x(we)]),x(ke)])],2)],2)}}}),Zt=F(Yt,[["__scopeId","data-v-efb7f62e"]]),es={class:"responsive-top-menu"},ts=["onClick"],ss={class:"dropdown-menu"},os={class:"dropdown-box"},ns=["onClick"],as=D({__name:"topMenu",setup(P){const{themeInfo:a}=H(),d=J(),u=j(),_=y(!1),c=y(window.innerWidth),n={MD:768,LG:1024,XL:1280},v=A(()=>c.value>=n.XL?12:c.value>=n.LG?8:c.value>=n.MD?5:c.value>=n.MD?3:1),m=A(()=>u.routers||[]),M=A(()=>m.value.filter(r=>r.meta.isShow).slice(0,v.value)),C=A(()=>m.value.filter(r=>r.meta.isShow).slice(v.value)),L=S=>d.currentRoute.value.matched[0].name===S.name,f=S=>{d.push(S.path)},w=S=>{f(S),_.value=!1},h=()=>{c.value=window.innerWidth};return q(()=>{window.addEventListener("resize",h)}),oe(()=>{window.removeEventListener("resize",h)}),(S,r)=>(t(),s("div",es,[(t(!0),s(b,null,B(M.value,(p,k)=>(t(),s("div",{key:`menu-${p.meta.authoritySn}`,class:g(["menu-item",[o(a).navTheme,{current:L(p)}]]),onClick:G=>f(p)},$(p.meta.authorityName),11,ts))),128)),C.value.length>0?(t(),s("div",{key:0,class:"more-container",onMouseenter:r[0]||(r[0]=p=>_.value=!0),onMouseleave:r[1]||(r[1]=p=>_.value=!1)},[e("div",{class:g(["menu-item",o(a).navTheme])},[...r[2]||(r[2]=[te(" 更多 ",-1),e("i",{class:"iconfont-admin icon-sanjiaoxing"},null,-1)])],2),x(De,{name:"fade"},{default:R(()=>[se(e("div",ss,[e("div",os,[(t(!0),s(b,null,B(C.value,p=>(t(),s("div",{key:`hidden-${p.meta.authoritySn}`,class:g(["dropdown-item",{current:L(p)}]),onClick:k=>w(p)},$(p.meta.authorityName),11,ns))),128))])],512),[[me,_.value]])]),_:1})],32)):l("",!0)]))}}),is=F(as,[["__scopeId","data-v-de47835e"]]),ls={class:"top-bar-left flex flex-align-center"},rs={key:0,class:"info-bar"},cs={key:0,class:"head_logo"},us=["src"],ds=["src"],ms={class:"flex flex-align-center"},_s=["src"],ps=["src"],hs={key:1,class:"logo_img",src:Xe},vs={class:"shop-tit line1"},gs={class:"flex flex-align-center"},fs=["src"],ys=["src"],ks={key:1,class:"logo_img",src:qe},$s={class:"shop-tit line1"},ws={class:"top-bar-right"},Ss={class:"top-bar-item mr10"},bs=D({__name:"pageTopMenu",setup(P){const a=y(!1),d=j(),{themeInfo:u}=H(),_=y(localStorage.getItem("adminType")),c=A(()=>V().shopInfo),n=A(()=>V().vendorInfo),v=ne(),m=v.licensedData,M=y(window.innerWidth),C=()=>{M.value=window.innerWidth};return q(()=>{v._getLicensed(),window.addEventListener("resize",C),setTimeout(()=>{a.value=!0},100)}),oe(()=>{window.removeEventListener("resize",C)}),(L,f)=>(t(),s("div",{class:g(["page-top",{"shop-admin":_.value==="merchant"}])},[e("div",{class:g(["page-top-warp",{dark:o(u).navTheme==="dark"}])},[e("div",ls,[M.value>=900?(t(),s("div",rs,[_.value==="admin"&&a.value?(t(),s("div",cs,[o(m).adminLightLogo&&o(m).adminLightLogo!==null?(t(),s("img",{key:0,class:"logo_img",src:o(Y)(o(m).adminLightLogo)},null,8,us)):(t(),s("img",{key:1,class:"logo_img",src:o($e)},null,8,ds))])):l("",!0),_.value==="shop"?(t(),s("div",{key:1,class:"head_shop_logo",onClick:f[0]||(f[0]=w=>L.$router.push("/setting"))},[e("div",ms,[c.value.shopLogo?(t(),s(b,{key:0},[o(ce)(String(c.value.shopLogo))=="def"?(t(),s("img",{key:0,class:"logo_img",src:o(ue)(c.value.shopLogo)},null,8,_s)):(t(),s("img",{key:1,class:"logo_img",src:o(Y)(c.value.shopLogo)},null,8,ps))],64)):(t(),s("img",hs)),e("div",vs,$(c.value.shopTitle),1)]),f[3]||(f[3]=e("i",{class:"iconfont-admin icon-image_hotarea"},null,-1))])):l("",!0),_.value==="vendor"?(t(),s("div",{key:2,class:"head_shop_logo",onClick:f[1]||(f[1]=w=>L.$router.push("/setting"))},[e("div",gs,[n.value.vendorLogo?(t(),s(b,{key:0},[o(ce)(String(n.value.vendorLogo))=="def"?(t(),s("img",{key:0,class:"logo_img",src:o(ue)(n.value.vendorLogo)},null,8,fs)):(t(),s("img",{key:1,class:"logo_img",src:o(Y)(n.value.vendorLogo)},null,8,ys))],64)):(t(),s("img",ks)),e("div",$s,$(n.value.vendorName),1)]),f[4]||(f[4]=e("i",{class:"iconfont-admin icon-image_hotarea"},null,-1))])):l("",!0)])):(t(),s("div",{key:1,class:"top-bar-item wap-show",onClick:f[2]||(f[2]=w=>o(d).menuActive=!o(d).menuActive)},[...f[5]||(f[5]=[e("span",{class:"open-menu-btn iconfont icon-zhankai"},null,-1)])])),M.value>=900?(t(),W(is,{key:2})):l("",!0)]),e("div",ws,[e("div",Ss,[x(we)]),x(ke)])],2)],2))}}),Cs=F(bs,[["__scopeId","data-v-8f61cada"]]),xs={class:"header-title-warp"},Ts={class:"breadcrumb"},Ls={class:"breadcrumb-span"},Is={key:0,class:"breadcrumb-separator"},Ms={class:"page-header-heading"},Es={class:"page-header-heading-left"},zs={key:0,class:"page-header-heading-title"},Rs=D({__name:"pageHeader",setup(P){const a=fe(),d=J(),u=y(""),_=y([]),c=["overviewManage"],n=y("");return _.value=d.currentRoute.value.matched,de(()=>{u.value=a.getHeaderTitle,_.value=d.currentRoute.value.matched,n.value=d.currentRoute.value.name||""}),(v,m)=>(t(),s("div",xs,[e("div",Ts,[e("ul",null,[(t(!0),s(b,null,B(_.value,(M,C)=>(t(),s("li",{key:M.path},[e("span",Ls,$(o(ge)(M.meta.title)),1),C<_.value.length-1?(t(),s("span",Is,"/")):l("",!0)]))),128))])]),e("div",Ms,[e("div",Es,[c.includes(n.value)?l("",!0):(t(),s("span",zs,$(o(ge)(u.value)),1))])])]))}}),As={class:"footer"},Ns={key:0},Ds=D({__name:"pageFooter",setup(P){const a=ne();return(d,u)=>(t(),s("div",As,[e("span",null,$(o(a).licensedData.shopCompany==1?o(a).licensedData.defaultCopyright:o(a).licensedData.shopCompanyTxt),1),o(a).licensedData.versionInfoHidden==0?(t(),s("span",Ns,$(o(a).licensedData.versionType)+" "+$(o(a).licensedData.version),1)):l("",!0)]))}}),Ps={class:"page-tips-wrapper"},Ws={class:"tips-list"},Vs={key:0,class:"tips-item"},Bs={class:"info flex flex-align-center"},Os={class:"icon mr10"},Us={key:0,class:"tips-content"},js={key:1,class:"tips-content"},Fs=["onClick"],Hs=D({__name:"pageTips",setup(P){const a=J(),d=y([]);(async()=>{try{const c=await Ge({url:window.location.href});d.value=c}catch{}finally{}})();const _=c=>{a.push({path:c})};return(c,n)=>{const v=O("el-icon");return t(),s("div",Ps,[e("div",Ws,[(t(!0),s(b,null,B(d.value,m=>(t(),s(b,null,[m.status?(t(),s("div",Vs,[e("div",Bs,[e("div",Os,[x(v,{size:"18",color:"#ed6a18"},{default:R(()=>[x(o(Pe))]),_:1})]),m.code=="passwordTooSimple"?(t(),s("div",Us,[n[1]||(n[1]=te(" 您的密码强度不足，可能存在安全风险，建议立即修改。 ",-1)),e("a",{onClick:n[0]||(n[0]=M=>_("/authority/account-editing/index"))},"点击修改")])):l("",!0),m.code=="domainBind"?(t(),s("div",js,[...n[2]||(n[2]=[te(" 您当前使用的是默认后台路径，存在暴露风险，为保证系统安全，强烈建议绑定后台域名，请阅读 ",-1),e("a",{href:"https://www.tigshop.com/course/tigshop/657501281266631138",target:"_blank"}," 《绑定后台域名教程》 ",-1),te(" 后进行绑定。 ",-1)])])):l("",!0)]),e("div",{class:"btn",onClick:ee(M=>m.status=!1,["stop"])},[x(v,{size:"18"},{default:R(()=>[x(o(We))]),_:1})],8,Fs)])):l("",!0)],64))),256))])])}}}),Js=F(Hs,[["__scopeId","data-v-e7b35283"]]),qs={class:"page-grid-content"},Gs={class:"core-container"},Ks=D({__name:"pageContainer",setup(P){const a=J(),d=y(a.currentRoute.value.fullPath),u=fe(),_=j();return de(()=>{d.value=a.currentRoute.value.fullPath}),(c,n)=>{const v=O("router-view");return t(),s(b,null,[n[0]||(n[0]=e("div",{class:"body-menu-mask"},null,-1)),e("div",{class:g(["main-warp",[o(_).childMenuShow?"child-menu-show":"child-menu-hide"]])},[e("div",qs,[c.$route.meta.is404?l("",!0):(t(),W(Rs,{key:0})),se(x(Js,null,null,512),[[me,d.value==="/"&&o(Ve)()==="admin"]]),e("div",Gs,[(t(),W(v,{key:o(u).routerKey}))]),c.$route.meta.is404?l("",!0):(t(),W(Ds,{key:1}))])],2)],64)}}}),Xs=F(Ks,[["__scopeId","data-v-a5ce2560"]]),Qs={class:"layout-basic"},Ys={class:"layout-top"},Zs={class:"layout-main"},eo={class:"layout-left-menu"},to={class:"layout-container"},so=D({__name:"View",setup(P){const a=H();a.getThemeInfo();const d=a.themeInfo,u=y(),_=Be();return q(()=>{var c;(c=u.value)==null||c.scrollTo(0,0)}),Oe(_,(c,n)=>{var v;(v=u.value)==null||v.scrollTo(0,0)}),(c,n)=>{const v=O("router-view");return t(),s("div",Qs,[e("div",Ys,[o(d).layout=="topMenu"?(t(),W(Cs,{key:0})):l("",!0),o(d).layout=="default"?(t(),W(Zt,{key:1})):l("",!0)]),e("div",Zs,[e("div",eo,[x(mt)]),e("div",to,[x(o(Ue),{ref_key:"ScrollBar",ref:u,class:"layout-content-warp"},{default:R(()=>[x(Xs,null,{default:R(()=>[x(v)]),_:1})]),_:1},512)])])])}}}),oo=F(so,[["__scopeId","data-v-0310c42a"]]),po=D({__name:"index",setup(P){return(a,d)=>(t(),W(oo))}});export{po as default};

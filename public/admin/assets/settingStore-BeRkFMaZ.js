/* empty css             */import{a6 as P,d as _,u as N,X as A,x as I,ab as B,r as f,o as G,P as S,f as i,g as O,h as b,z as t,i as s,m as l,k as R,l as z,Q as r,ah as F,j,F as E,_ as M}from"./index-B52YIGC0.js";import{d as q}from"./format-BxqOrW-w.js";const D=()=>P({url:"setting/config/storeSettings",method:"get"}),J=g=>P({url:"setting/config/saveStore",method:"post",data:g}),L="/admin/assets/storeCustomSubmitShippingType-DBvwuJby.png",Q={class:"content_wrapper"},W={class:"extra"},X={class:"selected-action"},H=_({__name:"settingStore",setup(g){const{themeInfo:V}=N();A();const y=I(),c=B(),v=f(!1),o=f({storePostAllocationStatus:void 0,storeIndependentGoods:void 0,storeAssignProductName:void 0,storeAssignProductPrice:void 0,shopProductNeedCheck:void 0,storeUseTotalProductStock:void 0,storeCustomSubmitShippingType:void 0,storeShowOtherCityStore:void 0,storeUseSoloProductStock:void 0});G(async()=>{await x()});const k=f(!0),x=async()=>{try{const n=await D();Object.assign(o.value,q(n))}catch(n){S.error(n.message)}finally{k.value=!1}},C=async()=>{v.value=!0;try{const n=await J(o.value);S.success("修改成功"),y.updateConfig()}catch(n){S.error(n.message)}finally{v.value=!1}};return(n,e)=>{const u=i("el-radio"),m=i("el-radio-group"),d=i("el-form-item"),p=i("el-checkbox"),U=i("el-popover"),w=i("el-form"),T=i("el-button");return b(),O(E,null,[t(w,{ref_key:"formRef",ref:c,model:o.value,"label-width":"auto",style:{display:"flex",gap:"12px","flex-direction":"column"}},{default:l(()=>[s("div",Q,[t(d,{label:"商品分配后状态",prop:"storePostAllocationStatus"},{default:l(()=>[s("div",null,[t(m,{modelValue:o.value.storePostAllocationStatus,"onUpdate:modelValue":e[0]||(e[0]=a=>o.value.storePostAllocationStatus=a)},{default:l(()=>[t(u,{value:1},{default:l(()=>[...e[9]||(e[9]=[r("上架",-1)])]),_:1}),t(u,{value:0},{default:l(()=>[...e[10]||(e[10]=[r("下架",-1)])]),_:1})]),_:1},8,["modelValue"]),e[11]||(e[11]=s("div",{class:"extra"},"在将商品分配到组织时，可预设分配成功后商品在组织的上下架状态。",-1))])]),_:1}),t(d,{label:"门店独立商品",prop:"storeIndependentGoods"},{default:l(()=>[s("div",null,[t(p,{modelValue:o.value.storeIndependentGoods,"onUpdate:modelValue":e[1]||(e[1]=a=>o.value.storeIndependentGoods=a),label:"允许门店自建商品","true-label":1,"false-label":0},null,8,["modelValue"]),e[12]||(e[12]=s("div",{class:"extra"},"门店不可自行创建商品，若已存在自建商品，则将失效。",-1))])]),_:1}),o.value.storeIndependentGoods==1?(b(),R(d,{key:0,label:"门店商品审核",prop:"shopProductNeedCheck"},{default:l(()=>[s("div",null,[t(p,{modelValue:o.value.shopProductNeedCheck,"onUpdate:modelValue":e[2]||(e[2]=a=>o.value.shopProductNeedCheck=a),label:"商品默认审核通过","true-label":0,"false-label":1},null,8,["modelValue"]),e[13]||(e[13]=s("div",{class:"extra"},"门店发布商品的时候是否需要审核才能显示商品",-1))])]),_:1})):z("",!0),t(d,{label:"分配商品名称",prop:"storeAssignProductName"},{default:l(()=>[s("div",null,[t(p,{modelValue:o.value.storeAssignProductName,"onUpdate:modelValue":e[3]||(e[3]=a=>o.value.storeAssignProductName=a),label:"门店可修改商品名称","true-label":1,"false-label":0},null,8,["modelValue"]),e[14]||(e[14]=s("div",{class:"extra"}," 勾选后，门店可修改总部/区域分配商品的名称，总部/区域编辑名称后则不同步至门店。若不勾选，总部/区域修改名称后将自动同步至门店。 ",-1))])]),_:1}),t(d,{label:"分配商品价格",prop:"storeAssignProductPrice"},{default:l(()=>[s("div",null,[t(m,{modelValue:o.value.storeAssignProductPrice,"onUpdate:modelValue":e[4]||(e[4]=a=>o.value.storeAssignProductPrice=a)},{default:l(()=>[t(u,{value:0},{default:l(()=>[...e[15]||(e[15]=[r("使用总部/区域统一售价",-1)])]),_:1}),t(u,{value:1},{default:l(()=>[...e[16]||(e[16]=[r("使用门店独立售价",-1)])]),_:1})]),_:1},8,["modelValue"]),e[17]||(e[17]=s("div",{class:"extra"},"用统一售价时，门店商品销售价将取总部/区域设置的统一售价，门店不可修改。",-1))])]),_:1}),t(d,{label:"库存模式",prop:"storeUseTotalProductStock"},{default:l(()=>[t(p,{modelValue:o.value.storeUseSoloProductStock,"onUpdate:modelValue":e[5]||(e[5]=a=>o.value.storeUseSoloProductStock=a),disabled:o.value.storeUseSoloProductStock===1&&o.value.storeUseTotalProductStock===0,label:"使用门店独立库存","true-label":1,"false-label":0},null,8,["modelValue","disabled"]),t(p,{modelValue:o.value.storeUseTotalProductStock,"onUpdate:modelValue":e[6]||(e[6]=a=>o.value.storeUseTotalProductStock=a),disabled:o.value.storeUseTotalProductStock===1&&o.value.storeUseSoloProductStock===0,label:"使用平台库存","true-label":1,"false-label":0},null,8,["modelValue","disabled"])]),_:1}),t(d,{label:"客户下单配送方式",prop:"storeCustomSubmitShippingType"},{default:l(()=>[s("div",null,[t(m,{modelValue:o.value.storeCustomSubmitShippingType,"onUpdate:modelValue":e[7]||(e[7]=a=>o.value.storeCustomSubmitShippingType=a)},{default:l(()=>[t(u,{value:0},{default:l(()=>[...e[18]||(e[18]=[r("自提优先",-1)])]),_:1}),t(u,{value:1},{default:l(()=>[...e[19]||(e[19]=[r("配送优先",-1)])]),_:1}),t(u,{value:2},{default:l(()=>[...e[20]||(e[20]=[r("同城优先",-1)])]),_:1})]),_:1},8,["modelValue"]),s("div",W,[e[23]||(e[23]=r(" 商品存在多种配送方式时，客户下单，默认配送方式为您勾选的方式，客户可在订单提交页面手动修改配送方式。",-1)),t(U,{width:400,placement:"right-end",trigger:"click"},{reference:l(()=>[...e[21]||(e[21]=[s("a",null,"查看示例",-1)])]),default:l(()=>[...e[22]||(e[22]=[s("img",{src:L,style:{width:"380px"}},null,-1)])]),_:1})])])]),_:1}),t(d,{label:"显示地区其他门店",prop:"storeShowOtherCityStore"},{default:l(()=>[s("div",null,[t(m,{modelValue:o.value.storeShowOtherCityStore,"onUpdate:modelValue":e[8]||(e[8]=a=>o.value.storeShowOtherCityStore=a),class:"itemWidth"},{default:l(()=>[t(u,{value:1},{default:l(()=>[...e[24]||(e[24]=[r("显示",-1)])]),_:1}),t(u,{value:0},{default:l(()=>[...e[25]||(e[25]=[r("不显示",-1)])]),_:1})]),_:1},8,["modelValue"])])]),_:1})])]),_:1},8,["model"]),e[27]||(e[27]=s("div",{style:{height:"20px"}},null,-1)),s("div",{class:"selected-action-warp selected-warp-left",style:F({left:j(V).layout!=="topMenu"?"369px":"270px"})},[s("div",X,[t(T,{loading:v.value,class:"form-submit-btn",size:"large",type:"primary",onClick:C},{default:l(()=>[...e[26]||(e[26]=[r("提 交 ",-1)])]),_:1},8,["loading"])])],4)],64)}}}),$=M(H,[["__scopeId","data-v-c2fcea47"]]);export{$ as default};

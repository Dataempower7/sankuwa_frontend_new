import{a4 as t,_ as s,C as e,F as o,cq as i,c as a,a as r,b as n,w as l,e as h,i as p,I as d,Z as u,aB as c,aY as m,d as b,a5 as g,a8 as k,n as f,h as y,t as w,j as C}from"./index-BZxHr1FI.js";import{_ as S}from"./uni-transition.COpRW9Ft.js";const x=s=>t({url:"buyerShow/buyerShow/like",method:"post",data:s}),T=s=>t({url:"buyerShow/buyerShow/comment",method:"post",data:s}),P=s=>t({url:"buyerShow/buyerShow/comment/like",method:"post",data:s}),_=s=>t({url:"buyerShow/buyerShow/add",method:"post",data:s}),R=s=>t({url:"buyerShow/buyerShow/list",method:"get",params:s}),v=s=>t({url:"buyerShow/buyerShow/detail",method:"get",params:s}),A=s=>t({url:"buyerShow/buyerShow/comment/pageList",method:"get",params:s}),B=s=>t({url:"product/product/getHistoryProduct",method:"get",params:s}),E=s=>t({url:"buyerShow/buyerShow/groupList",method:"get",params:s});const D=s({name:"uniPopup",components:{keypress:{name:"Keypress",props:{disable:{type:Boolean,default:!1}},mounted(){const t={esc:["Esc","Escape"],tab:"Tab",enter:"Enter",space:[" ","Spacebar"],up:["Up","ArrowUp"],left:["Left","ArrowLeft"],right:["Right","ArrowRight"],down:["Down","ArrowDown"],delete:["Backspace","Delete","Del"]};document.addEventListener("keyup",s=>{if(this.disable)return;const e=Object.keys(t).find(e=>{const o=s.key,i=t[e];return i===o||Array.isArray(i)&&i.includes(o)});e&&setTimeout(()=>{this.$emit(e,{})},0)})},render:()=>{}}},emits:["change","maskClick"],props:{animation:{type:Boolean,default:!0},type:{type:String,default:"center"},isMaskClick:{type:Boolean,default:null},maskClick:{type:Boolean,default:null},backgroundColor:{type:String,default:"none"},safeArea:{type:Boolean,default:!0},maskBackgroundColor:{type:String,default:"rgba(0, 0, 0, 0.4)"},borderRadius:{type:String}},watch:{type:{handler:function(t){this.config[t]&&this[this.config[t]](!0)},immediate:!0},isDesktop:{handler:function(t){this.config[t]&&this[this.config[this.type]](!0)},immediate:!0},maskClick:{handler:function(t){this.mkclick=t},immediate:!0},isMaskClick:{handler:function(t){this.mkclick=t},immediate:!0},showPopup(t){document.getElementsByTagName("body")[0].style.overflow=t?"hidden":"visible"}},data(){return{duration:300,ani:[],showPopup:!1,showTrans:!1,popupWidth:0,popupHeight:0,config:{top:"top",bottom:"bottom",center:"center",left:"left",right:"right",message:"top",dialog:"center",share:"bottom"},maskClass:{position:"fixed",bottom:0,top:0,left:0,right:0,backgroundColor:"rgba(0, 0, 0, 0.4)"},transClass:{backgroundColor:"transparent",borderRadius:this.borderRadius||"0",position:"fixed",left:0,right:0},maskShow:!0,mkclick:!0,popupstyle:"top"}},computed:{getStyles(){let t={backgroundColor:this.bg};return this.borderRadius,t=Object.assign(t,{borderRadius:this.borderRadius}),t},isDesktop(){return this.popupWidth>=500&&this.popupHeight>=500},bg(){return""===this.backgroundColor||"none"===this.backgroundColor?"transparent":this.backgroundColor}},mounted(){(()=>{const{windowWidth:t,windowHeight:s,windowTop:e,safeArea:o,screenHeight:i,safeAreaInsets:a}=m();this.popupWidth=t,this.popupHeight=s+(e||0),o&&this.safeArea?this.safeAreaInsets=a.bottom:this.safeAreaInsets=0})()},unmounted(){this.setH5Visible()},activated(){this.setH5Visible(!this.showPopup)},deactivated(){this.setH5Visible(!0)},created(){null===this.isMaskClick&&null===this.maskClick?this.mkclick=!0:this.mkclick=null!==this.isMaskClick?this.isMaskClick:this.maskClick,this.animation?this.duration=300:this.duration=0,this.messageChild=null,this.clearPropagation=!1,this.maskClass.backgroundColor=this.maskBackgroundColor},methods:{setH5Visible(t=!0){document.getElementsByTagName("body")[0].style.overflow=t?"visible":"hidden"},closeMask(){this.maskShow=!1},disableMask(){this.mkclick=!1},clear(t){t.stopPropagation(),this.clearPropagation=!0},open(t){if(this.showPopup)return;t&&-1!==["top","center","bottom","left","right","message","dialog","share"].indexOf(t)||(t=this.type),this.config[t]?(this[this.config[t]](),this.$emit("change",{show:!0,type:t})):console.error("缺少类型：",t)},close(t){this.showTrans=!1,this.$emit("change",{show:!1,type:this.type}),clearTimeout(this.timer),this.timer=setTimeout(()=>{this.showPopup=!1},300)},touchstart(){this.clearPropagation=!1},onTap(){this.clearPropagation?this.clearPropagation=!1:(this.$emit("maskClick"),this.mkclick&&this.close())},top(t){this.popupstyle=this.isDesktop?"fixforpc-top":"top",this.ani=["slide-top"],this.transClass={position:"fixed",left:0,right:0,backgroundColor:this.bg,borderRadius:this.borderRadius||"0"},t||(this.showPopup=!0,this.showTrans=!0,this.$nextTick(()=>{this.showPoptrans(),this.messageChild&&"message"===this.type&&this.messageChild.timerClose()}))},bottom(t){this.popupstyle="bottom",this.ani=["slide-bottom"],this.transClass={position:"fixed",left:0,right:0,bottom:0,paddingBottom:this.safeAreaInsets+"px",backgroundColor:this.bg,borderRadius:this.borderRadius||"0"},t||this.showPoptrans()},center(t){this.popupstyle="center",this.ani=["zoom-out","fade"],this.transClass={position:"fixed",display:"flex",flexDirection:"column",bottom:0,left:0,right:0,top:0,justifyContent:"center",alignItems:"center",borderRadius:this.borderRadius||"0"},t||this.showPoptrans()},left(t){this.popupstyle="left",this.ani=["slide-left"],this.transClass={position:"fixed",left:0,bottom:0,top:0,backgroundColor:this.bg,borderRadius:this.borderRadius||"0",display:"flex",flexDirection:"column"},t||this.showPoptrans()},right(t){this.popupstyle="right",this.ani=["slide-right"],this.transClass={position:"fixed",bottom:0,right:0,top:0,backgroundColor:this.bg,borderRadius:this.borderRadius||"0",display:"flex",flexDirection:"column"},t||this.showPoptrans()},showPoptrans(){this.$nextTick(()=>{this.showPopup=!0,this.showTrans=!0})}}},[["render",function(t,s,m,b,g,k){const f=e(o("uni-transition"),S),y=p,w=i("keypress");return g.showPopup?(n(),a(y,{key:0,class:u(["uni-popup",[g.popupstyle,k.isDesktop?"fixforpc-z-index":""]])},{default:l(()=>[h(y,{onTouchstart:k.touchstart},{default:l(()=>[g.maskShow?(n(),a(f,{key:"1",name:"mask","mode-class":"fade",styles:g.maskClass,duration:g.duration,show:g.showTrans,onClick:k.onTap},null,8,["styles","duration","show","onClick"])):r("",!0),h(f,{key:"2","mode-class":g.ani,name:"content",styles:g.transClass,duration:g.duration,show:g.showTrans,onClick:k.onTap},{default:l(()=>[h(y,{class:u(["uni-popup__wrapper",[g.popupstyle]]),style:d(k.getStyles),onClick:k.clear},{default:l(()=>[c(t.$slots,"default",{},void 0,!0)]),_:3},8,["style","class","onClick"])]),_:3},8,["mode-class","styles","duration","show","onClick"])]),_:3},8,["onTouchstart"]),g.maskShow?(n(),a(w,{key:0,onEsc:k.onTap},null,8,["onEsc"])):r("",!0)]),_:3},8,["class"])):r("",!0)}],["__scopeId","data-v-c96125a2"]]),H=s(b({__name:"buyerShowCloseTip",props:{buyerShowEnabled:{type:Number,default:1},buyerShowEnabledModifiers:{}},emits:["update:buyerShowEnabled"],setup(t){const s=g(t,"buyerShowEnabled"),i=k();return f(()=>{1!==s.value&&setTimeout(()=>{var t;null==(t=i.value)||t.open()},100)}),(t,s)=>{const r=p,d=e(o("uni-popup"),D);return n(),a(d,{ref_key:"popupRef",ref:i,type:"center",animation:!1,"mask-click":!1},{default:l(()=>[h(r,{class:"popupBox"},{default:l(()=>[h(r,{class:"title"},{default:l(()=>[y("提醒")]),_:1}),h(r,{class:"tip"},{default:l(()=>[y("买家秀功能已暂停使用，您仍可通过商品评价功能查看真实反馈")]),_:1}),h(r,{class:"btn",onClick:s[0]||(s[0]=t=>{C({url:"/pages/index/index"})})},{default:l(()=>[y(w(t.$t("返回首页")),1)]),_:1})]),_:1})]),_:1},512)}}}),[["__scopeId","data-v-bae2ec0b"]]);export{R as a,x as b,E as c,H as d,A as e,P as f,B as g,v as h,T as i,_ as j};

import{d as a,K as e,r as l,W as t,l as s,q as i,c as u,w as r,aa as c,ab as d,B as n,E as o,o as g,a as _,i as p,g as m,I as f,J as v,O as y,X as b,h as k,f as h,t as x,a4 as w,n as T,_ as z}from"./index-DDAlCzEE.js";import{_ as j}from"./tig-image.CxOKkXKh.js";import{_ as I}from"./empty-box.vue_vue_type_script_setup_true_lang.D8uK6kJt.js";import{_ as V}from"./loading-box.wxL4cJqH.js";import{_ as $}from"./tig-layout.Dp_86RM-.js";import{a as B}from"./article.DSZyy0iV.js";const C=z(a({__name:"list",props:{id:{type:String||Number,default:""}},setup(a){const{t:z}=e(),C=l("文章中心"),M=a,N=l("bzgg"),S=l(!1),q=l(!1),E=l(0),J=t({page:1,categorySn:M.id,size:10}),K=l([]),L=async()=>{J.page>1?q.value=!0:(c({title:z("加载中")}),S.value=!0);try{const a=await B({...J});E.value=a.total,K.value=[...K.value,...a.records]}catch(a){console.error(a.message)}finally{S.value=!1,q.value=!1,d()}};return s(a=>{a&&a.id&&(N.value=a.id,C.value="zxzx"===a.id?"最新资讯":"bzgg"===a.id?"最新公告":"kfzx"===a.id?"客服中心":"",L())}),i(()=>{J.page<Math.ceil(E.value/Number(J.size))&&(J.page++,L())}),(a,e)=>{const l=k,t=p,s=n(o("tig-image"),j),i=w,c=n(o("empty-box"),I),d=n(o("loading-box"),V),z=n(o("tig-layout"),$);return g(),u(z,{title:C.value},{default:r(()=>[S.value?_("",!0):(g(),u(t,{key:0,class:"article-center"},{default:r(()=>[m(t,{class:"news-list"},{default:r(()=>[K.value.length?(g(!0),f(v,{key:0},y(K.value,e=>(g(),u(t,{key:e.articleId,class:"news-item"},{default:r(()=>[m(t,{class:"pic-desc",onClick:a=>{return l=`/pages/article/news/detail?id=${e.articleId}`,void T({url:l});var l}},{default:r(()=>[m(t,{class:b(["news-left",{"w-100":!e.articleThumb}])},{default:r(()=>[m(t,{class:"pd-title",title:e.articleTitle},{default:r(()=>[e.articleTag?(g(),u(l,{key:0,class:"yin_agn"},{default:r(()=>[h(x(a.$t("新闻资讯")),1)]),_:1})):_("",!0),m(l,null,{default:r(()=>[h(x(e.articleTitle),1)]),_:2},1024)]),_:2},1032,["title"]),e.description?(g(),u(t,{key:0,class:"pd-det"},{default:r(()=>[h(x(e.description),1)]),_:2},1024)):_("",!0)]),_:2},1032,["class"]),e.articleThumb?(g(),u(t,{key:0,class:"news-right"},{default:r(()=>[m(s,{src:e.articleThumb,alt:e.articleTitle},null,8,["src","alt"])]),_:2},1024)):_("",!0)]),_:2},1032,["onClick"]),m(t,{class:"info-btn"},{default:r(()=>[e.addTime?(g(),u(t,{key:0,class:"evaluate"},{default:r(()=>[m(l,{class:"time"},{default:r(()=>[h(x(e.addTime),1)]),_:2},1024)]),_:2},1024)):_("",!0),e.link?(g(),u(i,{key:1,class:"red-btn",target:"_blank",url:e.link,"hover-class":"navigator-hover","open-type":"navigate"},{default:r(()=>[m(l,null,{default:r(()=>[h(x(a.$t("相关链接")),1)]),_:1})]),_:2},1032,["url"])):_("",!0)]),_:2},1024)]),_:2},1024))),128)):(g(),u(c,{key:1,mode:"news",text:"暂无文章"})),m(d,{modelValue:q.value,"onUpdate:modelValue":e[0]||(e[0]=a=>q.value=a),page:J.page,length:K.value.length},null,8,["modelValue","page","length"])]),_:1})]),_:1}))]),_:1},8,["title"])}}}),[["__scopeId","data-v-ca3f2cc1"]]);export{C as default};

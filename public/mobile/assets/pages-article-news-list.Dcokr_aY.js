import{d as a,L as e,r as l,Y as t,n as s,s as i,c as u,w as r,ac as c,ad as d,C as n,F as o,b as g,a as p,i as _,e as m,J as f,K as v,P as y,Z as k,k as b,h,t as x,a6 as T,X as w,_ as z}from"./index-BZxHr1FI.js";import{_ as j}from"./tig-image.CzXKqALH.js";import{_ as C}from"./empty-box.vue_vue_type_script_setup_true_lang.DDT9sx90.js";import{_ as I}from"./loading-box.D3Y7A2lC.js";import{T as V}from"./tig-layout.DTz8E-sj.js";import{a as $}from"./article.Dd5K-6JS.js";const K=z(a({__name:"list",props:{id:{type:String||Number,default:""}},setup(a){const{t:z}=e(),K=l("文章中心"),N=a,S=l("bzgg"),X=l(!1),Y=l(!1),F=l(0),G=t({page:1,categorySn:N.id,size:10}),J=l([]),L=async()=>{G.page>1?Y.value=!0:(c({title:z("加载中")}),X.value=!0);try{const a=await $({...G});F.value=a.total,J.value=[...J.value,...a.records]}catch(a){console.error(a.message)}finally{X.value=!1,Y.value=!1,d()}};return s(a=>{a&&a.id&&(S.value=a.id,K.value="zxzx"===a.id?"最新资讯":"bzgg"===a.id?"最新公告":"kfzx"===a.id?"客服中心":"",L())}),i(()=>{G.page<Math.ceil(F.value/Number(G.size))&&(G.page++,L())}),(a,e)=>{const l=b,t=_,s=n(o("tig-image"),j),i=T,c=n(o("empty-box"),C),d=n(o("loading-box"),I),z=n(o("tig-layout"),V);return g(),u(z,{title:K.value},{default:r(()=>[X.value?p("",!0):(g(),u(t,{key:0,class:"article-center"},{default:r(()=>[m(t,{class:"news-list"},{default:r(()=>[J.value.length?(g(!0),f(v,{key:0},y(J.value,e=>(g(),u(t,{key:e.articleId,class:"news-item"},{default:r(()=>[m(t,{class:"pic-desc",onClick:a=>{return l=`/pages/article/news/detail?id=${e.articleId}`,void w({url:l});var l}},{default:r(()=>[m(t,{class:k(["news-left",{"w-100":!e.articleThumb}])},{default:r(()=>[m(t,{class:"pd-title",title:e.articleTitle},{default:r(()=>[e.articleTag?(g(),u(l,{key:0,class:"yin_agn"},{default:r(()=>[h(x(a.$t("新闻资讯")),1)]),_:1})):p("",!0),m(l,null,{default:r(()=>[h(x(e.articleTitle),1)]),_:2},1024)]),_:2},1032,["title"]),e.description?(g(),u(t,{key:0,class:"pd-det"},{default:r(()=>[h(x(e.description),1)]),_:2},1024)):p("",!0)]),_:2},1032,["class"]),e.articleThumb?(g(),u(t,{key:0,class:"news-right"},{default:r(()=>[m(s,{src:e.articleThumb,alt:e.articleTitle},null,8,["src","alt"])]),_:2},1024)):p("",!0)]),_:2},1032,["onClick"]),m(t,{class:"info-btn"},{default:r(()=>[e.addTime?(g(),u(t,{key:0,class:"evaluate"},{default:r(()=>[m(l,{class:"time"},{default:r(()=>[h(x(e.addTime),1)]),_:2},1024)]),_:2},1024)):p("",!0),e.link?(g(),u(i,{key:1,class:"red-btn",target:"_blank",url:e.link,"hover-class":"navigator-hover","open-type":"navigate"},{default:r(()=>[m(l,null,{default:r(()=>[h(x(a.$t("相关链接")),1)]),_:1})]),_:2},1032,["url"])):p("",!0)]),_:2},1024)]),_:2},1024))),128)):(g(),u(c,{key:1,mode:"news",text:"暂无文章"})),m(d,{modelValue:Y.value,"onUpdate:modelValue":e[0]||(e[0]=a=>Y.value=a),page:G.page,length:J.value.length},null,8,["modelValue","page","length"])]),_:1})]),_:1}))]),_:1},8,["title"])}}}),[["__scopeId","data-v-ca3f2cc1"]]);export{K as default};

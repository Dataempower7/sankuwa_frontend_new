import{d as a,r as s,n as e,M as c,c as l,w as u,i as t,C as o,bH as n,F as r,b as h,e as i,a as d,h as p,t as v,O as _,k as f,J as m,K as y,P as S,Q as b,as as k,au as x,S as C,_ as H}from"./index-BZxHr1FI.js";const g=H(a({__name:"search",setup(a){const H=s(""),g=()=>{H.value?(w.value.unshift(H.value),w.value=[...new Set(w.value)],w.value.length>10&&w.value.splice(10,w.value.length-10),b("couponSearchHistory",w.value),k({success:()=>{x("coupon-search-return",H.value)}})):k({success:()=>{x("coupon-search-return","")}})},w=s([]);e(a=>{c("couponSearchHistory")&&(w.value=c("couponSearchHistory"))});const V=()=>{w.value=[],C("couponSearchHistory")};return(a,s)=>{const e=o(r("up-search"),n),c=f,b=t;return h(),l(b,{class:"coupon-search"},{default:u(()=>[i(e,{modelValue:H.value,"onUpdate:modelValue":s[0]||(s[0]=a=>H.value=a),shape:"square","action-text":a.$t("取消"),onSearch:g,onCustom:g},null,8,["modelValue","action-text"]),w.value.length?(h(),l(b,{key:0,class:"search_init_box"},{default:u(()=>[i(b,{class:"search_history_box"},{default:u(()=>[i(b,{class:"title"},{default:u(()=>[p(v(a.$t("搜索历史"))+" ",1),i(b,{class:"clear_history",onClick:_(V,["stop"])},{default:u(()=>[i(c,{class:"iconfont-h5 icon-shanchu"})]),_:1})]),_:1}),i(b,{class:"list acea-row"},{default:u(()=>[(h(!0),m(y,null,S(w.value,(a,s)=>(h(),l(b,{key:s,class:"item",onClick:s=>(a=>{k({success:()=>{x("coupon-search-return",a)}})})(a)},{default:u(()=>[p(v(a),1)]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1})]),_:1})):d("",!0)]),_:1})}}}),[["__scopeId","data-v-a9bb9de0"]]);export{g as default};

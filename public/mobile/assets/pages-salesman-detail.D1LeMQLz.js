import{d as a,n as s,r as e,p as t,bf as l,c as r,w as i,i as c,C as o,F as u,b as n,e as d,a as p,aN as m,J as f,K as _,P as v,aO as b,f as g,G as h,ae as y,h as C,k as j,t as k,H as x,b5 as w,X as P,_ as N}from"./index-BZxHr1FI.js";import{_ as $}from"./format-price.BrXrBVy6.js";import{T}from"./tig-fixed-placeholder.BDsbIjoZ.js";import{T as U}from"./tig-layout.DTz8E-sj.js";import{b as z}from"./salesman.BFgersdl.js";import{_ as G}from"./share.vue_vue_type_script_setup_true_lang.BQPri9bm.js";import"./currency.Dn5A4d7X.js";import"./tig-qrcode.yuxkYAxV.js";import"./tig-image.CzXKqALH.js";import"./useCurrency.293Veihs.js";const I=N(a({__name:"detail",setup(a){s(a=>{a&&a.id&&I(a.id)});const N=e({}),I=async a=>{try{const s=await z(a);N.value=s}catch(s){console.error(s)}},K=e(1),O=a=>{K.value=a.detail.current+1},q=e(!1);return t(()=>{l()}),(a,s)=>{const e=g,t=b,l=m,z=j,I=c,A=o(u("format-price"),$),F=o(u("tig-fixed-placeholder"),T),H=o(u("tig-layout"),U);return n(),r(I,null,{default:i(()=>[d(H,null,{default:i(()=>[N.value.pics?(n(),r(I,{key:0,class:"salesman-pro-detail-imgs"},{default:i(()=>[d(I,{class:"product-bg"},{default:i(()=>[d(l,{"indicator-dots":!1,circular:!0,interval:"3000",duration:"500",onChange:O},{default:i(()=>[(n(!0),f(_,null,v(N.value.pics,(a,s)=>(n(),r(t,{key:s},{default:i(()=>[d(e,{"lazy-load":"",src:h(y)(a.picUrl||""),class:"slide-image",onClick:a=>(a=>{const s=N.value.pics.map(a=>y(a.picUrl||""));w({current:s[a],urls:s})})(s)},null,8,["src","onClick"])]),_:2},1024))),128))]),_:1}),d(I,{class:"pages show"},{default:i(()=>[d(z,null,{default:i(()=>[C(k(K.value),1)]),_:1}),C(" /"+k(N.value.pics.length||1),1)]),_:1})]),_:1})]),_:1})):p("",!0),d(I,{class:"salesman-pro-detail-info"},{default:i(()=>[d(I,{class:"salesman-pro-detail-price"},{default:i(()=>[d(I,{class:"salesman-pro-detail-price-num"},{default:i(()=>[d(A,{"price-data":N.value.productPrice},null,8,["price-data"])]),_:1}),Number(N.value.finalCommissionPrice)>0?(n(),r(I,{key:0,class:"salesman-pro-detail-price-tip"},{default:i(()=>[d(e,{class:"price-tip-img",src:h(x)("salesman/priceTip.png")},null,8,["src"]),d(I,{class:"salesman-pro-detail-price-tip-text"},{default:i(()=>[C(k(a.$t("预计可赚"))+" ",1),d(A,{"price-data":N.value.finalCommissionPrice},null,8,["price-data"])]),_:1})]),_:1})):p("",!0)]),_:1}),d(I,{class:"salesman-pro-detail-name"},{default:i(()=>[C(k(N.value.productName),1)]),_:1})]),_:1}),d(F,{"background-color":"#fff"},{default:i(()=>[d(I,{class:"bottom-btns"},{default:i(()=>[d(I,{class:"bottom-btn",onClick:s[0]||(s[0]=a=>{return s=`/pages/product/index?id=${N.value.productId}`,void P({url:s});var s})},{default:i(()=>[d(I,{class:"bottom-btn-text"},{default:i(()=>[C(k(a.$t("立即购买")),1)]),_:1})]),_:1}),d(I,{class:"bottom-btn special",onClick:s[1]||(s[1]=a=>q.value=!0)},{default:i(()=>[d(I,{class:"bottom-btn-text"},{default:i(()=>[d(I,null,{default:i(()=>[C(k(a.$t("分享赚钱")),1)]),_:1}),Number(N.value.finalCommissionPrice)>0?(n(),r(z,{key:0,class:"bottom-btn-text-tip"},{default:i(()=>[C(k(a.$t("分享后预计可赚"))+" ",1),d(A,{"price-data":N.value.finalCommissionPrice},null,8,["price-data"])]),_:1})):p("",!0)]),_:1})]),_:1})]),_:1})]),_:1}),d(G,{"show-share-card":q.value,"onUpdate:showShareCard":s[2]||(s[2]=a=>q.value=a),"current-data":N.value},null,8,["show-share-card","current-data"])]),_:1})]),_:1})}}}),[["__scopeId","data-v-2774b8c4"]]);export{I as default};

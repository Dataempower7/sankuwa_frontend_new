import{d as a,l as s,r as e,m as l,be as t,c as r,w as i,i as c,B as o,E as u,o as d,g as n,a as p,aJ as m,I as f,J as _,O as v,aK as b,b as g,F as h,ac as y,f as C,h as j,t as k,G as x,b4 as w,n as P,_ as $}from"./index-DDAlCzEE.js";import{_ as I}from"./format-price.9n-LYbxy.js";import{_ as N}from"./tig-fixed-placeholder.BwC6eLvS.js";import{_ as U}from"./tig-layout.Dp_86RM-.js";import{b as B}from"./salesman.Dh91F_fA.js";import{_ as E}from"./share.vue_vue_type_script_setup_true_lang.iHeSUiBM.js";import"./tig-qrcode.hb4-sGgt.js";import"./tig-image.CxOKkXKh.js";import"./useCurrency.BJDkABBv.js";const J=$(a({__name:"detail",setup(a){s(a=>{a&&a.id&&J(a.id)});const $=e({}),J=async a=>{try{const s=await B(a);$.value=s}catch(s){console.error(s)}},q=e(1),z=a=>{q.value=a.detail.current+1},D=e(!1);return l(()=>{t()}),(a,s)=>{const e=g,l=b,t=m,B=j,J=c,F=o(u("format-price"),I),G=o(u("tig-fixed-placeholder"),N),K=o(u("tig-layout"),U);return d(),r(J,null,{default:i(()=>[n(K,null,{default:i(()=>[$.value.pics?(d(),r(J,{key:0,class:"salesman-pro-detail-imgs"},{default:i(()=>[n(J,{class:"product-bg"},{default:i(()=>[n(t,{"indicator-dots":!1,circular:!0,interval:"3000",duration:"500",onChange:z},{default:i(()=>[(d(!0),f(_,null,v($.value.pics,(a,s)=>(d(),r(l,{key:s},{default:i(()=>[n(e,{"lazy-load":"",src:h(y)(a.picUrl||""),class:"slide-image",onClick:a=>(a=>{const s=$.value.pics.map(a=>y(a.picUrl||""));w({current:s[a],urls:s})})(s)},null,8,["src","onClick"])]),_:2},1024))),128))]),_:1}),n(J,{class:"pages show"},{default:i(()=>[n(B,null,{default:i(()=>[C(k(q.value),1)]),_:1}),C(" /"+k($.value.pics.length||1),1)]),_:1})]),_:1})]),_:1})):p("",!0),n(J,{class:"salesman-pro-detail-info"},{default:i(()=>[n(J,{class:"salesman-pro-detail-price"},{default:i(()=>[n(J,{class:"salesman-pro-detail-price-num"},{default:i(()=>[n(F,{"price-data":$.value.productPrice},null,8,["price-data"])]),_:1}),Number($.value.finalCommissionPrice)>0?(d(),r(J,{key:0,class:"salesman-pro-detail-price-tip"},{default:i(()=>[n(e,{class:"price-tip-img",src:h(x)("salesman/priceTip.png")},null,8,["src"]),n(J,{class:"salesman-pro-detail-price-tip-text"},{default:i(()=>[C(k(a.$t("预计可赚"))+" ",1),n(F,{"price-data":$.value.finalCommissionPrice},null,8,["price-data"])]),_:1})]),_:1})):p("",!0)]),_:1}),n(J,{class:"salesman-pro-detail-name"},{default:i(()=>[C(k($.value.productName),1)]),_:1})]),_:1}),n(G,{"background-color":"#fff"},{default:i(()=>[n(J,{class:"bottom-btns"},{default:i(()=>[n(J,{class:"bottom-btn",onClick:s[0]||(s[0]=a=>{return s=`/pages/product/index?id=${$.value.productId}`,void P({url:s});var s})},{default:i(()=>[n(J,{class:"bottom-btn-text"},{default:i(()=>[C(k(a.$t("立即购买")),1)]),_:1})]),_:1}),n(J,{class:"bottom-btn special",onClick:s[1]||(s[1]=a=>D.value=!0)},{default:i(()=>[n(J,{class:"bottom-btn-text"},{default:i(()=>[n(J,null,{default:i(()=>[C(k(a.$t("分享赚钱")),1)]),_:1}),Number($.value.finalCommissionPrice)>0?(d(),r(B,{key:0,class:"bottom-btn-text-tip"},{default:i(()=>[C(k(a.$t("分享后预计可赚"))+" ",1),n(F,{"price-data":$.value.finalCommissionPrice},null,8,["price-data"])]),_:1})):p("",!0)]),_:1})]),_:1})]),_:1})]),_:1}),n(E,{"show-share-card":D.value,"onUpdate:showShareCard":s[2]||(s[2]=a=>D.value=a),"current-data":$.value},null,8,["show-share-card","current-data"])]),_:1})]),_:1})}}}),[["__scopeId","data-v-2774b8c4"]]);export{J as default};

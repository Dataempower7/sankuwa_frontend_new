import{a2 as a,d as l,r as e,W as s,k as t,c as o,w as i,B as c,E as u,a7 as r,G as d,o as n,g,i as f,a as m,f as p,t as k,I as _,J as x,O as h,F as y,b,ac as q,h as S,X as $,H as v,a0 as j,n as I,_ as z}from"./index-DDAlCzEE.js";import{_ as M}from"./format-price.9n-LYbxy.js";import{_ as P}from"./loading-box.wxL4cJqH.js";import{_ as T}from"./tig-layout.Dp_86RM-.js";import{u as V}from"./useList.Bq9WraBG.js";import"./product.CwGVjSIm.js";const W=l=>a({url:"home/home/getSeckill",method:"get",params:l}),w=z(l({__name:"list",setup(a){r(a=>({f86a636a:J.value}));const l=e(),z=s({page:1,size:20}),{isLoadMore:w,data:C}=V(W,{params:z,path:{dataKey:"records"},immediate:!0}),F=(a,l)=>Math.round(a/(l+a)*100)+"%",J=t(()=>l.value&&l.value.isZh?`url(${d("common/seckillTitle.png")}) no-repeat`:`url(${d("common/overseas-seckillTitle.jpg")}) no-repeat`);return(a,e)=>{const s=f,t=b,r=S,d=c(u("format-price"),M),V=c(u("loading-box"),P),W=c(u("tig-layout"),T);return n(),o(W,{ref_key:"layoutRef",ref:l},{default:i(()=>[g(s,{class:"seckill-title"},{default:i(()=>[l.value&&!l.value.isZh?(n(),o(s,{key:0,class:"seckill-title-text-box"},{default:i(()=>[g(s,{class:"seckill-title-text"},{default:i(()=>[p(k(a.$t("限时秒杀")),1)]),_:1})]),_:1})):m("",!0)]),_:1}),g(s,{class:"qianggou-list"},{default:i(()=>[(n(!0),_(x,null,h(y(C),(l,e)=>(n(),o(s,{key:e,class:"qianggou-item",onClick:a=>(a=>{let l=`/pages/product/index?id=${a.productId}${a.skuId>0?`&skuId=${a.skuId}`:""}`;I({url:l})})(l)},{default:i(()=>[g(s,{class:"qianggou-img-box"},{default:i(()=>[g(t,{class:"qianggou-img",src:y(q)(l.picThumb||""),mode:"aspectFill"},null,8,["src"]),0===l.seckillStock?(n(),o(s,{key:0,class:"qianggou-out"},{default:i(()=>[g(s,{class:"qianggou-out-txt"},{default:i(()=>[p(k(a.$t("已抢完")),1)]),_:1})]),_:1})):m("",!0)]),_:2},1024),g(s,{class:"qianggou-info"},{default:i(()=>[g(s,{class:"qianggou-tit line2"},{default:i(()=>[p(k(l.productName),1)]),_:2},1024),g(s,{class:"line1 pro-txt-small"},{default:i(()=>[g(r,{class:"line1"},{default:i(()=>[p(k(a.$t("限时秒杀 抢先提醒")),1)]),_:1})]),_:1}),g(s,{class:"qianggou-money-box"},{default:i(()=>[g(s,{class:"qianggou-num"},{default:i(()=>[g(s,{class:"num"},{default:i(()=>[g(d,{"decimals-style":{fontSize:"25rpx",fontWeight:"bold"},"currency-style":{fontSize:"23rpx",fontWeight:"bold"},"price-data":l.seckillPrice},null,8,["price-data"])]),_:2},1024),g(s,{class:"del"},{default:i(()=>[g(d,{"font-style":{"text-decoration":"line-through"},"is-bottom":!1,"price-data":l.marketPrice},null,8,["price-data"])]),_:2},1024)]),_:2},1024),g(s,{class:$(["qianggou-btn",{flex:0===l.seckillStock,"align-center":l.seckillStock>0}])},{default:i(()=>[0===l.seckillStock?(n(),o(s,{key:0,class:"btn-txt"},{default:i(()=>[p(k(a.$t("已抢完")),1)]),_:1})):(n(),o(s,{key:1,class:"btn-txt"},{default:i(()=>[g(s,{class:"txt"},{default:i(()=>[p(k(a.$t("马上抢")),1)]),_:1}),g(s,{class:"progress-box flex align-center"},{default:i(()=>[g(s,{class:"progress-bar"},{default:i(()=>[g(s,{class:"progress",style:v({width:F(l.seckillSales,l.seckillStock)})},null,8,["style"])]),_:2},1024),g(s,{class:"progress-txt"},{default:i(()=>[p(k(F(l.seckillSales,l.seckillStock)),1)]),_:2},1024)]),_:2},1024)]),_:2},1024))]),_:2},1032,["class"])]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1}),g(V,{modelValue:y(w),"onUpdate:modelValue":e[0]||(e[0]=a=>j(w)?w.value=a:null),color:"#fff",page:z.page,length:y(C).length},null,8,["modelValue","page","length"])]),_:1},512)}}}),[["__scopeId","data-v-8a87e6ad"]]);export{w as default};

import{a4 as a,d as l,r as e,Y as s,m as t,c as o,w as i,C as c,F as u,a9 as r,H as d,b as n,e as g,i as f,a as m,h as p,t as k,J as _,K as x,P as y,G as h,f as b,ae as q,k as S,Z as $,I as j,a2 as v,X as I,_ as T}from"./index-BZxHr1FI.js";import{_ as z}from"./format-price.BrXrBVy6.js";import{_ as C}from"./loading-box.D3Y7A2lC.js";import{T as M}from"./tig-layout.DTz8E-sj.js";import{u as P}from"./useList.cF42RyDa.js";import"./currency.Dn5A4d7X.js";import"./product.BH5dMQls.js";const V=l=>a({url:"home/home/getSeckill",method:"get",params:l}),Z=T(l({__name:"list",setup(a){r(a=>({f86a636a:G.value}));const l=e(),T=s({page:1,size:20}),{isLoadMore:Z,data:w}=P(V,{params:T,path:{dataKey:"records"},immediate:!0}),F=(a,l)=>Math.round(a/(l+a)*100)+"%",G=t(()=>l.value&&l.value.isZh?`url(${d("common/seckillTitle.png")}) no-repeat`:`url(${d("common/overseas-seckillTitle.jpg")}) no-repeat`);return(a,e)=>{const s=f,t=b,r=S,d=c(u("format-price"),z),P=c(u("loading-box"),C),V=c(u("tig-layout"),M);return n(),o(V,{ref_key:"layoutRef",ref:l},{default:i(()=>[g(s,{class:"seckill-title"},{default:i(()=>[l.value&&!l.value.isZh?(n(),o(s,{key:0,class:"seckill-title-text-box"},{default:i(()=>[g(s,{class:"seckill-title-text"},{default:i(()=>[p(k(a.$t("限时秒杀")),1)]),_:1})]),_:1})):m("",!0)]),_:1}),g(s,{class:"qianggou-list"},{default:i(()=>[(n(!0),_(x,null,y(h(w),(l,e)=>(n(),o(s,{key:e,class:"qianggou-item",onClick:a=>(a=>{let l=`/pages/product/index?id=${a.productId}${a.skuId>0?`&skuId=${a.skuId}`:""}`;I({url:l})})(l)},{default:i(()=>[g(s,{class:"qianggou-img-box"},{default:i(()=>[g(t,{class:"qianggou-img",src:h(q)(l.picThumb||""),mode:"aspectFill"},null,8,["src"]),0===l.seckillStock?(n(),o(s,{key:0,class:"qianggou-out"},{default:i(()=>[g(s,{class:"qianggou-out-txt"},{default:i(()=>[p(k(a.$t("已抢完")),1)]),_:1})]),_:1})):m("",!0)]),_:2},1024),g(s,{class:"qianggou-info"},{default:i(()=>[g(s,{class:"qianggou-tit line2"},{default:i(()=>[p(k(l.productName),1)]),_:2},1024),g(s,{class:"line1 pro-txt-small"},{default:i(()=>[g(r,{class:"line1"},{default:i(()=>[p(k(a.$t("限时秒杀 抢先提醒")),1)]),_:1})]),_:1}),g(s,{class:"qianggou-money-box"},{default:i(()=>[g(s,{class:"qianggou-num"},{default:i(()=>[g(s,{class:"num"},{default:i(()=>[g(d,{"decimals-style":{fontSize:"25rpx",fontWeight:"bold"},"currency-style":{fontSize:"23rpx",fontWeight:"bold"},"price-data":l.seckillPrice},null,8,["price-data"])]),_:2},1024),g(s,{class:"del"},{default:i(()=>[g(d,{"font-style":{"text-decoration":"line-through"},"is-bottom":!1,"price-data":l.marketPrice},null,8,["price-data"])]),_:2},1024)]),_:2},1024),g(s,{class:$(["qianggou-btn",{flex:0===l.seckillStock,"align-center":l.seckillStock>0}])},{default:i(()=>[0===l.seckillStock?(n(),o(s,{key:0,class:"btn-txt"},{default:i(()=>[p(k(a.$t("已抢完")),1)]),_:1})):(n(),o(s,{key:1,class:"btn-txt"},{default:i(()=>[g(s,{class:"txt"},{default:i(()=>[p(k(a.$t("马上抢")),1)]),_:1}),g(s,{class:"progress-box flex align-center"},{default:i(()=>[g(s,{class:"progress-bar"},{default:i(()=>[g(s,{class:"progress",style:j({width:F(l.seckillSales,l.seckillStock)})},null,8,["style"])]),_:2},1024),g(s,{class:"progress-txt"},{default:i(()=>[p(k(F(l.seckillSales,l.seckillStock)),1)]),_:2},1024)]),_:2},1024)]),_:2},1024))]),_:2},1032,["class"])]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1}),g(P,{modelValue:h(Z),"onUpdate:modelValue":e[0]||(e[0]=a=>v(Z)?Z.value=a:null),color:"#fff",page:T.page,length:h(w).length},null,8,["modelValue","page","length"])]),_:1},512)}}}),[["__scopeId","data-v-8a87e6ad"]]);export{Z as default};

import{d as a,r as s,n as e,c as t,w as o,C as c,F as l,b as i,e as u,i as n,h as r,k as d,t as h,J as f,K as p,P as y,a as _,O as m,X as g,_ as I}from"./index-BZxHr1FI.js";import{T as k}from"./tig-layout.DTz8E-sj.js";import{c as v}from"./shop.CnQQ4qvJ.js";const x=I(a({__name:"category",setup(a){const I=s(0),x=s([]);e(a=>{a&&a.shopId&&(I.value=a.shopId,C())});const C=async()=>{try{const a=await v(I.value);x.value=a}catch(a){console.error(a)}},j=()=>{g({url:`/pages/search/index?shopId=${I.value}`})},$=a=>{g(a>0?{url:`/pages/search/result?shopId=${I.value}&shopCategoryId=${a}`}:{url:`/pages/search/result?shopId=${I.value}`})};return(a,s)=>{const e=d,g=n,v=c(l("tig-layout"),k);return i(),t(v,{title:"店铺分类","shop-id":I.value},{default:o(()=>[u(g,{class:"shop-search-box",onClick:j},{default:o(()=>[u(g,{class:"shop-search"},{default:o(()=>[u(g,{class:"search-text"},{default:o(()=>[u(e,{class:"iconfont-h5 icon-sousuo sousuo-icon"}),r(h(a.$t("搜索")),1)]),_:1})]),_:1})]),_:1}),u(g,{class:"category-content"},{default:o(()=>[u(g,{class:"category-content-item"},{default:o(()=>[u(g,{class:"item-box special",onClick:s[0]||(s[0]=a=>$(0))},{default:o(()=>[u(g,{class:"item-left"},{default:o(()=>[r(h(a.$t("全部商品")),1)]),_:1}),u(g,{class:"item-right"},{default:o(()=>[u(e,{class:"iconfont-h5 icon-youjiantou youjiantou-icon special"})]),_:1})]),_:1})]),_:1}),(i(!0),f(p,null,y(x.value,(a,s)=>(i(),t(g,{key:a.categoryId,class:"category-content-item"},{default:o(()=>[u(g,{class:"item-box",onClick:s=>$(a.categoryId)},{default:o(()=>[u(g,{class:"item-left"},{default:o(()=>[r(h(a.categoryName),1)]),_:2},1024),u(g,{class:"item-right"},{default:o(()=>[u(e,{class:"iconfont-h5 icon-youjiantou youjiantou-icon"})]),_:1})]),_:2},1032,["onClick"]),a.children?(i(),t(g,{key:0,class:"item-children-box"},{default:o(()=>[(i(!0),f(p,null,y(a.children,(a,s)=>(i(),t(g,{key:a.categoryId,class:"children-item",onClick:m(s=>$(a.categoryId),["stop"])},{default:o(()=>[u(g,{class:"children-item-text"},{default:o(()=>[r(h(a.categoryName),1)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:2},1024)):_("",!0)]),_:2},1024))),128))]),_:1})]),_:1},8,["shop-id"])}}}),[["__scopeId","data-v-7e483e5c"]]);export{x as default};

import{d as a,L as e,Y as t,r as s,s as l,v as r,c as i,w as o,ac as c,ad as u,C as d,F as n,b as m,e as p,i as f,J as _,K as g,P as v,k as y,h,t as x,a6 as b,X as j,_ as I}from"./index-BZxHr1FI.js";import{_ as k}from"./tig-image.CzXKqALH.js";import{_ as S}from"./format-price.BrXrBVy6.js";import{_ as z}from"./loading-box.D3Y7A2lC.js";import{T as C}from"./tig-layout.DTz8E-sj.js";import{e as w}from"./afterSale.Bc08-95K.js";import"./currency.Dn5A4d7X.js";const N=I(a({__name:"list",setup(a){const{t:I}=e(),N=t({page:1,size:10}),V=s(!1),$=s([]),q=s(0),K=async()=>{N.page>1?V.value=!0:c({title:I("加载中")});try{const a=await w(N);$.value=[...$.value,...a.records],q.value=a.total}catch(a){console.error(a)}finally{u(),V.value=!1}};return l(()=>{N.page<Math.ceil(q.value/N.size)&&(N.page++,K())}),r(()=>{N.page=1,$.value=[],K()}),(a,e)=>{const t=y,s=f,l=d(n("tig-image"),k),r=d(n("format-price"),S),c=b,u=d(n("loading-box"),z),I=d(n("tig-layout"),C);return m(),i(I,{title:"申请列表"},{default:o(()=>[p(s,{class:"after-sale-list"},{default:o(()=>[p(s,{class:"order-list"},{default:o(()=>[(m(!0),_(g,null,v($.value,e=>(m(),i(s,{key:e.orderId,class:"order-list-item"},{default:o(()=>[p(s,{class:"order-list-item-header"},{default:o(()=>[p(t,{class:"special-text"},{default:o(()=>[h(x(a.$t("售后编号"))+"：",1),p(t,{class:"special-color"},{default:o(()=>[h(x(e.aftersalesSn),1)]),_:2},1024)]),_:2},1024),p(t,null,{default:o(()=>[h(x(e.statusName),1)]),_:2},1024)]),_:2},1024),p(s,{class:"order-list-item-content"},{default:o(()=>[p(s,{class:"item-content-product"},{default:o(()=>[(m(!0),_(g,null,v(e.aftersalesItems,a=>(m(),i(c,{key:a.aftersalesItemId,url:"/pages/product/index?id="+a.productId,"hover-class":"navigator-hover"},{default:o(()=>[p(s,{class:"item-content-product-item"},{default:o(()=>[p(s,{class:"item-content-product-img"},{default:o(()=>[p(l,{src:a.picThumb},null,8,["src"])]),_:2},1024),p(s,{class:"item-content-product-info"},{default:o(()=>[p(s,{class:"product-item-title"},{default:o(()=>[h(x(a.productName),1)]),_:2},1024),p(s,{class:"product-item-price"},{default:o(()=>[p(r,{"show-text":!1,"decimals-style":{fontSize:"25rpx"},"currency-style":{fontSize:"23rpx"},class:"product-item-pricenum","price-data":a.price},null,8,["price-data"]),p(s,{class:"product-item-quantity"},{default:o(()=>[h("x "+x(a.quantity),1)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1032,["url"]))),128))]),_:2},1024)]),_:2},1024),p(s,{class:"order-list-item-btn"},{default:o(()=>[p(s,{class:"item-btn-box"},{default:o(()=>[p(s,{class:"base-item-btn detail",onClick:a=>{return t=e.aftersaleId,void j({url:`/pages/user/afterSale/info?id=${t}`});var t}},{default:o(()=>[h(x(a.$t("售后详情")),1)]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1}),p(u,{modelValue:V.value,"onUpdate:modelValue":e[0]||(e[0]=a=>V.value=a),page:N.page,length:$.value.length},null,8,["modelValue","page","length"])]),_:1})]),_:1})}}}),[["__scopeId","data-v-84c0ae5b"]]);export{N as default};

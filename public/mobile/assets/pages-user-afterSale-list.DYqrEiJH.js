import{d as a,K as e,W as t,r as s,q as l,s as r,c as i,w as o,aa as u,ab as c,B as d,E as n,o as m,g as p,i as f,I as _,J as g,O as v,h as x,f as y,t as h,a4 as b,n as I,_ as j}from"./index-DDAlCzEE.js";import{_ as S}from"./tig-image.CxOKkXKh.js";import{_ as k}from"./format-price.9n-LYbxy.js";import{_ as z}from"./loading-box.wxL4cJqH.js";import{_ as q}from"./tig-layout.Dp_86RM-.js";import{e as w}from"./afterSale.B1RPETbC.js";const V=j(a({__name:"list",setup(a){const{t:j}=e(),V=t({page:1,size:10}),$=s(!1),B=s([]),C=s(0),M=async()=>{V.page>1?$.value=!0:u({title:j("加载中")});try{const a=await w(V);B.value=[...B.value,...a.records],C.value=a.total}catch(a){console.error(a)}finally{c(),$.value=!1}};return l(()=>{V.page<Math.ceil(C.value/V.size)&&(V.page++,M())}),r(()=>{V.page=1,B.value=[],M()}),(a,e)=>{const t=x,s=f,l=d(n("tig-image"),S),r=d(n("format-price"),k),u=b,c=d(n("loading-box"),z),j=d(n("tig-layout"),q);return m(),i(j,{title:"申请列表"},{default:o(()=>[p(s,{class:"after-sale-list"},{default:o(()=>[p(s,{class:"order-list"},{default:o(()=>[(m(!0),_(g,null,v(B.value,e=>(m(),i(s,{key:e.orderId,class:"order-list-item"},{default:o(()=>[p(s,{class:"order-list-item-header"},{default:o(()=>[p(t,{class:"special-text"},{default:o(()=>[y(h(a.$t("售后编号"))+"：",1),p(t,{class:"special-color"},{default:o(()=>[y(h(e.aftersalesSn),1)]),_:2},1024)]),_:2},1024),p(t,null,{default:o(()=>[y(h(e.statusName),1)]),_:2},1024)]),_:2},1024),p(s,{class:"order-list-item-content"},{default:o(()=>[p(s,{class:"item-content-product"},{default:o(()=>[(m(!0),_(g,null,v(e.aftersalesItems,a=>(m(),i(u,{key:a.aftersalesItemId,url:"/pages/product/index?id="+a.productId,"hover-class":"navigator-hover"},{default:o(()=>[p(s,{class:"item-content-product-item"},{default:o(()=>[p(s,{class:"item-content-product-img"},{default:o(()=>[p(l,{src:a.picThumb},null,8,["src"])]),_:2},1024),p(s,{class:"item-content-product-info"},{default:o(()=>[p(s,{class:"product-item-title"},{default:o(()=>[y(h(a.productName),1)]),_:2},1024),p(s,{class:"product-item-price"},{default:o(()=>[p(r,{"show-text":!1,"decimals-style":{fontSize:"25rpx"},"currency-style":{fontSize:"23rpx"},class:"product-item-pricenum","price-data":a.price},null,8,["price-data"]),p(s,{class:"product-item-quantity"},{default:o(()=>[y("x "+h(a.quantity),1)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1032,["url"]))),128))]),_:2},1024)]),_:2},1024),p(s,{class:"order-list-item-btn"},{default:o(()=>[p(s,{class:"item-btn-box"},{default:o(()=>[p(s,{class:"base-item-btn detail",onClick:a=>{return t=e.aftersaleId,void I({url:`/pages/user/afterSale/info?id=${t}`});var t}},{default:o(()=>[y(h(a.$t("售后详情")),1)]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1}),p(c,{modelValue:$.value,"onUpdate:modelValue":e[0]||(e[0]=a=>$.value=a),page:V.page,length:B.value.length},null,8,["modelValue","page","length"])]),_:1})]),_:1})}}}),[["__scopeId","data-v-84c0ae5b"]]);export{V as default};

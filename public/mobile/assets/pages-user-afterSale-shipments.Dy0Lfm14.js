import{d as e,L as a,Y as s,r as l,n as r,c as t,w as o,i as u,C as i,F as d,b as n,e as c,h as m,t as f,a3 as p,au as g,_}from"./index-BZxHr1FI.js";import{_ as b}from"./uni-easyinput.DHFPvsdC.js";import{_ as h,a as N}from"./uni-forms.QWcIXEX3.js";import{T as v}from"./tig-layout.DTz8E-sj.js";import{f as y}from"./afterSale.Bc08-95K.js";import"./uni-icons.DMMn2oBg.js";const k=_(e({__name:"shipments",setup(e){const{t:_}=a(),k=s({logisticsName:"",trackingNo:"",id:0}),j=l(""),V={logisticsName:{rules:[{required:!0,errorMessage:_("快递公司不能为空")}]},trackingNo:{rules:[{required:!0,errorMessage:_("快递单号不能为空")}]}};r(e=>{e&&(e.id&&(k.id=e.id),e.returnAddress&&(j.value=e.returnAddress))});const $=l(),x=()=>{$.value.validate().then(()=>{w()}).catch(e=>{console.log("表单错误信息：",e)})},w=async()=>{try{await y(k);p({url:"/pages/user/afterSale/info",success:()=>{g("refreshInfo",k.id)}})}catch(e){console.error(e)}};return(e,a)=>{const s=u,l=i(d("uni-easyinput"),b),r=i(d("uni-forms-item"),h),p=i(d("uni-forms"),N),g=i(d("tig-layout"),v);return n(),t(s,null,{default:o(()=>[c(g,null,{default:o(()=>[c(s,{class:"returnaddress"},{default:o(()=>[c(s,{class:"title"},{default:o(()=>[m(f(e.$t("回寄信息")),1)]),_:1}),c(s,{class:"returnaddress-content"},{default:o(()=>[m(f(j.value),1)]),_:1})]),_:1}),c(s,{class:"leave-message"},{default:o(()=>[c(p,{ref_key:"formRef",ref:$,"model-value":k,"label-width":"170rpx",rules:V},{default:o(()=>[c(r,{label:e.$t("快递公司"),name:"logisticsName"},{default:o(()=>[c(l,{modelValue:k.logisticsName,"onUpdate:modelValue":a[0]||(a[0]=e=>k.logisticsName=e),"primary-color":"rgb(192, 196, 204)","input-border":!1,placeholder:e.$t("请您填写快递公司")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),c(r,{label:e.$t("快递单号"),name:"trackingNo"},{default:o(()=>[c(l,{modelValue:k.trackingNo,"onUpdate:modelValue":a[1]||(a[1]=e=>k.trackingNo=e),"primary-color":"rgb(192, 196, 204)","input-border":!1,placeholder:e.$t("请您填写快递单号")},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1},8,["model-value"])]),_:1}),c(s,{class:"leave-message-btn"},{default:o(()=>[c(s,{class:"btn-box",onClick:x},{default:o(()=>[m(f(e.$t("提交")),1)]),_:1})]),_:1})]),_:1})]),_:1})}}}),[["__scopeId","data-v-6106c300"]]);export{k as default};

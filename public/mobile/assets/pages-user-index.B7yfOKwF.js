import{d as e,ay as a,k as t,B as s,E as l,c as u,o,i as c,w as i,g as n,f as r,t as d,a as f,X as p,I as _,J as m,O as g,F as v,G as y,S as k,u as C,_ as x,b,ac as w,r as h,l as $,s as j,L as T,af as I,bg as L,H as S,bb as P,h as R,$ as U,n as z}from"./index-DDAlCzEE.js";import{u as A,_ as O,d as B}from"./tig-layout.Dp_86RM-.js";import{_ as q}from"./tig-image.CxOKkXKh.js";import{_ as F}from"./tig-upload.vue_vue_type_script_setup_true_lang.BOzdOCmK.js";import{_ as N}from"./uni-badge.B3qX4ZPK.js";import{_ as G}from"./tig-copyright.CXAAKmRe.js";import{_ as H}from"./tig-back-top.vue_vue_type_script_setup_true_lang.B2OMent1.js";import{r as J}from"./index.DGit0NKu.js";import{a as D}from"./order.BGb_iNwp.js";import{e as E}from"./home.BiY_WE0x.js";import"./masonry.DxHX1gQG.js";import"./format-price.9n-LYbxy.js";import"./specification.C_n32lme.js";import"./uni-icons.piUs7f0e.js";import"./uni-number-box.D352QONN.js";import"./product.CwGVjSIm.js";import"./activityCard.A8E8ZyQf.js";import"./useList.Bq9WraBG.js";const K=x(e({__name:"index",props:{data:{type:Array,default:()=>[]},menuType:{type:[Number,String],default:1}},setup(e){const x=e,b=a(),w=t(()=>{let e=x.data;return 0!==Object.keys(b.userInfo).length&&b.userInfo.salesman||(e=e.filter(e=>"分销员中心"!==e.picTitle)),e=e.filter(e=>"实名认证"!==e.picTitle),e});return(a,t)=>{const x=c,b=s(l("tig-image"),q);return o(),u(x,{class:"service-box"},{default:i(()=>[n(x,{class:"service-title"},{default:i(()=>[r(d(a.$t("我的服务")),1)]),_:1}),n(x,{class:"service-content"},{default:i(()=>[w.value.length>0?(o(),u(x,{key:0,class:p(["service-list",{grid:2==e.menuType,column:1==e.menuType}])},{default:i(()=>[(o(!0),_(m,null,g(w.value,(t,s)=>(o(),u(x,{key:s,class:"service-item",onClick:e=>(e=>{k({url:C(e.picLink)})})(t)},{default:i(()=>[n(x,{class:"service-icon"},{default:i(()=>[n(b,{"lazy-load":"",src:v(y)(t.picUrl)},null,8,["src"])]),_:2},1024),n(x,{class:"service-label"},{default:i(()=>[r(d(a.$t(t.picTitle??""))+" ",1),1===e.menuType?(o(),u(x,{key:0,class:"service-arrow iconfont-h5 icon-youjiantou"})):f("",!0)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1},8,["class"])):f("",!0)]),_:1})]),_:1})}}}),[["__scopeId","data-v-edcf8c22"]]),X=x(e({__name:"index",props:{data:{type:Object,default:()=>({})}},setup:e=>(a,t)=>{const s=b,l=c;return o(),u(l,{class:"advertising-box"},{default:i(()=>[n(l,{class:"advertising-content"},{default:i(()=>[n(s,{class:"advertising-image",src:v(w)(e.data.picUrl),mode:"widthFix",onClick:t[0]||(t[0]=a=>{var t;(null==(t=e.data)?void 0:t.picLink)&&k({url:C(t.picLink)})})},null,8,["src"])]),_:1})]),_:1})}}),[["__scopeId","data-v-97e22329"]]),Z=e({__name:"index",props:{modules:{type:Array,default:()=>[]}},setup:e=>(a,t)=>(o(!0),_(m,null,g(e.modules,(e,a)=>(o(),_(m,{key:a},["bannerList"===e.type&&e.module.bannerList.picUrl?(o(),u(X,{key:0,data:e.module.bannerList},null,8,["data"])):"menus"===e.type?(o(),u(K,{key:1,"menu-type":e.module.menuType,data:e.module.menuList},null,8,["menu-type","data"])):f("",!0)],64))),128))}),M=x(e({__name:"index",setup(e){const{scrollTop:p}=A(),g=a(),k=h(),C=t({get:()=>g.userInfo,set:e=>g.setUserInfo(e)}),x=h({collectCount:0,collectStoreCount:0,stayCommentOrder:0,rePay:0,reReceive:0,returnCount:0,bonus:0}),K=h({}),X=async()=>{try{const e=await D();K.value=e}catch(e){console.error(e)}},M=e=>{z({url:e})},Q=()=>{ee(),X()},V=t(()=>g.token||T("token")),W=t(()=>`url(${y("product/unverified.png")});`),Y=h([]),ee=async()=>{try{const e=await E();Y.value=e.data}catch(e){console.error(e)}};return $(()=>{ee()}),j(()=>{if(!V.value)return C.value={},x.value={collectCount:0,collectStoreCount:0,stayCommentOrder:0,rePay:0,reReceive:0,returnCount:0,bonus:0},void(K.value={});g.getUserInfo(),X()}),(e,a)=>{const t=s(l("tig-navbar"),B),h=b,$=c,j=s(l("tig-image"),q),T=s(l("tig-upload"),F),A=R,D=s(l("uni-badge"),N),E=s(l("tig-copyright"),G),X=s(l("tig-layout"),O),ee=s(l("tig-back-top"),H);return o(),_(m,null,[n(X,{ref_key:"layoutRef",ref:k,onLoginSuccess:Q},{default:i(()=>[n(t,{"show-left":!1,title:"会员中心",background:"linear-gradient(90deg, #fcf6fc, #f3f3fe)"}),n($,{class:"user"},{default:i(()=>[n($,{class:"user_header user_bg_color"},{default:i(()=>[n($,{class:"picTxt"},{default:i(()=>[V.value?(o(),u(T,{key:1,class:"pictrue","request-url":"user/user/modifyAvatar",onChange:a[0]||(a[0]=e=>v(g).getUserInfo())},{default:i(()=>[n(j,{class:"pic-btn",src:v(w)(C.value.avatar)},null,8,["src"])]),_:1})):(o(),u($,{key:0,class:"pictrue",onClick:v(I)},{default:i(()=>[n(h,{class:"pic-btn",src:v(y)("common/empty-img-bg3.png")},null,8,["src"])]),_:1},8,["onClick"])),n($,{class:"text"},{default:i(()=>[V.value?(o(),_(m,{key:1},[n($,{class:"acea-row row-middle info"},{default:i(()=>{var t;return[v(L)()?(o(),_(m,{key:0},[C.value.isCompanyAuth?(o(),u($,{key:0,class:"auth",onClick:a[1]||(a[1]=e=>M("/pages/user/userCertification/index"))},{default:i(()=>[n(h,{src:v(y)("product/authenticated.svg")},null,8,["src"])]),_:1})):(o(),u($,{key:1,class:"auth",onClick:a[2]||(a[2]=e=>M("/pages/user/userCertification/index"))},{default:i(()=>[n($,{class:"unverified",style:S(`background-image: ${W.value};`)},null,8,["style"])]),_:1}))],64)):f("",!0),n($,{class:"name line1"},{default:i(()=>[r(d(C.value.nickname||C.value.username),1)]),_:1}),(null==(t=C.value)?void 0:t.showSign)?(o(),u($,{key:1,class:"acea-row qiandao",onClick:a[3]||(a[3]=e=>M("/pages/user/sign/index"))},{default:i(()=>[n($,{class:"iconfont icon-qiandao"}),n($,{class:""},{default:i(()=>[r(d(e.$t("签到有礼")),1)]),_:1})]),_:1})):f("",!0),n($,{class:"iconfont icon-shezhi",onClick:a[4]||(a[4]=e=>M("/pages/user/profile/index"))})]}),_:1}),n($,{class:"logo acea-row row-middle",onClick:a[5]||(a[5]=e=>v(P)()&&void z({url:"/pages/user/levelCenter/index"}))},{default:i(()=>{var a;return[v(P)()?(o(),u(h,{key:0,class:"vip_logo",src:null==(a=C.value)?void 0:a.rankLogo,mode:"scaleToFill"},null,8,["src"])):f("",!0),r(" "+d(e.$t(C.value.rankName)),1)]}),_:1})],64)):(o(),u($,{key:0,class:"name",onClick:v(I)},{default:i(()=>[r(d(e.$t("登录/注册")),1)]),_:1},8,["onClick"]))]),_:1})]),_:1}),n($,{class:"user_top_group"},{default:i(()=>[n($,{class:"item",onClick:a[6]||(a[6]=e=>M("/pages/user/collectProduct/index"))},{default:i(()=>[n($,{class:"tit"},{default:i(()=>[r(d(e.$t("商品收藏"))+" ",1),n(A,{class:"txt"},{default:i(()=>[r(d(K.value.productCollect>=0?K.value.productCollect:"--"),1)]),_:1})]),_:1})]),_:1}),v(U)()?(o(),u($,{key:0,class:"item",onClick:a[7]||(a[7]=e=>M("/pages/user/collectionShop/index"))},{default:i(()=>[n($,{class:"tit"},{default:i(()=>[r(d(e.$t("店铺关注"))+" ",1),n(A,{class:"txt"},{default:i(()=>[r(d(K.value.shopCollect>=0?K.value.shopCollect:"--"),1)]),_:1})]),_:1})]),_:1})):f("",!0),k.value&&k.value.isZh?(o(),u($,{key:1,class:"item",onClick:a[8]||(a[8]=e=>M("/pages/user/comment/list"))},{default:i(()=>[n($,{class:"tit"},{default:i(()=>[r(d(e.$t("待评价"))+" ",1),n(A,{class:"txt"},{default:i(()=>[r(d(K.value.awaitComment>=0?K.value.awaitComment:"--"),1)]),_:1})]),_:1})]),_:1})):f("",!0),n($,{class:"item",onClick:a[9]||(a[9]=e=>M("/pages/user/historyProduct/index"))},{default:i(()=>[n($,{class:"tit"},{default:i(()=>[r(d(e.$t("浏览记录")),1)]),_:1})]),_:1})]),_:1})]),_:1}),n($,{class:"user_wrapper"},{default:i(()=>[n($,{class:"list-group my-order"},{default:i(()=>[n($,{class:"title acea-row row-between-wrapper"},{default:i(()=>[n($,{class:""},{default:i(()=>[r(d(e.$t("我的订单")),1)]),_:1}),n($,{class:"more",onClick:a[10]||(a[10]=e=>M("/pages/user/order/list"))},{default:i(()=>[n($,null,{default:i(()=>[r(d(e.$t("全部订单")),1)]),_:1}),n($,{class:"iconfont icon-xiangyou"})]),_:1})]),_:1}),n($,{class:"wrap"},{default:i(()=>[n($,{class:"li",onClick:a[11]||(a[11]=e=>M("/pages/user/order/list?type=awaitPay"))},{default:i(()=>[K.value.awaitPay>0?(o(),_(m,{key:0},[n(D,{class:"badgecolor",text:K.value.awaitPay,absolute:"rightTop",size:"small"},{default:i(()=>[n(A,{class:"iconfont icon-daifukuan"})]),_:1},8,["text"]),n($,{class:"txt"},{default:i(()=>[r(d(e.$t("待付款")),1)]),_:1})],64)):(o(),_(m,{key:1},[n(A,{class:"iconfont icon-daifukuan"}),n($,{class:"txt"},{default:i(()=>[r(d(e.$t("待付款")),1)]),_:1})],64))]),_:1}),n($,{class:"li",onClick:a[12]||(a[12]=e=>M("/pages/user/order/list?type=awaitReceived"))},{default:i(()=>[K.value.awaitReceived>0?(o(),_(m,{key:0},[n(D,{class:"badgecolor",text:K.value.awaitReceived,absolute:"rightTop",size:"small"},{default:i(()=>[n(A,{class:"iconfont icon-daishouhuo1"})]),_:1},8,["text"]),n($,{class:"txt"},{default:i(()=>[r(d(e.$t("待收货")),1)]),_:1})],64)):(o(),_(m,{key:1},[n(A,{class:"iconfont icon-daishouhuo1"}),n($,{class:"txt"},{default:i(()=>[r(d(e.$t("待收货")),1)]),_:1})],64))]),_:1}),n($,{class:"li",onClick:a[13]||(a[13]=e=>M("/pages/user/order/list?type=awaitComment"))},{default:i(()=>[K.value.awaitComment>0?(o(),_(m,{key:0},[n(D,{class:"badgecolor",text:K.value.awaitComment,absolute:"rightTop",size:"small"},{default:i(()=>[n(A,{class:"iconfont icon-pingjia"})]),_:1},8,["text"]),n($,{class:"txt"},{default:i(()=>[r(d(e.$t("待评价")),1)]),_:1})],64)):(o(),_(m,{key:1},[n(A,{class:"iconfont icon-pingjia"}),n($,{class:"txt"},{default:i(()=>[r(d(e.$t("待评价")),1)]),_:1})],64))]),_:1}),n($,{class:"li",onClick:a[14]||(a[14]=e=>M("/pages/user/afterSale/list"))},{default:i(()=>[n(A,{class:"iconfont icon-shouhou1"}),n($,{class:"txt"},{default:i(()=>[r(d(e.$t("退换 / 售后")),1)]),_:1}),x.value.returnCount>0?(o(),u(A,{key:0,class:"counts"},{default:i(()=>[r(d(x.value.returnCount),1)]),_:1})):f("",!0)]),_:1})]),_:1})]),_:1}),n($,{class:"list-group my-wallet"},{default:i(()=>[n($,{class:"title acea-row row-between-wrapper"},{default:i(()=>[n($,{class:""},{default:i(()=>[r(d(e.$t("我的钱包")),1)]),_:1}),n($,{class:"more",onClick:a[15]||(a[15]=e=>M("/pages/user/account/index"))},{default:i(()=>[n($,null,{default:i(()=>[r(d(e.$t("进入钱包")),1)]),_:1}),n($,{class:"iconfont icon-xiangyou"})]),_:1})]),_:1}),n($,{class:"wrap"},{default:i(()=>[n($,{class:"li",onClick:a[16]||(a[16]=e=>M("/pages/user/account/index"))},{default:i(()=>[n(A,{class:"num"},{default:i(()=>[r(d(Number(C.value.totalBalance)>=0?C.value.totalBalance:0),1)]),_:1}),n($,{class:"txt"},{default:i(()=>[r(d(e.$t("余额")),1)]),_:1})]),_:1}),n($,{class:"li",onClick:a[17]||(a[17]=e=>M("/pages/coupon/index?type=2"))},{default:i(()=>[n(A,{class:"num"},{default:i(()=>[r(d(C.value.coupon>=0?C.value.coupon:0),1)]),_:1}),n($,{class:"txt"},{default:i(()=>[r(d(e.$t("优惠券")),1)]),_:1})]),_:1}),n($,{class:"li",onClick:a[18]||(a[18]=e=>M("/pages/user/point/detail"))},{default:i(()=>[n(A,{class:"num"},{default:i(()=>[r(d(C.value.points>=0?C.value.points:0),1)]),_:1}),n($,{class:"txt"},{default:i(()=>[r(d(e.$t("积分")),1)]),_:1})]),_:1})]),_:1})]),_:1}),n(Z,{modules:Y.value},null,8,["modules"])]),_:1})]),_:1}),n(J),n(E)]),_:1},512),n(ee,{"scroll-top":v(p)},null,8,["scroll-top"])],64)}}}),[["__scopeId","data-v-b3d2f2bf"]]);export{M as default};

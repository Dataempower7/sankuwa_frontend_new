import{d as e,az as a,l as t,m as s,C as l,F as o,c as i,b as u,i as c,w as n,e as r,h as d,t as p,a as f,Z as m,J as _,K as g,P as v,G as y,H as k,j as h,u as x,_ as C,f as b,ae as w,r as $,n as j,v as T,M as S,ah as I,bh as L,I as z,bc as P,k as A,a1 as R,X as U}from"./index-BZxHr1FI.js";import{u as N,T as F,c as O}from"./tig-layout.DTz8E-sj.js";import{_ as q}from"./tig-image.CzXKqALH.js";import{_ as B}from"./tig-upload.vue_vue_type_script_setup_true_lang.CWT6vvZi.js";import{_ as G}from"./uni-badge.Bs_WZHCJ.js";import{_ as H}from"./tig-copyright.CZlnto9f.js";import{_ as J}from"./tig-back-top.vue_vue_type_script_setup_true_lang.YtcOxsPs.js";import{r as K}from"./index.CtwwUC20.js";import{a as M}from"./order.DbsjjJvD.js";import{f as Z}from"./home.CvZhmv3n.js";import"./masonry.B_l69Lra.js";import"./specification.C71VpZ8P.js";import"./format-price.BrXrBVy6.js";import"./currency.Dn5A4d7X.js";import"./uni-icons.DMMn2oBg.js";import"./uni-number-box.DKxM8QIH.js";import"./product.BH5dMQls.js";import"./tig-lazy-image.BPOhG_XX.js";import"./activityCard.DE1HAQr9.js";import"./dayjs.min.BETqfnlQ.js";import"./useList.cF42RyDa.js";const Q=C(e({__name:"index",props:{data:{type:Array,default:()=>[]},menuType:{type:[Number,String],default:1}},setup(e){const C=e,b=a();t();const w=s(()=>{let e=C.data;return 0!==Object.keys(b.userInfo).length&&b.userInfo.salesman||(e=e.filter(e=>"分销员中心"!==e.picTitle)),e=e.filter(e=>"实名认证"!==e.picTitle),e});return(a,t)=>{const s=c,C=l(o("tig-image"),q);return u(),i(s,{class:"service-box"},{default:n(()=>[r(s,{class:"service-title"},{default:n(()=>[d(p(a.$t("我的服务")),1)]),_:1}),r(s,{class:"service-content"},{default:n(()=>[w.value.length>0?(u(),i(s,{key:0,class:m(["service-list",{grid:2==e.menuType,column:1==e.menuType}])},{default:n(()=>[(u(!0),_(g,null,v(w.value,(t,l)=>(u(),i(s,{key:l,class:"service-item",onClick:e=>(e=>{h({url:x(e.picLink)})})(t)},{default:n(()=>[r(s,{class:"service-icon"},{default:n(()=>[r(C,{"lazy-load":"",src:y(k)(t.picUrl)},null,8,["src"])]),_:2},1024),r(s,{class:"service-label"},{default:n(()=>[d(p(a.$t(t.picTitle??""))+" ",1),1===e.menuType?(u(),i(s,{key:0,class:"service-arrow iconfont-h5 icon-youjiantou"})):f("",!0)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1},8,["class"])):f("",!0)]),_:1})]),_:1})}}}),[["__scopeId","data-v-eed51988"]]),V=C(e({__name:"index",props:{data:{type:Object,default:()=>({})}},setup:e=>(a,t)=>{const s=b,l=c;return u(),i(l,{class:"advertising-box"},{default:n(()=>[r(l,{class:"advertising-content"},{default:n(()=>[r(s,{class:"advertising-image",src:y(w)(e.data.picUrl),mode:"widthFix",onClick:t[0]||(t[0]=a=>{var t;(null==(t=e.data)?void 0:t.picLink)&&h({url:x(t.picLink)})})},null,8,["src"])]),_:1})]),_:1})}}),[["__scopeId","data-v-97e22329"]]),W=e({__name:"index",props:{modules:{type:Array,default:()=>[]}},setup:e=>(a,t)=>(u(!0),_(g,null,v(e.modules,(e,a)=>(u(),_(g,{key:a},["bannerList"===e.type&&e.module.bannerList.picUrl?(u(),i(V,{key:0,data:e.module.bannerList},null,8,["data"])):"menus"===e.type?(u(),i(Q,{key:1,"menu-type":e.module.menuType,data:e.module.menuList},null,8,["menu-type","data"])):f("",!0)],64))),128))}),X=C(e({__name:"index",setup(e){const{scrollTop:m}=N(),v=t(),h=a(),x=$(),C=s({get:()=>h.userInfo,set:e=>h.setUserInfo(e)}),Q=$({collectCount:0,collectStoreCount:0,stayCommentOrder:0,rePay:0,reReceive:0,returnCount:0,bonus:0}),V=$({}),X=async()=>{try{const e=await M();V.value=e}catch(e){console.error(e)}},D=e=>{U({url:e})},E=()=>{te(),X()},Y=s(()=>h.token||S("token")),ee=s(()=>`url(${k("product/unverified.png")});`),ae=$([]),te=async()=>{try{const e=await Z();ae.value=e.data}catch(e){console.error(e)}};return j(()=>{te()}),T(()=>{if(!Y.value)return C.value={},Q.value={collectCount:0,collectStoreCount:0,stayCommentOrder:0,rePay:0,reReceive:0,returnCount:0,bonus:0},void(V.value={});h.getUserInfo(),X()}),(e,a)=>{const t=l(o("tig-navbar"),O),s=b,$=c,j=l(o("tig-image"),q),T=l(o("tig-upload"),B),S=A,N=l(o("uni-badge"),G),M=l(o("tig-copyright"),H),Z=l(o("tig-layout"),F),Q=l(o("tig-back-top"),J);return u(),_(g,null,[r(Z,{ref_key:"layoutRef",ref:x,onLoginSuccess:E},{default:n(()=>[r(t,{"show-left":!1,title:"会员中心",background:"linear-gradient(90deg, #fcf6fc, #f3f3fe)"}),r($,{class:"user"},{default:n(()=>[r($,{class:"user_header user_bg_color"},{default:n(()=>[r($,{class:"picTxt"},{default:n(()=>[Y.value?(u(),i(T,{key:1,class:"pictrue","request-url":"user/user/modifyAvatar",onChange:a[0]||(a[0]=e=>y(h).getUserInfo())},{default:n(()=>[r(j,{class:"pic-btn",src:y(w)(C.value.avatar)},null,8,["src"])]),_:1})):(u(),i($,{key:0,class:"pictrue",onClick:y(I)},{default:n(()=>[r(s,{class:"pic-btn",src:y(k)("common/empty-img-bg3.png")},null,8,["src"])]),_:1},8,["onClick"])),r($,{class:"text"},{default:n(()=>[Y.value?(u(),_(g,{key:1},[r($,{class:"acea-row row-middle info"},{default:n(()=>{var t;return[y(L)()&&1===y(v).closeAuth?(u(),_(g,{key:0},[C.value.isCompanyAuth?(u(),i($,{key:0,class:"auth",onClick:a[1]||(a[1]=e=>D("/pages/user/userCertification/index"))},{default:n(()=>[r(s,{src:y(k)("product/authenticated.svg")},null,8,["src"])]),_:1})):(u(),i($,{key:1,class:"auth",onClick:a[2]||(a[2]=e=>D("/pages/user/userCertification/index"))},{default:n(()=>[r($,{class:"unverified",style:z(`background-image: ${ee.value};`)},null,8,["style"])]),_:1}))],64)):f("",!0),r($,{class:"name line1"},{default:n(()=>[d(p(C.value.nickname||C.value.username),1)]),_:1}),(null==(t=C.value)?void 0:t.showSign)?(u(),i($,{key:1,class:"acea-row qiandao",onClick:a[3]||(a[3]=e=>D("/pages/user/sign/index"))},{default:n(()=>[r($,{class:"iconfont icon-qiandao"}),r($,{class:""},{default:n(()=>[d(p(e.$t("签到有礼")),1)]),_:1})]),_:1})):f("",!0),r($,{class:"iconfont-h5 icon-shezhi",onClick:a[4]||(a[4]=e=>D("/pages/user/profile/index"))})]}),_:1}),r($,{class:"logo acea-row row-middle",onClick:a[5]||(a[5]=e=>y(P)()&&void U({url:"/pages/user/levelCenter/index"}))},{default:n(()=>{var a;return[y(P)()?(u(),i(s,{key:0,class:"vip_logo",src:null==(a=C.value)?void 0:a.rankLogo,mode:"scaleToFill"},null,8,["src"])):f("",!0),d(" "+p(C.value.rankName?e.$t(C.value.rankName):""),1)]}),_:1})],64)):(u(),i($,{key:0,class:"name",onClick:y(I)},{default:n(()=>[d(p(e.$t("登录/注册")),1)]),_:1},8,["onClick"]))]),_:1})]),_:1}),r($,{class:"user_top_group"},{default:n(()=>[r($,{class:"item",onClick:a[6]||(a[6]=e=>D("/pages/user/collectProduct/index"))},{default:n(()=>[r($,{class:"tit"},{default:n(()=>[d(p(e.$t("商品收藏"))+" ",1),r(S,{class:"txt"},{default:n(()=>[d(p(V.value.productCollect>=0?V.value.productCollect:"--"),1)]),_:1})]),_:1})]),_:1}),y(R)()?(u(),i($,{key:0,class:"item",onClick:a[7]||(a[7]=e=>D("/pages/user/collectionShop/index"))},{default:n(()=>[r($,{class:"tit"},{default:n(()=>[d(p(e.$t("店铺收藏"))+" ",1),r(S,{class:"txt"},{default:n(()=>[d(p(V.value.shopCollect>=0?V.value.shopCollect:"--"),1)]),_:1})]),_:1})]),_:1})):f("",!0),x.value&&x.value.isZh?(u(),i($,{key:1,class:"item",onClick:a[8]||(a[8]=e=>D("/pages/user/comment/list"))},{default:n(()=>[r($,{class:"tit"},{default:n(()=>[d(p(e.$t("待评价"))+" ",1),r(S,{class:"txt"},{default:n(()=>[d(p(V.value.awaitComment>=0?V.value.awaitComment:"--"),1)]),_:1})]),_:1})]),_:1})):f("",!0),r($,{class:"item",onClick:a[9]||(a[9]=e=>D("/pages/user/historyProduct/index"))},{default:n(()=>[r($,{class:"tit"},{default:n(()=>[d(p(e.$t("浏览记录")),1)]),_:1})]),_:1})]),_:1})]),_:1}),r($,{class:"user_wrapper"},{default:n(()=>[r($,{class:"list-group my-order"},{default:n(()=>[r($,{class:"title acea-row row-between-wrapper"},{default:n(()=>[r($,{class:""},{default:n(()=>[d(p(e.$t("我的订单")),1)]),_:1}),r($,{class:"more",onClick:a[10]||(a[10]=e=>D("/pages/user/order/list"))},{default:n(()=>[r($,null,{default:n(()=>[d(p(e.$t("全部订单")),1)]),_:1}),r($,{class:"iconfont icon-xiangyou"})]),_:1})]),_:1}),r($,{class:"wrap"},{default:n(()=>[r($,{class:"li",onClick:a[11]||(a[11]=e=>D("/pages/user/order/list?type=awaitPay"))},{default:n(()=>[V.value.awaitPay>0?(u(),_(g,{key:0},[r(N,{class:"badgecolor",text:V.value.awaitPay,absolute:"rightTop",size:"small"},{default:n(()=>[r(S,{class:"iconfont-h5 icon-daifukuan"})]),_:1},8,["text"]),r($,{class:"txt"},{default:n(()=>[d(p(e.$t("待付款")),1)]),_:1})],64)):(u(),_(g,{key:1},[r(S,{class:"iconfont-h5 icon-daifukuan"}),r($,{class:"txt"},{default:n(()=>[d(p(e.$t("待付款")),1)]),_:1})],64))]),_:1}),r($,{class:"li",onClick:a[12]||(a[12]=e=>D("/pages/user/order/list?type=awaitShipping"))},{default:n(()=>[V.value.awaitShipping>0?(u(),_(g,{key:0},[r(N,{class:"badgecolor",text:V.value.awaitShipping,absolute:"rightTop",size:"small"},{default:n(()=>[r(S,{class:"iconfont-h5 icon-daifahuo"})]),_:1},8,["text"]),r($,{class:"txt"},{default:n(()=>[d(p(e.$t("待发货")),1)]),_:1})],64)):(u(),_(g,{key:1},[r(S,{class:"iconfont-h5 icon-daifahuo"}),r($,{class:"txt"},{default:n(()=>[d(p(e.$t("待发货")),1)]),_:1})],64))]),_:1}),r($,{class:"li",onClick:a[13]||(a[13]=e=>D("/pages/user/order/list?type=awaitReceived"))},{default:n(()=>[V.value.awaitReceived>0?(u(),_(g,{key:0},[r(N,{class:"badgecolor",text:V.value.awaitReceived,absolute:"rightTop",size:"small"},{default:n(()=>[r(S,{class:"iconfont-h5 icon-daishouhuo"})]),_:1},8,["text"]),r($,{class:"txt"},{default:n(()=>[d(p(e.$t("待收货")),1)]),_:1})],64)):(u(),_(g,{key:1},[r(S,{class:"iconfont-h5 icon-daishouhuo"}),r($,{class:"txt"},{default:n(()=>[d(p(e.$t("待收货")),1)]),_:1})],64))]),_:1}),r($,{class:"li",onClick:a[14]||(a[14]=e=>D("/pages/user/order/list?type=awaitComment"))},{default:n(()=>[V.value.awaitComment>0?(u(),_(g,{key:0},[r(N,{class:"badgecolor",text:V.value.awaitComment,absolute:"rightTop",size:"small"},{default:n(()=>[r(S,{class:"iconfont-h5 icon-daipingjia"})]),_:1},8,["text"]),r($,{class:"txt"},{default:n(()=>[d(p(e.$t("待评价")),1)]),_:1})],64)):(u(),_(g,{key:1},[r(S,{class:"iconfont-h5 icon-daipingjia"}),r($,{class:"txt"},{default:n(()=>[d(p(e.$t("待评价")),1)]),_:1})],64))]),_:1}),r($,{class:"li",onClick:a[15]||(a[15]=e=>D("/pages/user/afterSale/list"))},{default:n(()=>[V.value.awaitAftersalesCollect>0?(u(),_(g,{key:0},[r(N,{class:"badgecolor",text:V.value.awaitAftersalesCollect,absolute:"rightTop",size:"small"},{default:n(()=>[r(S,{class:"iconfont-h5 icon-tuikuan"})]),_:1},8,["text"]),r($,{class:"txt"},{default:n(()=>[d(p(e.$t("退换/售后")),1)]),_:1})],64)):(u(),_(g,{key:1},[r(S,{class:"iconfont-h5 icon-tuikuan"}),r($,{class:"txt line1"},{default:n(()=>[d(p(e.$t("退换/售后")),1)]),_:1})],64))]),_:1})]),_:1})]),_:1}),r($,{class:"list-group my-wallet"},{default:n(()=>[r($,{class:"title acea-row row-between-wrapper"},{default:n(()=>[r($,{class:""},{default:n(()=>[d(p(e.$t("我的钱包")),1)]),_:1}),r($,{class:"more",onClick:a[16]||(a[16]=e=>D("/pages/user/account/index"))},{default:n(()=>[r($,null,{default:n(()=>[d(p(e.$t("进入钱包")),1)]),_:1}),r($,{class:"iconfont icon-xiangyou"})]),_:1})]),_:1}),r($,{class:"wrap"},{default:n(()=>[r($,{class:"li",onClick:a[17]||(a[17]=e=>D("/pages/user/account/index"))},{default:n(()=>[r(S,{class:"num"},{default:n(()=>[d(p(Number(C.value.totalBalance)>=0?C.value.totalBalance:0),1)]),_:1}),r($,{class:"txt"},{default:n(()=>[d(p(e.$t("余额")),1)]),_:1})]),_:1}),r($,{class:"li",onClick:a[18]||(a[18]=e=>D("/pages/coupon/index?type=2"))},{default:n(()=>[r(S,{class:"num"},{default:n(()=>[d(p(C.value.coupon>=0?C.value.coupon:0),1)]),_:1}),r($,{class:"txt"},{default:n(()=>[d(p(e.$t("优惠券")),1)]),_:1})]),_:1}),r($,{class:"li",onClick:a[19]||(a[19]=e=>D("/pages/user/point/detail"))},{default:n(()=>[r(S,{class:"num"},{default:n(()=>[d(p(C.value.points>=0?C.value.points:0),1)]),_:1}),r($,{class:"txt"},{default:n(()=>[d(p(e.$t(y(v).integralName)),1)]),_:1})]),_:1})]),_:1})]),_:1}),r(W,{modules:ae.value},null,8,["modules"])]),_:1})]),_:1}),r(K),r(M)]),_:1},512),r(Q,{"scroll-top":y(m)},null,8,["scroll-top"])],64)}}}),[["__scopeId","data-v-fced8da9"]]);export{X as default};

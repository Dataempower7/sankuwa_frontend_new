import{d as e,L as a,r as t,m as l,n as s,c as i,w as c,C as n,F as u,b as o,e as f,i as m,a as d,h as v,t as _,J as r,K as p,I as y,G as I,ae as b,a3 as $,X as g,_ as k}from"./index-BZxHr1FI.js";import{_ as h}from"./format-price.BrXrBVy6.js";import{T,a as x}from"./tig-layout.DTz8E-sj.js";import{T as C}from"./tig-fixed-placeholder.BDsbIjoZ.js";import"./currency.Dn5A4d7X.js";const A=k(e({__name:"invoiceInfo",setup(e){const{t:k}=a(),A=t({}),j=t([]),N=l(()=>j.value.length);s(e=>{e&&e.invoiceData&&(A.value=JSON.parse(decodeURIComponent(e.invoiceData)),A.value.invoiceAttachment.length&&(j.value=A.value.invoiceAttachment))});const w=l(()=>{switch(A.value.status){case 0:return k("待审核");case 1:return k("通过");default:return k("失败/作废")}}),J=()=>{$({url:"/pages/user/invoiceManagement/applyInvoice?type=update&orderId="+A.value.orderId})},M=()=>{const e=encodeURIComponent(JSON.stringify(j.value));g({url:"/pages/user/invoiceManagement/src/imageView?fileList="+e})};return(e,a)=>{const t=m,l=n(u("format-price"),h),s=n(u("tig-button"),x),$=n(u("tig-fixed-placeholder"),C),g=n(u("tig-layout"),T);return o(),i(g,{title:"发票详情"},{default:c(()=>[f(t,{class:"invoiceInfo"},{default:c(()=>[f(t,{class:"invoiceInfo-status"},{default:c(()=>[f(t,{class:""},{default:c(()=>[v(_(e.$t("审核状态"))+"：",1)]),_:1}),f(t,{class:"special-text"},{default:c(()=>[v(_(w.value),1)]),_:1})]),_:1}),f(t,{class:"invoiceInfo-content"},{default:c(()=>[f(t,{class:"invoiceInfo-content-item"},{default:c(()=>[f(t,{class:"item-label"},{default:c(()=>[v(_(e.$t("开票金额")),1)]),_:1}),f(t,{class:"item-value"},{default:c(()=>[f(l,{"show-text":!1,"is-bottom":!1,"price-data":A.value.amount},null,8,["price-data"])]),_:1})]),_:1}),f(t,{class:"invoiceInfo-content-item"},{default:c(()=>[f(t,{class:"item-label"},{default:c(()=>[v(_(e.$t("订单编号")),1)]),_:1}),f(t,{class:"item-value"},{default:c(()=>[v(_(A.value.orderSn),1)]),_:1})]),_:1}),1==A.value.invoiceType?(o(),r(p,{key:0},[f(t,{class:"invoiceInfo-content-item"},{default:c(()=>[f(t,{class:"item-label"},{default:c(()=>[v(_(e.$t("发票抬头")),1)]),_:1}),f(t,{class:"item-value"},{default:c(()=>[v(_(1==A.value.titleType?e.$t("个人"):e.$t("企业")),1)]),_:1})]),_:1}),f(t,{class:"invoiceInfo-content-item"},{default:c(()=>[f(t,{class:"item-label"},{default:c(()=>[v(_(1==A.value.titleType?e.$t("个人姓名"):e.$t("企业名称")),1)]),_:1}),f(t,{class:"item-value"},{default:c(()=>[v(_(A.value.companyName),1)]),_:1})]),_:1}),2==A.value.titleType?(o(),r(p,{key:0},[f(t,{class:"invoiceInfo-content-item"},{default:c(()=>[f(t,{class:"item-label"},{default:c(()=>[v(_(e.$t("纳税人识号")),1)]),_:1}),f(t,{class:"item-value"},{default:c(()=>[v(_(A.value.companyCode),1)]),_:1})]),_:1}),f(t,{class:"invoiceInfo-content-item"},{default:c(()=>[f(t,{class:"item-label"},{default:c(()=>[v(_(e.$t("单位地址")),1)]),_:1}),f(t,{class:"item-value"},{default:c(()=>[v(_(A.value.companyAddress),1)]),_:1})]),_:1}),f(t,{class:"invoiceInfo-content-item"},{default:c(()=>[f(t,{class:"item-label"},{default:c(()=>[v(_(e.$t("单位电话")),1)]),_:1}),f(t,{class:"item-value"},{default:c(()=>[v(_(A.value.companyPhone),1)]),_:1})]),_:1}),f(t,{class:"invoiceInfo-content-item"},{default:c(()=>[f(t,{class:"item-label"},{default:c(()=>[v(_(e.$t("开户银行")),1)]),_:1}),f(t,{class:"item-value"},{default:c(()=>[v(_(A.value.companyBank),1)]),_:1})]),_:1}),f(t,{class:"invoiceInfo-content-item"},{default:c(()=>[f(t,{class:"item-label"},{default:c(()=>[v(_(e.$t("银行账户")),1)]),_:1}),f(t,{class:"item-value"},{default:c(()=>[v(_(A.value.companyAccount),1)]),_:1})]),_:1})],64)):d("",!0)],64)):d("",!0),2==A.value.invoiceType?(o(),r(p,{key:1},[f(t,{class:"invoiceInfo-content-item"},{default:c(()=>[f(t,{class:"item-label"},{default:c(()=>[v(_(e.$t("单位名称")),1)]),_:1}),f(t,{class:"item-value"},{default:c(()=>[v(_(A.value.companyName),1)]),_:1})]),_:1}),f(t,{class:"invoiceInfo-content-item"},{default:c(()=>[f(t,{class:"item-label"},{default:c(()=>[v(_(e.$t("纳税识别码")),1)]),_:1}),f(t,{class:"item-value"},{default:c(()=>[v(_(A.value.companyCode),1)]),_:1})]),_:1}),f(t,{class:"invoiceInfo-content-item"},{default:c(()=>[f(t,{class:"item-label"},{default:c(()=>[v(_(e.$t("注册地址")),1)]),_:1}),f(t,{class:"item-value"},{default:c(()=>[v(_(A.value.companyAddress),1)]),_:1})]),_:1}),f(t,{class:"invoiceInfo-content-item"},{default:c(()=>[f(t,{class:"item-label"},{default:c(()=>[v(_(e.$t("注册电话")),1)]),_:1}),f(t,{class:"item-value"},{default:c(()=>[v(_(A.value.companyPhone),1)]),_:1})]),_:1}),f(t,{class:"invoiceInfo-content-item"},{default:c(()=>[f(t,{class:"item-label"},{default:c(()=>[v(_(e.$t("开户银行")),1)]),_:1}),f(t,{class:"item-value"},{default:c(()=>[v(_(A.value.companyBank),1)]),_:1})]),_:1}),f(t,{class:"invoiceInfo-content-item"},{default:c(()=>[f(t,{class:"item-label"},{default:c(()=>[v(_(e.$t("银行账户")),1)]),_:1}),f(t,{class:"item-value"},{default:c(()=>[v(_(A.value.companyAccount),1)]),_:1})]),_:1})],64)):d("",!0),1==A.value.invoiceType?(o(),r(p,{key:2},[A.value.invoicingTime?(o(),i(t,{key:0,class:"invoiceInfo-content-item"},{default:c(()=>[f(t,{class:"item-label"},{default:c(()=>[v(_(e.$t("申请时间")),1)]),_:1}),f(t,{class:"item-value"},{default:c(()=>[v(_(A.value.invoicingTime),1)]),_:1})]),_:1})):d("",!0),A.value.addTime?(o(),i(t,{key:1,class:"invoiceInfo-content-item"},{default:c(()=>[f(t,{class:"item-label"},{default:c(()=>[v(_(e.$t("开票时间")),1)]),_:1}),f(t,{class:"item-value"},{default:c(()=>[v(_(A.value.addTime),1)]),_:1})]),_:1})):d("",!0),j.value.length?(o(),i(t,{key:2,class:"invoiceInfo-content-item"},{default:c(()=>[f(t,{class:"item-label"},{default:c(()=>[v(_(e.$t("发票预览")),1)]),_:1}),f(t,{class:"image-box"},{default:c(()=>[f(t,{class:"image",onClick:M},{default:c(()=>[f(t,{class:"image-bg",style:y({backgroundImage:`url(${I(b)(j.value[0].picThumb)})`})},null,8,["style"]),f(t,{class:"img-num"},{default:c(()=>[v(_(e.$t("共"+N.value+"张")),1)]),_:1})]),_:1}),f(t,{class:"img-tip"},{default:c(()=>[v(_(e.$t("点击预览发票")),1)]),_:1})]),_:1})]),_:1})):d("",!0)],64)):d("",!0)]),_:1}),1!==A.value.status?(o(),i($,{key:0,"background-color":"#fff"},{default:c(()=>[f(t,{class:"btn-box"},{default:c(()=>[f(s,{onClick:J},{default:c(()=>[v(_(e.$t("重新申请")),1)]),_:1})]),_:1})]),_:1})):d("",!0)]),_:1})]),_:1})}}}),[["__scopeId","data-v-a84f4664"]]);export{A as default};

import{d as s,L as e,r as a,aM as i,C as r,F as t,J as l,b as c,aL as n,e as o,w as d,h as u,t as g,a6 as _,K as m,P as p,c as h,i as v,G as k,ae as R,ac as y,ad as I,X as b,_ as f,l as N,a as w,aN as x,aO as L,I as j,Z as P}from"./index-BZxHr1FI.js";import{T as D}from"./tig-layout.DTz8E-sj.js";import{_ as C}from"./format-price.BrXrBVy6.js";import{g as G}from"./sign.DX3lFpmx.js";import"./currency.Dn5A4d7X.js";const q=f(s({__name:"index",props:{url:{type:String,required:!0}},setup(s){const{t:f}=e(),N=s,w=a({signPoints:0,record:0,isSign:0,days:[],recommendGoods:[]});return i(()=>{(async()=>{y({title:f("加载中")});try{const s=await G(N.url);Object.assign(w.value,s)}catch(s){console.error(s)}finally{I()}})()}),(s,e)=>{const a=_,i=r(t("format-price"),C),y=v;return c(),l("div",{class:"recgoods-box"},[n("div",{class:"title"},[n("div",{class:"bg"}),o(a,{url:"/pages/search/index"},{default:d(()=>[n("div",{class:"moregoods"},[u(g(s.$t("查看更多"))+" ",1),n("span",{class:"iconfont icon-xiangyou"})])]),_:1})]),n("div",{class:"wrap-goods"},[(c(!0),l(m,null,p(w.value.recommendGoods,(s,e)=>(c(),h(y,{key:e,class:"item",onClick:e=>{b({url:"/pages/product/index?id="+s.productId})}},{default:d(()=>[n("img",{class:"rec-img",alt:s.productName,src:k(R)(s.picThumb)},null,8,["alt","src"]),n("div",{class:"info"},[n("div",{class:"name"},g(s.productName),1),o(i,{class:"price","price-data":s.productPrice},null,8,["price-data"])])]),_:2},1032,["onClick"]))),128))])])}}}),[["__scopeId","data-v-3da220cf"]]),K=f(s({__name:"index",setup(s){const e=N(),i=a({userName:"",userPhoto:"",userRank:1,rankPoints:1e4}),u=a({specialRank:0}),_=a([{rankId:1,rankName:"白银会员",rankDesc:"还需0成长值可升级至白银会员",rate:100,userRightIds:"1,2"},{rankId:2,rankName:"黄金会员",rankDesc:"还需0成长值可升级至黄金会员",rate:80,userRightIds:"1,2,3"},{rankId:3,rankName:"铂金会员",rankDesc:"还需0成长值可升级至黄金会员",rate:60,userRightIds:"1,2,3,4"},{rankId:4,rankName:"钻石会员",rankDesc:"还需0成长值可升级至黄金会员",rate:30,userRightIds:"1,2,3,4,5,6"}]),v=[{userRightId:"1",userRightLogo:"http://localhost/lyecs7/public/static/mobile/images/ranks/qiandao.png",userRightName:"签到返利"},{userRightId:"2",userRightLogo:"http://localhost/lyecs7/public/static/mobile/images/ranks/jifenduihuan.png",userRightName:`${e.integralName}兑换`},{userRightId:"3",userRightLogo:"http://oss.lyecs.com/img/gallery/demo/1680252172GwIt9xVFCcRuPHcaXK!!pic.png",userRightName:"线下折扣"},{userRightId:"4",userRightLogo:"http://oss.lyecs.com/img/gallery/demo/1680252172j4ltKe4JWA75EofqYb!!pic.png",userRightName:"运费折扣"},{userRightId:"5",userRightLogo:"http://oss.lyecs.com/img/gallery/demo/1680252172nLzWUg7tsAc0NEPshf!!pic.png",userRightName:"会员特价"},{userRightId:"6",userRightLogo:"http://oss.lyecs.com/img/gallery/demo/16802521724D4cIMO08jbaZLuIHq!!pic.png",userRightName:"消费返利"}],k=a(["1","2"]),R=a(0),y=s=>{R.value=s.detail.current;let e=_.value[R.value].userRightIds.split(",");k.value=[...e]};return(s,e)=>{const a=L,R=x,I=r(t("tig-layout"),D);return c(),h(I,{title:"会员等级"},{default:d(()=>[n("div",{class:"member-level"},[n("div",{class:"content"},[n("div",{class:"content__header"},[n("img",{class:"member-level-head-background",src:"http://localhost/lyecs7/public/static/mobile/images/ranks/bg.png",alt:""}),n("div",{class:"content__header__portrait"},[n("img",{src:i.value.userPhoto},null,8,["src"]),n("span",null,g(i.value.userName),1)])]),n("div",{class:"ranks-swiper"},[o(R,{"indicator-dots":!1,circular:!1,interval:"3000",duration:"500",onChange:y},{default:d(()=>[(c(!0),l(m,null,p(_.value,(s,e)=>(c(),h(a,{key:e},{default:d(()=>[n("div",{class:"swiper__slider__cardbox"},[n("img",{src:"http://localhost/lyecs7/public/static/mobile/images/ranks/rank-bg.png",class:"swiper__slider__bg"}),i.value.userRank===s.rankId?(c(),l("div",{key:0,class:"swiper__slider__current"},"当前等级")):w("",!0),n("div",{class:"swiper__slider__logo"},"Tigshop"),n("div",{class:"swiper__slider__item item-color-1"},[n("div",{class:"swiper__slider__item__name"},g(s.rankName),1),n("div",{class:"swiper__slider__item__score"},[n("div",{class:"text flex-row"},[n("span",null,g(s.rankDesc),1)])]),n("div",{class:"swiper__slider__item__experience"},[n("span",null,g(i.value.rankPoints),1)]),n("div",{class:"progress-container swiper__slider__item__progress"},[n("div",{class:"line",style:j({width:s.rate+"%"})},null,4)]),n("div",{class:"long-with"},[n("span",null,"成长值")])])])]),_:2},1024))),128))]),_:1})]),v?(c(),l("div",{key:0,class:"rights"},[n("div",{class:"rights__title"},[n("h3",null,"我的特权")]),n("div",{class:"rights__content"},[(c(),l(m,null,p(v,(s,e)=>n("div",{key:s.userRightId,class:P(["rights__content__item",{"no-rank-select":(1===u.value.specialRank||0===u.value.specialRank)&&!k.value.includes(s.userRightId)}])},[n("div",{class:"item-img-wrap"},[n("div",{class:P(["suoding-icon",{"no-rank-select-icon":k.value.includes(s.userRightId)}])},null,2),n("img",{src:s.userRightLogo,class:"rights__content__item__img",alt:s.userRightName},null,8,["src","alt"])]),n("div",{class:"rights__content__item__txt"},g(s.userRightName),1)],2)),64))])])):w("",!0),o(q,{url:"user/sign/index"})]),n("div",{style:{height:"10px"}})])]),_:1})}}}),[["__scopeId","data-v-58edf5e6"]]);export{K as default};

import{d as a,L as e,r as t,c as l,w as s,C as o,F as u,bi as i,bK as d,b as n,e as r,i as c,h as f,t as p,R as m,_}from"./index-BZxHr1FI.js";import{T as v,a as g}from"./tig-layout.DTz8E-sj.js";import{T as b}from"./tig-fixed-placeholder.BDsbIjoZ.js";import{i as h}from"./product.BH5dMQls.js";import{_ as x}from"./index.vue_vue_type_script_setup_true_lang.DcvN28sX.js";const y=_(a({__name:"index",setup(a){const{t:_}=e(),y=t(""),V=t([]),j=t(!1),k=async()=>{var a;""==y.value&&m({title:_("请填写您的意见")}),j.value=!0;try{await h({type:0,content:y.value,feedbackPics:null==(a=V.value)?void 0:a.map(a=>null==a?void 0:a.picUrl)}),y.value="",V.value=[],j.value=!1,m({title:_("已收到您的反馈")})}catch(e){m({title:e.message,icon:"none"})}finally{j.value=!1}};return(a,e)=>{const t=c,m=o(u("up-textarea"),i),_=o(u("up-icon"),d),h=o(u("tig-button"),g),T=o(u("tig-fixed-placeholder"),b),U=o(u("tig-layout"),v);return n(),l(U,{title:"意见建议","border-bottom":!0},{default:s(()=>[r(t,{class:"container"},{default:s(()=>[r(t,{class:"title"},{default:s(()=>[f(p(a.$t("意见建议")),1)]),_:1}),r(t,{class:"content"},{default:s(()=>[r(m,{modelValue:y.value,"onUpdate:modelValue":e[0]||(e[0]=a=>y.value=a),"input-align":"right",height:"120",placeholder:a.$t("您填写的信息越全，问题越有效的解决哦~"),border:"none",maxlength:"200",style:{background:"#f5f5f5"},focus:!1},null,8,["modelValue","placeholder"]),r(t,{class:"bottom"},{default:s(()=>[r(t,{class:"upload-box"},{default:s(()=>[r(x,{modelValue:V.value,"onUpdate:modelValue":e[1]||(e[1]=a=>V.value=a),"is-value-array":!0,limit:3,"is-custom":!0},{trigger:s(()=>[r(t,{class:"tip"},{default:s(()=>[r(_,{name:"photo",size:"25",color:"#a6a7a7"}),r(t,{class:"txt"},{default:s(()=>[f("上传图片")]),_:1}),r(t,{class:"txt"},{default:s(()=>[f("最多上传3张")]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}),r(t,{class:"popup-item-footer"},{default:s(()=>[f(p(y.value.length)+"/200 ",1)]),_:1})]),_:1})]),_:1})]),_:1}),r(T,{"background-color":"#fff"},{default:s(()=>[r(t,{class:"btn-box"},{default:s(()=>[r(h,{class:"btn",onClick:k,loading:j.value,disabled:""==y.value},{default:s(()=>[f(p(a.$t("提交意见")),1)]),_:1},8,["loading","disabled"])]),_:1})]),_:1})]),_:1})}}}),[["__scopeId","data-v-239234c5"]]);export{y as default};

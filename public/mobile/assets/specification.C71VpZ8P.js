import{d as e,a9 as a,m as l,C as t,F as u,bu as s,c as o,b as i,_ as r,a4 as d,L as n,l as c,r as v,i as m,O as p,w as f,aB as g,bh as k,X as y,R as b,M as _,Y as h,V as I,J as x,K as N,e as V,a as S,W as P,$,k as C,h as E,f as w,G as D,H as L,t as T,Z as j,a0 as R,I as z,P as A,ae as K,b5 as O}from"./index-BZxHr1FI.js";import{_ as U}from"./tig-image.CzXKqALH.js";import{_ as G}from"./format-price.BrXrBVy6.js";import{_ as B}from"./uni-icons.DMMn2oBg.js";import{_ as J}from"./uni-number-box.DKxM8QIH.js";import{_ as q}from"./tig-layout.DTz8E-sj.js";import{j as W,k as Q,l as M,g as F,m as H}from"./product.BH5dMQls.js";const X=r(e({__name:"tig-number-box",props:{modelValue:{type:Number,default:1},max:{type:Number,default:99},min:{type:Number,default:1},inputWidth:{type:[String,Number],default:35},buttonSize:{type:[String,Number],default:30},buttonWidth:{type:[String,Number],default:35},iconStyle:{type:String,default:""},disabled:{type:Boolean,default:!1}},emits:["update:modelValue","overlimit","change"],setup(e,{emit:r}){a(e=>({"280613e4":m.value}));const d=e,n=r,c=l({get:()=>d.modelValue,set(e){n("update:modelValue",e),n("change",e)}}),v=e=>{n("overlimit",e)},m=l(()=>d.buttonWidth+"px");return(a,l)=>{const r=t(u("up-number-box"),s);return i(),o(r,{modelValue:c.value,"onUpdate:modelValue":l[0]||(l[0]=e=>c.value=e),"icon-style":e.iconStyle,"button-size":e.buttonSize,min:e.min,max:e.max,"input-width":e.inputWidth,disabled:e.disabled,onOverlimit:v,onChange:l[1]||(l[1]=()=>{})},null,8,["modelValue","icon-style","button-size","min","max","input-width","disabled"])}}}),[["__scopeId","data-v-77dd584a"]]),Y=e=>d({url:"product/exchange/list",method:"get",params:e}),Z=e=>d({url:"product/exchange/detail",method:"get",params:{id:e}}),ee=e({__name:"buy",props:{id:Number,number:{type:Number},skuId:{type:Number},extraAttrIds:{type:String,default:""},disabled:{type:Boolean,default:!1},isQuick:{type:Boolean,default:!1},type:{type:String},skuItem:{type:Array},grouponData:{type:Object}},emits:["callback"],setup(e,{emit:a}){const{t:l}=n(),t=c(),u=e,s=a,r=v(!1),h=async()=>{var e;if(!u.disabled)try{if(r.value)return;r.value=!0;const a=I(u.id);let o={};const i={id:u.id??0,number:u.number,skuId:u.skuId,isQuick:u.isQuick?1:0};if(u.extraAttrIds&&(i.extraAttrIds=u.extraAttrIds),k(),u.grouponData&&u.grouponData.grouponPromotionId&&(i.grouponData=u.grouponData),"exchange"===u.type)o=await(e=i,d({url:"product/exchange/addToCart",method:"post",data:e}));else i.salesmanId=a>0?a:void 0,o=await W(i);if(s("callback"),1==u.isQuick){if(1===t.closeOrder)return uni.$u.toast(l("商城已关闭下单"));y({url:`/pages/order/check?flowType=${o.flowType}`})}else b({title:l("加入购物车成功"),duration:1500})}catch(a){b({title:a.message,icon:"none",duration:1500})}finally{r.value=!1}},I=e=>{const a=_("salesmanProducts")||[];if(!a.length)return 0;const l=a.find(a=>a.productId==e);return Number(null==l?void 0:l.salesmanId)||0};return(e,a)=>{const l=m;return i(),o(l,{class:"buy",onClick:p(h,["stop"])},{default:f(()=>[g(e.$slots,"default")]),_:3})}}}),ae=r(e({__name:"specification",props:{modelValue:{type:[Number],default:0},skuId:{type:[Number],default:0},type:{type:[String],default:""},grouponEnable:{type:[Boolean],default:!0},grouponRecordInfo:{type:[Object],default:{grouponPromotionRecordId:0,minGroupNum:0}}},emits:["sendValue","addCardSucceed","update:skuId","loadEnd","close"],setup(e,{expose:s,emit:r}){a(e=>({c1862736:He.value,"0b07d49e":Xe.value}));const d=e,y=r,{t:_}=n(),W=c(),H=v(!1),Y=()=>{y("close"),Oe(),H.value=!1},ae=()=>{H.value=!0},le=v([]),te=v([]),ue=v([]),se=v({}),oe=v("0"),ie=v("0"),re=v(""),de=v(0),ne=v(""),ce=v(1),ve=v(0),me=v([]),pe=v({}),fe=v(1),ge=v(0),ke=v([]),ye=v([]),be=v(0),_e=v(0),he=v(0),Ie=v({productId:0,grouponPromotionId:0,grouponPromotionItemId:0,grouponDetailId:0}),xe=v({grouponPromotionId:0,grouponPromotionItemId:0,groupNumKey:0,grouponDetailId:0,price:0,grouponPromotionRecordId:0}),Ne=v([]),Ve=l(()=>{var e;if(!_e.value)return;if(!Ne.value)return;const a=(null==(e=se.value)?void 0:e.skuId)||0,l=Ne.value.find(e=>e.skuId===a);return xe.value.grouponDetailId=(null==l?void 0:l.grouponDetailId)||0,l||void 0}),Se=l(()=>{if(!_e.value)return[];if(!Ve.value)return[];de.value=Ve.value.limitNum||0;const e=Ve.value.laders.find(e=>e.grouponNumKey===he.value);return oe.value=null==e?void 0:e.price,xe.value.grouponDetailId=Ve.value.grouponDetailId,d.grouponRecordInfo.grouponPromotionRecordId?e?[e]:[]:Ve.value.laders||[]}),Pe=v(!1),$e=()=>{var e;if(d.type)return Pe.value=!1,void y("loadEnd");if(d.modelValue&&0!==de.value)try{if(Pe.value&&(ie.value=oe.value,Ie.value.grouponPromotionDetails&&(xe.value.grouponPromotionId=Ie.value.grouponPromotionId,xe.value.grouponPromotionItemId=Ie.value.grouponPromotionItemId,Ne.value=Ie.value.grouponPromotionDetails.map(e=>{let a;const l={skuId:e.skuId,limitNum:e.limitNum,grouponDetailId:e.grouponDetailId,isJoin:e.isJoin,laders:[]};return e.groupPrice&&(a=JSON.parse(e.groupPrice)),a&&a.length&&(l.laders=a.map(e=>{var a;const l=null==(a=Ie.value.groupNums)?void 0:a.find(a=>a.groupNumKey===e.groupNumKey);return{grouponNumKey:e.groupNumKey,grouponNum:null==l?void 0:l.groupNum,price:e.price}})),l}))),Ne.value&&Ne.value.length){if(!Ne.value.some(e=>e.isJoin))return _e.value=0,void Re();const a=(null==(e=se.value)?void 0:e.skuId)||0,l=Ne.value.filter(e=>e.skuId===a)[0];if(l&&1===l.isJoin){let e;l.limitNum<de.value&&(de.value=l.limitNum),e=d.grouponRecordInfo.minGroupNum?l.laders.find(e=>e.grouponNum===d.grouponRecordInfo.minGroupNum):l.laders[0],e?(_e.value=1,he.value=e.grouponNumKey,oe.value=e.price,xe.value.groupNumKey=he.value,xe.value.price=e.price,xe.value.grouponDetailId=l.grouponDetailId,Ie.value.currentGroupNum=e.grouponNum,d.grouponRecordInfo.grouponPromotionRecordId&&(xe.value.grouponPromotionRecordId=d.grouponRecordInfo.grouponPromotionRecordId),Ie.value.orderLimitNum&&Ie.value.orderLimitNum>0&&(ve.value=Ie.value.orderLimitNum>de.value?de.value:Ie.value.orderLimitNum),me.value.length>0&&(De.value=me.value.map(e=>e.split(":")[1]).join(" "))):(_e.value=0,Re())}else _e.value=0,Re();Pe.value&&Oe()}else _e.value=0,Re()}catch(a){b({title:a.message,icon:"none"})}finally{Pe.value=!1,y("loadEnd")}},Ce=()=>{if(le.value.length>0){if(d.skuId>0){const e=te.value.find(e=>e.skuId===d.skuId);if(e){e.skuValue.split("|").forEach((e,a)=>{me.value[a]=e})}}0===me.value.length&&(le.value.forEach((e,a)=>{e.attrList.forEach(e=>{e.checked=!1}),me.value[a]=e.attrList[0].attrName+":"+e.attrList[0].attrValue,e.attrList[0].checked=!0}),re.value=le.value[0].attrList[0].attrPic),Ee()}else te.value.length>0&&(se.value=te.value[0]);d.grouponEnable&&Ie.value&&Ie.value.grouponPromotionItemId?$e():Re()},Ee=()=>{le.value.forEach((e,a)=>{const l=me.value[a];e.attrList.forEach(e=>{const t=`${e.attrName}:${e.attrValue}`;e.checked=l===t;const u=[...me.value];u[a]=t;const s=te.value.find(e=>e.skuValue===u.join("|"));e.skuStock=s?s.skuStock:0})});const e=te.value.find(e=>e.skuValue==me.value.join("|"));e&&(se.value=e)},we=h({id:0}),De=v(""),Le=v(0),Te=v([]),je=v(0),Re=async()=>{if(d.type)return Pe.value=!1,void y("loadEnd");if(d.modelValue){we.id=d.modelValue,we.skuId=se.value.skuId||null,we.extraAttrIds=ye.value.length>0?ye.value.filter(e=>!!e).join(","):"";try{const e=await Q(we);oe.value=e.price,e.originPrice&&(ie.value=e.originPrice),de.value=e.stock,me.value.length>0&&(De.value=me.value.map(e=>e.split(":")[1]).join(" ")),e.promotion.length>0&&Ke(e.promotion),Le.value&&ve.value>0?ce.value=ce.value>ve.value?ve.value:ce.value:0===de.value?ce.value=1:ce.value=ce.value>de.value?de.value:ce.value,Pe.value&&Oe()}catch(e){b({title:e.message,icon:"none"})}finally{Pe.value=!1,y("loadEnd")}}},ze=v({seckillEndTime:"",seckillSales:0,seckillStock:0}),Ae=v({discountEndTime:"",discountPrice:0}),Ke=e=>{Te.value=e.filter(e=>1!==e.type&&6!==e.type&&7!==e.type);const a=e.find(e=>1===e.type),l=e.find(e=>6===e.type);l?(je.value=1,Ae.value.discountEndTime=l.data.item.endTime,Ae.value.discountPrice=l.data.item.discountPrice):(je.value=0,Ae.value={discountEndTime:"",discountPrice:0}),a?(Le.value=1,ze.value.seckillEndTime=a.data.seckillEndTime,ze.value.seckillSales=a.data.item.seckillSales,ze.value.seckillStock=a.data.item.seckillStock,ve.value=a.data.seckillLimitNum,de.value=a.data.item.seckillStock):(Le.value=0,ze.value={seckillEndTime:"",seckillSales:0,seckillStock:0})},Oe=()=>{y("sendValue",{productOriginPrice:ie.value,productPrice:oe.value,productStock:de.value,productNumber:ce.value,productSkuId:se.value.skuId,skuStr:De.value,isSeckill:Le.value,seckillValue:ze.value,promotionList:Te.value,isDiscount:je.value,discountValue:Ae.value,grouponValue:Ie.value,isGroupon:_e.value})},Ue=()=>{Y()},Ge=()=>{Y(),setTimeout(()=>{y("addCardSucceed",!0)},500)},Be=e=>{"minus"===e&&uni.$u.toast(_("商品数量不能小于1")),"plus"===e&&uni.$u.toast(_("库存不足"))},Je=l(()=>k()),qe=e=>{be.value=e},We=v([]);let Qe=null;const Me=v({count:0,total:"0"}),Fe=async()=>{try{const e=await M({id:d.modelValue,skuItem:We.value});Me.value=e}catch(e){console.error(e)}},He=l(()=>"65vh"),Xe=l(()=>"calc(100rpx + 15px + var(--safe-bottom))");return I(()=>d.modelValue,e=>{e&&e>0&&(ce.value=1,me.value=[],se.value={},ye.value=[],be.value=0,Pe.value=!0,(async()=>{try{let e={};"exchange"===d.type?(e=await Z(d.modelValue),pe.value=e.exchangeInfo,de.value=e.exchangeInfo.productStock,oe.value=pe.value.discountsPrice||"0",re.value=pe.value.picUrl||""):(e=await F(d.modelValue),console.log("getProductDetail",e),de.value=e.item.productStock,oe.value=e.item.productPrice||"0",re.value=e.item.picUrl||"",Ie.value=e.grouponDetail),fe.value=e.item.productType,ge.value=e.item.isBuy,ne.value=e.item.productName||"",le.value=e.attrList.spe,ke.value=e.attrList.extra,te.value=e.skuList,k()&&te.value.length>1&&W.bulkPurchase,Ce()}catch(e){b({title:e.message,icon:"none"}),y("loadEnd")}})())},{immediate:!0}),I(()=>d.grouponEnable,e=>{Ce()}),I(()=>d.grouponRecordInfo.grouponPromotionRecordId,e=>{Ce()}),s({handleShowPopup:ae}),(a,l)=>{const s=m,r=t(u("tig-image"),U),n=t(u("format-price"),G),c=C,v=w,y=t(u("uni-icons"),B),b=t(u("uni-number-box"),J),_=t(u("tig-number-box"),X),h=P,I=t(u("tig-popup"),q);return i(),x(N,null,[V(s,{onClick:ae},{default:f(()=>[g(a.$slots,"default",{},void 0,!0)]),_:3}),V(I,{show:H.value,"onUpdate:show":l[7]||(l[7]=e=>H.value=e),"z-index":999,"show-close":!1,onClose:Ue},{default:f(()=>[V(h,{"scroll-y":"true",class:"specification"},{default:f(()=>[V(s,{class:"product-sku-box flex justify-between"},{default:f(()=>[V(s,{class:"product-info"},{default:f(()=>[V(s,{class:"product-info-img",onClick:l[0]||(l[0]=e=>(e=>{if(!e)return;let a=K(e);O({urls:[a],current:a})})(re.value))},{default:f(()=>[V(r,{src:re.value},null,8,["src"])]),_:1}),V(s,{class:"info"},{default:f(()=>[V(s,{class:"price"},{default:f(()=>["exchange"===e.type?(i(),o(s,{key:0,class:"exchange-box"},{default:f(()=>[V(n,{"font-style":{fontSize:"32rpx"},"currency-style":{fontSize:"22rpx"},"decimals-style":{fontSize:"25rpx"},"price-data":oe.value},null,8,["price-data"]),V(c,{class:"exchange-icon"},{default:f(()=>[E("+")]),_:1}),V(v,{class:"exchange-img",src:D(L)("exchange/exchange.png")},null,8,["src"]),V(c,{class:"exchange-text"},{default:f(()=>[E(T(pe.value.exchangeIntegral),1)]),_:1})]),_:1})):(i(),o(n,{key:1,"font-style":{fontSize:"32rpx"},"currency-style":{fontSize:"22rpx"},"decimals-style":{fontSize:"24rpx"},"price-data":oe.value},null,8,["price-data"]))]),_:1}),je.value||Le.value?(i(),o(s,{key:0,class:"ticket"},{default:f(()=>[V(s,{class:"ticket-content"},{default:f(()=>[E(T(Le.value?a.$t("秒杀价"):a.$t("限时折扣")),1)]),_:1})]),_:1})):S("",!0),ie.value&&Number(ie.value)>Number(oe.value)?(i(),o(s,{key:1,class:"del-box"},{default:f(()=>[V(n,{"is-bottom":!1,"price-data":ie.value,"font-style":{"text-decoration":"line-through"}},null,8,["price-data"])]),_:1})):S("",!0),V(s,{class:"name line2"},{default:f(()=>[E(T(ne.value),1)]),_:1})]),_:1})]),_:1}),V(s,{class:"popup-close",onClick:Y},{default:f(()=>[V(y,{type:"closeempty",size:"24",style:{color:"#c8c9cc"}})]),_:1})]),_:1}),D(k)()&&te.value.length>1&&1===D(W).bulkPurchase&&4!==fe.value?(i(),x(N,{key:0},[V(s,{class:"placeholder"}),V(s,{class:"tab"},{default:f(()=>[V(s,{class:j(["tab-item",{active:0===be.value}]),onClick:l[1]||(l[1]=e=>qe(0))},{default:f(()=>[E(T(a.$t("单品采购"))+" ",1),$(V(v,{class:"image",style:{right:"0"},src:D(L)("product/shadow-right.png")},null,8,["src"]),[[R,1===be.value]])]),_:1},8,["class"]),V(s,{class:j(["tab-item",{active:1===be.value}]),onClick:l[2]||(l[2]=e=>qe(1))},{default:f(()=>[E(T(a.$t("批量采购"))+" ",1),$(V(v,{class:"image",style:{left:"0"},src:D(L)("product/shadow-left.png")},null,8,["src"]),[[R,0===be.value]])]),_:1},8,["class"]),V(s,{class:"line",style:z(""+(0===be.value?"left: 0":"right: 0"))},null,8,["style"]),V(s,{class:"subline",style:z(""+(0===be.value?"right: 0":"left: 0"))},null,8,["style"])]),_:1})],64)):S("",!0),$(V(s,null,{default:f(()=>[le.value.length>0?(i(),o(s,{key:0,class:"product-sku-info"},{default:f(()=>[(i(!0),x(N,null,A(le.value,(e,a)=>(i(),o(s,{key:a,class:"sku-item"},{default:f(()=>[V(s,{class:"tit"},{default:f(()=>[E(T(e.attrName),1)]),_:2},1024),V(s,{class:"sku-tag flex"},{default:f(()=>[(i(!0),x(N,null,A(e.attrList,(e,l)=>(i(),o(s,{key:l,class:j("tag "+(e.checked?"checked ":0==e.skuStock?"disabled":"")),onClick:e=>((e,a)=>{const l=le.value[e].attrList[a];0===e&&(re.value=l.attrPic),me.value[e]=l.attrName+":"+l.attrValue,Ee(),d.grouponEnable?$e():Re()})(a,l)},{default:f(()=>[e.attrPicThumb&&0===a?(i(),o(s,{key:0,class:"tag-img"},{default:f(()=>[V(r,{src:e.attrPicThumb},null,8,["src"])]),_:2},1024)):S("",!0),V(s,{class:"tag-text"},{default:f(()=>[E(T(e.attrValue),1)]),_:2},1024)]),_:2},1032,["class","onClick"]))),128))]),_:2},1024)]),_:2},1024))),128))]),_:1})):S("",!0),V(s,{class:"product-sku-info"},{default:f(()=>[V(s,{class:"num-item"},{default:f(()=>[V(s,{class:"tit"},{default:f(()=>[E(T(a.$t("购买数量")),1)]),_:1}),V(s,{class:"sku-num flex align-center"},{default:f(()=>[Le.value&&ve.value>0?(i(),x(N,{key:0},[V(b,{modelValue:ce.value,"onUpdate:modelValue":l[3]||(l[3]=e=>ce.value=e),min:1,max:ve.value,width:60},null,8,["modelValue","max"]),V(s,{class:"stock"},{default:f(()=>[E(T(a.$t("限购"))+"：",1),V(c,{style:{color:"var(--general)"}},{default:f(()=>[E(T(ve.value)+T(a.$t("件")),1)]),_:1})]),_:1})],64)):_e.value&&e.grouponEnable&&ve.value>0?(i(),x(N,{key:1},[V(_,{modelValue:ce.value,"onUpdate:modelValue":l[4]||(l[4]=e=>ce.value=e),min:1,max:ve.value,onOverlimit:Be},null,8,["modelValue","max"]),V(s,{class:"stock"},{default:f(()=>[E(T(a.$t("限购"))+"：",1),V(c,{style:{color:"var(--general)"}},{default:f(()=>[E(T(ve.value)+T(a.$t("件")),1)]),_:1})]),_:1})],64)):(i(),x(N,{key:2},[V(_,{modelValue:ce.value,"onUpdate:modelValue":l[5]||(l[5]=e=>ce.value=e),min:1,max:de.value,onOverlimit:Be},null,8,["modelValue","max"]),V(s,{class:"stock"},{default:f(()=>[E(T(a.$t("库存"))+"：",1),de.value>50?(i(),o(c,{key:0,style:{color:"var(--general)"}},{default:f(()=>[E(T(a.$t("充足")),1)]),_:1})):0===de.value?(i(),o(c,{key:1,style:{color:"var(--general)"}},{default:f(()=>[E(T(a.$t("缺货")),1)]),_:1})):(i(),o(c,{key:2,style:{color:"var(--general)"}},{default:f(()=>[E(T(a.$t("仅剩"))+T(de.value)+"件",1)]),_:1}))]),_:1})],64))]),_:1})]),_:1})]),_:1})]),_:1},512),[[R,1!==be.value]]),$(V(s,null,{default:f(()=>[te.value.length>1?(i(),o(s,{key:0,class:"allskulist"},{default:f(()=>[(i(!0),x(N,null,A(ue.value,e=>(i(),o(s,{key:e.skuId,class:"allskulist-item"},{default:f(()=>[V(s,{class:"left"},{default:f(()=>[V(s,{class:"title line2"},{default:f(()=>[E(T(e.title),1)]),_:2},1024),V(s,{class:"desc"},{default:f(()=>[V(s,{class:"price"},{default:f(()=>[V(n,{"price-data":e.price},null,8,["price-data"])]),_:2},1024),V(s,{class:"line"}),V(s,{class:"stock"},{default:f(()=>[E("库存："+T(e.stock),1)]),_:2},1024)]),_:2},1024)]),_:2},1024),V(s,{class:"right"},{default:f(()=>[V(_,{modelValue:e.num,"onUpdate:modelValue":a=>e.num=a,"button-width":30,min:0,max:e.skuStock,onChange:l[6]||(l[6]=e=>(Qe&&clearTimeout(Qe),void(Qe=setTimeout(()=>{const e=ue.value.filter(e=>e.num);We.value=e.map(e=>({skuId:e.skuId,num:e.num})),Fe()},300))))},null,8,["modelValue","onUpdate:modelValue","max"])]),_:2},1024)]),_:2},1024))),128))]),_:1})):S("",!0)]),_:1},512),[[R,Je.value]]),ke.value.length>0?(i(),o(s,{key:1,class:"product-sku-info attribute"},{default:f(()=>[(i(!0),x(N,null,A(ke.value,(e,a)=>(i(),o(s,{key:a,class:"attribute-item"},{default:f(()=>[V(s,{class:"item-title"},{default:f(()=>[E(T(e.attrName),1)]),_:2},1024),V(s,{class:"item-content"},{default:f(()=>[(i(!0),x(N,null,A(e.attrList,e=>(i(),o(s,{key:e.attributesId,class:j(["item-attr",{checked:ye.value[a]===e.attributesId}]),onClick:p(l=>((e,a)=>{ye.value[e]&&ye.value[e]===a?ye.value[e]=null:ye.value[e]=a,Re()})(a,e.attributesId),["stop"])},{default:f(()=>[V(s,{class:"label"},{default:f(()=>[E(T(e.attrValue),1)]),_:2},1024),V(n,{class:"value","price-data":e.attrPrice},null,8,["price-data"])]),_:2},1032,["class","onClick"]))),128))]),_:2},1024)]),_:2},1024))),128))]),_:1})):S("",!0),_e.value&&e.grouponEnable&&2===Ie.value.groupType&&Se.value.length?(i(),o(s,{key:2,class:"product-sku-info"},{default:f(()=>[V(s,{class:"sku-item"},{default:f(()=>[V(s,{class:"tit"},{default:f(()=>[E(T(a.$t("阶梯")),1)]),_:1}),V(s,{class:"sku-tag flex"},{default:f(()=>[(i(!0),x(N,null,A(Se.value,e=>(i(),o(s,{class:j(["tag",{checked:he.value===e.grouponNumKey}]),onClick:a=>(e=>{he.value=e.grouponNumKey,oe.value=e.price,xe.value.groupNumKey=he.value,xe.value.price=e.price,Ie.value.currentGroupNum=e.grouponNum,Oe()})(e)},{default:f(()=>[V(c,{class:"tag-text"},{default:f(()=>[E(T(e.grouponNum)+T(a.$t("人团")),1)]),_:2},1024)]),_:2},1032,["class","onClick"]))),256))]),_:1})]),_:1})]),_:1})):S("",!0)]),_:1}),4!==fe.value||1!==ge.value?(i(),o(s,{key:0,class:j(["footer",{shadow:Je.value}])},{default:f(()=>[Je.value?(i(),o(s,{key:0,class:"b2b-btn"},{default:f(()=>[V(s,{class:"desc"},{default:f(()=>[V(s,null,{default:f(()=>[E("已选"),V(c,{class:"num"},{default:f(()=>[E(T(Me.value.count),1)]),_:1}),E("件")]),_:1}),V(s,{class:"price"},{default:f(()=>[V(s,null,{default:f(()=>[E("商品金额：")]),_:1}),V(n,{"font-style":{fontSize:"32rpx",color:"var(--general)"},"currency-style":{fontSize:"22rpx",color:"var(--general)"},"decimals-style":{fontSize:"25rpx",color:"var(--general)"},"price-data":Me.value.total},null,8,["font-style","currency-style","decimals-style","price-data"])]),_:1})]),_:1}),V(s,{class:"add_cart"},{default:f(()=>[V(ee,{id:Number(e.modelValue),disabled:0===We.value.length,"sku-item":We.value,"extra-attr-ids":we.extraAttrIds,onCallback:Ge},{default:f(()=>[V(s,{class:j(["btn cart",0===We.value.length?"disabled-div":""])},{default:f(()=>[E(T(a.$t("批量加入购物车")),1)]),_:1},8,["class"])]),_:1},8,["id","disabled","sku-item","extra-attr-ids"]),V(ee,{id:Number(e.modelValue),"sku-item":We.value,disabled:0===We.value.length,"extra-attr-ids":we.extraAttrIds,"is-quick":!0,onCallback:Y},{default:f(()=>[V(s,{class:j(["btn buy-right",0===We.value.length?"disabled-div":""])},{default:f(()=>[E(T(a.$t("立即购买")),1)]),_:1},8,["class"])]),_:1},8,["id","sku-item","disabled","extra-attr-ids"])]),_:1})]),_:1})):(i(),x(N,{key:1},["exchange"===e.type?(i(),o(s,{key:0,class:"exchange-btn"},{default:f(()=>[V(ee,{id:pe.value.id,"sku-id":se.value.skuId,disabled:0==de.value,"extra-attr-ids":we.extraAttrIds,number:ce.value,"is-quick":!0,type:e.type,onCallback:Y},{default:f(()=>[V(s,{class:j(["btn",0===de.value?"disabled-div":""])},{default:f(()=>[E(T(a.$t("立即兑换")),1)]),_:1},8,["class"])]),_:1},8,["id","sku-id","disabled","extra-attr-ids","number","type"])]),_:1})):(i(),x(N,{key:1},[1===fe.value?(i(),x(N,{key:0},[e.grouponEnable&&_e.value?(i(),o(s,{key:0,class:"groupon-btn"},{default:f(()=>[V(ee,{id:Number(e.modelValue),"sku-id":se.value.skuId,disabled:0==de.value,"extra-attr-ids":we.extraAttrIds,number:ce.value,"groupon-data":xe.value,"is-quick":!0,onCallback:Y},{default:f(()=>[V(s,{class:j(["btn",0===de.value?"disabled-div":""])},{default:f(()=>[E(T(a.$t("确定")),1)]),_:1},8,["class"])]),_:1},8,["id","sku-id","disabled","extra-attr-ids","number","groupon-data"])]),_:1})):(i(),o(s,{key:1,class:"add_cart"},{default:f(()=>[V(ee,{id:Number(e.modelValue),"sku-id":se.value.skuId,disabled:0==de.value,"extra-attr-ids":we.extraAttrIds,number:ce.value,onCallback:Ge},{default:f(()=>[V(s,{class:j(["btn cart",0===de.value?"disabled-div":""])},{default:f(()=>[E(T(a.$t("加入购物车")),1)]),_:1},8,["class"])]),_:1},8,["id","sku-id","disabled","extra-attr-ids","number"]),V(ee,{id:Number(e.modelValue),"sku-id":se.value.skuId,disabled:0==de.value,"extra-attr-ids":we.extraAttrIds,number:ce.value,"is-quick":!0,onCallback:Y},{default:f(()=>[V(s,{class:j(["btn buy-right",0===de.value?"disabled-div":""])},{default:f(()=>[E(T(a.$t("立即购买")),1)]),_:1},8,["class"])]),_:1},8,["id","sku-id","disabled","extra-attr-ids","number"])]),_:1}))],64)):(i(),o(s,{key:1,class:"exchange-btn"},{default:f(()=>[V(ee,{id:e.modelValue,"sku-id":se.value.skuId,disabled:0==de.value,"extra-attr-ids":we.extraAttrIds,number:ce.value,"is-quick":!0,type:e.type,onCallback:Y},{default:f(()=>[V(s,{class:j(["btn",0===de.value?"disabled-div":""])},{default:f(()=>[E(T(a.$t("立即购买")),1)]),_:1},8,["class"])]),_:1},8,["id","sku-id","disabled","extra-attr-ids","number","type"])]),_:1}))],64))],64))]),_:1},8,["class"])):S("",!0)]),_:1},8,["show"])],64)}}}),[["__scopeId","data-v-99c97070"]]);export{X as _,Z as a,Y as g,ae as s};

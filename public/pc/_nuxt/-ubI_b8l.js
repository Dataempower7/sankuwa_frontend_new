import{K as e,M as a,N as t,e as l,P as i,c as s,o as r,n,i as o,j as c,dq as u,x as d,bi as v,r as p,y as m,H as y,a2 as g,a5 as f,by as k,a3 as b,F as h,m as w,b as _,be as j,dr as x,ac as T,ab as I,an as $,v as z,h as L,a as N,w as S,E as q,k as R,t as F,d as O,p as E,_ as P}from"./r4GZdGYg.js";import{_ as B}from"./BPBPggU1.js";import{E as H}from"./CLwV_nmn.js";import{a as M,g as U}from"./CSErVTmY.js";import{P as A}from"./BGI8ORZz.js";import"./g8XVjk5f.js";import"./CBKhgGlL.js";import"./DXQ6s2L8.js";import"./Bd103Yf7.js";import"./CIKxL71l.js";import"./DONyGZrs.js";import"./DL5ZnEaR.js";import"./VWWcEZs1.js";import"./YKVlRHu9.js";import"./BNGL4P8m.js";const C=e({animated:{type:Boolean,default:!1},count:{type:Number,default:1},rows:{type:Number,default:3},loading:{type:Boolean,default:!0},throttle:{type:a([Number,Object])}}),K=e({variant:{type:String,values:["circle","rect","h1","h3","text","caption","p","image","button"],default:"text"}}),V=l({name:"ElSkeletonItem"});var D=t(l({...V,props:K,setup(e){const a=i("skeleton");return(e,t)=>(r(),s("div",{class:d([c(a).e("item"),c(a).e(e.variant)])},["image"===e.variant?(r(),n(c(u),{key:0})):o("v-if",!0)],2))}}),[["__file","skeleton-item.vue"]]);const G=l({name:"ElSkeleton"});const J=T(t(l({...G,props:C,setup(e,{expose:a}){const t=e,l=i("skeleton"),u=((e,a=0)=>{if(0===a)return e;const t=v(a)&&Boolean(a.initVal),l=p(t);let i=null;const s=a=>{f(a)?l.value=e.value:(i&&clearTimeout(i),i=setTimeout(()=>{l.value=e.value},a))},r=e=>{"leading"===e?g(a)?s(a):s(a.leading):v(a)?s(a.trailing):l.value=!1};return m(()=>r("leading")),y(()=>e.value,e=>{r(e?"leading":"trailing")}),l})(k(t,"loading"),t.throttle);return a({uiLoading:u}),(e,a)=>c(u)?(r(),s("div",j({key:0,class:[c(l).b(),c(l).is("animated",e.animated)]},e.$attrs),[(r(!0),s(h,null,w(e.count,a=>(r(),s(h,{key:a},[c(u)?b(e.$slots,"template",{key:a},()=>[_(D,{class:d(c(l).is("first")),variant:"p"},null,8,["class"]),(r(!0),s(h,null,w(e.rows,a=>(r(),n(D,{key:a,class:d([c(l).e("paragraph"),c(l).is("last",a===e.rows&&e.rows>1)]),variant:"p"},null,8,["class"]))),128))]):o("v-if",!0)],64))),128))],16)):b(e.$slots,"default",x(j({key:1},e.$attrs)))}}),[["__file","skeleton.vue"]]),{SkeletonItem:D});I(D);const Q={key:0,class:"article-list"},W={class:"col"},X={key:0},Y={class:"right"},Z={class:"col1"},ee={key:0,class:"tips"},ae={class:"col-title"},te={class:"col2"},le={class:"col3"},ie={key:0,class:"time-div"},se={class:"el-page"},re={key:1,class:"loading-data"},ne={class:"loading-bottom"},oe={key:0,class:"article-info"},ce={class:"text-content"},ue={class:"title"},de={class:"time"},ve={key:0,class:"article_content"},pe=["innerHTML"],me={key:1,class:"no-content-data"},ye={class:"navigation"},ge={class:"navigation-btn navigation-btn-left"},fe={class:"text"},ke={class:"navigation-btn navigation-btn-right"},be={class:"text"},he={key:1,class:"loading-data"},we=P(l({__name:"Info",props:{articleName:{type:String,default:""},productList:{type:Array,default:[]}},emits:["update:articleName","update:productList"],setup(e,{emit:a}){const t=$(),l=z(()=>t.currentRoute.value.query.hasOwnProperty("articleId")?"article":t.currentRoute.value.query.hasOwnProperty("categoryId")?"list":"none"),i=p({}),u=p(),d=p(!0),v=p(0),m=L({page:1,size:10,categorySn:""}),g=a,f=async()=>{try{if(d.value=!0,g("update:articleName",""),g("update:productList",[]),"article"===l.value){const e=await M({id:t.currentRoute.value.query.articleId},"newsInfo");Object.assign(i.value,e.item),i.value.prev=e.prev,i.value.next=e.next,g("update:articleName",i.value.articleTitle),g("update:productList",e.productList)}else if("list"===l.value){let e=t.currentRoute.value.query.categoryId;"string"==typeof e&&(m.categorySn=e);const a=await U({...m});u.value=a.records,v.value=a.total}else if("none"===l.value){m.categorySn="zxzx";const e=await U({...m});u.value=e.records,v.value=e.total}}catch(e){E.error(e.message)}finally{d.value=!1}};return y(()=>t.currentRoute.value.query,e=>{f()},{deep:!0,immediate:!0}),(e,a)=>{var t;const p=q,y=B,g=H,k=J;return r(),s("div",null,["list"===c(l)||"none"===c(l)?(r(),s(h,{key:0},[d.value?(r(),s("div",re,[(r(),s(h,null,w(3,e=>N("div",ne,[_(k,{rows:2,animated:""})])),64))])):(r(),s("div",Q,[(null==(t=u.value)?void 0:t.length)>0?(r(),s(h,{key:0},[(r(!0),s(h,null,w(u.value,a=>(r(),s("div",W,[a.articleThumb?(r(),s("div",X,[_(y,{to:"/article/news/list?articleId="+a.articleId},{default:S(()=>[_(p,{src:("imageFormat"in e?e.imageFormat:c(R))(a.articleThumb),fit:"cover",loading:"lazy",style:{transition:"opacity 0.2s linear",width:"120px",height:"80px"}},null,8,["src"])]),_:2},1032,["to"])])):o("",!0),N("div",Y,[N("div",Z,[a.articleTag?(r(),s("div",ee,F(a.articleTag),1)):o("",!0),N("div",ae,[_(y,{to:"/article/news/list?articleId="+a.articleId},{default:S(()=>[O(F(a.articleTitle),1)]),_:2},1032,["to"])])]),N("div",te,F(a.description),1),N("div",le,[a.addTime?(r(),s("div",ie,F(a.addTime),1)):o("",!0),a.link?(r(),n(y,{key:1,to:a.link,class:"link-div"},{default:S(()=>[O(F(e.$t("相关链接")),1)]),_:2},1032,["to"])):o("",!0)])])]))),256)),N("div",se,[_(c(A),{page:m.page,"onUpdate:page":a[0]||(a[0]=e=>m.page=e),size:m.size,"onUpdate:size":a[1]||(a[1]=e=>m.size=e),total:v.value,onCallback:f},null,8,["page","size","total"])])],64)):(r(),n(g,{key:1,description:e.$t("没有内容")},null,8,["description"]))]))],64)):"article"===c(l)?(r(),s(h,{key:1},[d.value?(r(),s("div",he,[_(k,{rows:5,animated:""})])):(r(),s("div",oe,[N("div",ce,[N("div",ue,F(i.value.articleTitle),1),N("div",de,F(e.$t("时间"))+"："+F(i.value.addTime),1),i.value.content?(r(),s("div",ve,[i.value.articleThumb?(r(),n(p,{key:0,src:("imageFormat"in e?e.imageFormat:c(R))(i.value.articleThumb),fit:"cover",loading:"lazy",style:{transition:"opacity 0.2s linear",width:"300px"}},null,8,["src"])):o("",!0),N("div",{class:"v-html",innerHTML:i.value.content},null,8,pe)])):(r(),s("div",me,[_(g,{description:e.$t("没有内容")},null,8,["description"])]))]),N("div",ye,[N("div",ge,[i.value.prev?(r(),n(y,{key:0,to:"/article/news/list?articleId="+i.value.prev.articleId},{default:S(()=>[O("«"+F(e.$t("上一篇"))+"： ",1),N("div",fe,F(i.value.prev.articleTitle),1)]),_:1},8,["to"])):o("",!0)]),N("div",ke,[i.value.next?(r(),n(y,{key:0,to:"/article/news/list?articleId="+i.value.next.articleId},{default:S(()=>[O(F(e.$t("下一篇"))+"： ",1),N("div",be,F(i.value.next.articleTitle),1),a[2]||(a[2]=O(" » "))]),_:1,__:[2]},8,["to"])):o("",!0)])])]))],64)):o("",!0)])}}}),[["__scopeId","data-v-85602b5c"]]);export{we as default};

import{a as N,E as C}from"./Ckzsp_T1.js";import{a as U,E as j}from"./ClRMjIOJ.js";import{E as L}from"./BhwkTUtM.js";import{E as T}from"./B_vjKAZC.js";import{E as z}from"./BsZFmHoh.js";import{aL as V,e as D,ar as O,z as G,r as f,I as M,c as P,o as c,b as l,a as _,w as t,n as g,d as u,t as s,j as A,a6 as H,F as J,p as $,_ as K}from"./BjkHNVA8.js";/* empty css        *//* empty css        *//* empty css        */import"./Ibc-iJtI.js";const ne=n=>V({url:"user/feedback/list",method:"get",params:n,noSkipLogin:!0}),Q=n=>V({url:"user/feedback/submit",method:"post",data:n}),W={class:"dialog-footer"},X=D({__name:"Info",props:{orderId:{type:Number,default:0},type:{type:String,default:""}},emits:["loadFilter"],setup(n,{emit:k}){const v=O(),E=k,I=n,{t:w}=G(),b=f(!0),a=f({}),d=M(),F=async()=>{await d.value.validate();try{b.value=!0,I.type&&(a.value.orderId=Number(v.currentRoute.value.query.orderId),a.value.type=6);const e=await Q({...a.value});await d.value.resetFields(),$.success(w("提交成功")),m.value=!1,E("loadFilter")}catch(e){$.error(e.message)}finally{b.value=!1}},m=f(!1),R=async()=>{m.value=!0,d.value&&await d.value.resetFields()};return(e,o)=>{const p=C,i=j,S=U,y=L,h=N,q=T,B=z;return c(),P(J,null,[l(B,{modelValue:m.value,"onUpdate:modelValue":o[3]||(o[3]=r=>m.value=r),title:e.$t("新增留言"),width:"600"},{footer:t(()=>[_("div",W,[l(q,{type:"primary",onClick:F},{default:t(()=>[u(s(e.$t("提交留言")),1)]),_:1})])]),default:t(()=>[l(h,{ref_key:"formRef",ref:d,model:a.value,class:"form-body","label-suffix":"：","label-width":"auto"},{default:t(()=>[n.type?(c(),g(p,{key:0,label:e.$t("订单编号"),prop:"type"},{default:t(()=>[u(s(A(v).currentRoute.value.query.orderSn),1)]),_:1},8,["label"])):(c(),g(p,{key:1,rules:[{required:!0,message:e.$t("请选择留言类型!")}],label:e.$t("留言类型"),prop:"type"},{default:t(()=>[l(S,{modelValue:a.value.type,"onUpdate:modelValue":o[0]||(o[0]=r=>a.value.type=r)},{default:t(()=>[l(i,{value:0},{default:t(()=>[u(s(e.$t("建议")),1)]),_:1}),l(i,{value:1},{default:t(()=>[u(s(e.$t("投诉")),1)]),_:1}),l(i,{value:3},{default:t(()=>[u(s(e.$t("其他")),1)]),_:1}),l(i,{value:4},{default:t(()=>[u(s(e.$t("店铺投诉")),1)]),_:1}),l(i,{value:5},{default:t(()=>[u(s(e.$t("订单问题")),1)]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["rules","label"])),l(p,{rules:[{required:!0,message:e.$t("请输入主题")}],label:e.$t("主题"),prop:"title"},{default:t(()=>[l(y,{modelValue:a.value.title,"onUpdate:modelValue":o[1]||(o[1]=r=>a.value.title=r),clearable:"",placeholder:e.$t("请输入主题")},null,8,["modelValue","placeholder"])]),_:1},8,["rules","label"]),l(p,{rules:[{required:!0,message:e.$t("请输入内容")}],label:e.$t("留言内容"),prop:"content"},{default:t(()=>[l(y,{modelValue:a.value.content,"onUpdate:modelValue":o[2]||(o[2]=r=>a.value.content=r),row:4,clearable:"",placeholder:e.$t("请输入内容"),type:"textarea"},null,8,["modelValue","placeholder"])]),_:1},8,["rules","label"])]),_:1},8,["model"])]),_:1},8,["modelValue","title"]),_("div",{onClick:R},[H(e.$slots,"default",{},void 0,!0)])],64)}}}),Y=K(X,[["__scopeId","data-v-ad632fc5"]]),de=Object.freeze(Object.defineProperty({__proto__:null,default:Y},Symbol.toStringTag,{value:"Module"}));export{Y as I,de as a,ne as g};

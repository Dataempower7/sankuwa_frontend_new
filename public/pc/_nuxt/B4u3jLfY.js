import{a as e,E as a}from"./Ceu3XlbY.js";import{a as l,E as t}from"./po9zIj7I.js";import{E as u}from"./YKVlRHu9.js";import{E as r}from"./5EY5iYNX.js";import{E as o}from"./C4N9DVAQ.js";import{aH as s,e as d,an as p,z as i,r as m,I as f,c as n,o as v,b as c,a as y,w as b,n as _,d as $,t as V,j as g,a3 as j,F as h,p as k,_ as w}from"./r4GZdGYg.js";/* empty css        */import"./bHTXMzV5.js";const I=e=>s({url:"user/feedback/list",method:"get",params:e,noSkipLogin:!0}),q={class:"dialog-footer"},E=w(d({__name:"Info",props:{orderId:{type:Number,default:0},type:{type:String,default:""}},emits:["loadFilter"],setup(d,{emit:w}){const I=p(),E=w,F=d,{t:S}=i(),U=m(!0),x=m({}),R=f(),z=async()=>{await R.value.validate();try{U.value=!0,F.type&&(x.value.orderId=Number(I.currentRoute.value.query.orderId),x.value.type=6);await(e={...x.value},s({url:"user/feedback/submit",method:"post",data:e}));await R.value.resetFields(),k.success(S("提交成功")),C.value=!1,E("loadFilter")}catch(a){k.error(a.message)}finally{U.value=!1}var e},C=m(!1),N=async()=>{C.value=!0,R.value&&await R.value.resetFields()};return(s,p)=>{const i=a,m=t,f=l,k=u,w=e,E=r,F=o;return v(),n(h,null,[c(F,{modelValue:C.value,"onUpdate:modelValue":p[3]||(p[3]=e=>C.value=e),title:s.$t("新增留言"),width:"600"},{footer:b(()=>[y("div",q,[c(E,{type:"primary",onClick:z},{default:b(()=>[$(V(s.$t("提交留言")),1)]),_:1})])]),default:b(()=>[c(w,{ref_key:"formRef",ref:R,model:x.value,class:"form-body","label-suffix":"：","label-width":"auto"},{default:b(()=>[d.type?(v(),_(i,{key:0,label:s.$t("订单编号"),prop:"type"},{default:b(()=>[$(V(g(I).currentRoute.value.query.orderSn),1)]),_:1},8,["label"])):(v(),_(i,{key:1,rules:[{required:!0,message:s.$t("请选择留言类型!")}],label:s.$t("留言类型"),prop:"type"},{default:b(()=>[c(f,{modelValue:x.value.type,"onUpdate:modelValue":p[0]||(p[0]=e=>x.value.type=e)},{default:b(()=>[c(m,{value:0},{default:b(()=>[$(V(s.$t("建议")),1)]),_:1}),c(m,{value:1},{default:b(()=>[$(V(s.$t("投诉")),1)]),_:1}),c(m,{value:3},{default:b(()=>[$(V(s.$t("其他")),1)]),_:1}),c(m,{value:4},{default:b(()=>[$(V(s.$t("店铺投诉")),1)]),_:1}),c(m,{value:5},{default:b(()=>[$(V(s.$t("订单问题")),1)]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["rules","label"])),c(i,{rules:[{required:!0,message:s.$t("请输入主题")}],label:s.$t("主题"),prop:"title"},{default:b(()=>[c(k,{modelValue:x.value.title,"onUpdate:modelValue":p[1]||(p[1]=e=>x.value.title=e),clearable:"",placeholder:s.$t("请输入主题")},null,8,["modelValue","placeholder"])]),_:1},8,["rules","label"]),c(i,{rules:[{required:!0,message:s.$t("请输入内容")}],label:s.$t("留言内容"),prop:"content"},{default:b(()=>[c(k,{modelValue:x.value.content,"onUpdate:modelValue":p[2]||(p[2]=e=>x.value.content=e),row:4,clearable:"",placeholder:s.$t("请输入内容"),type:"textarea"},null,8,["modelValue","placeholder"])]),_:1},8,["rules","label"])]),_:1},8,["model"])]),_:1},8,["modelValue","title"]),y("div",{onClick:N},[j(s.$slots,"default",{},void 0,!0)])],64)}}}),[["__scopeId","data-v-ad632fc5"]]),F=Object.freeze(Object.defineProperty({__proto__:null,default:E},Symbol.toStringTag,{value:"Module"}));export{E as I,F as a,I as g};

import{_ as re}from"./Drr4mNEN.js";import{_ as ue}from"./paAvucAg.js";import{_ as ce}from"./BipSnJcb.js";import{E as de}from"./BhwkTUtM.js";import{E as me}from"./HneMuvcA.js";import{E as ge}from"./B_vjKAZC.js";import{e as W,g as P,G as pe,f as ve,r as l,y as K,v as we,aF as ke,B as Ce,c,o as A,a as t,i as p,t as s,j as r,b as n,w as i,d as y,x as Q,ad as he,ae as be,n as fe,aG as Be,E as ye,aH as Re,ah as U,aI as Ve,aJ as Ee,aK as Ue,_ as q,q as Fe,k as Se,F as Ie}from"./BjkHNVA8.js";/* empty css        */import{M as Le,_ as Me}from"./DYce8M0P.js";import{_ as Ge}from"./DbAxkXJA.js";import"./C1B8-dXF.js";import"./FYm-MTMW.js";import"./cfDoaBtk.js";import{Q as Ne}from"./OUv6bgZh.js";import{s as ze}from"./x_rD_Ya3.js";import{_ as Ze,e as De}from"./B85mN9rA.js";import"./XdJ5ILcf.js";import"./d3UjsK-T.js";import"./BKu6lkEW.js";import"./BIqqf5dq.js";import"./CH9-T1LE.js";import"./yB3A8U-z.js";import"./CXwPJP5h.js";import"./Bnvi_g-K.js";import"./UVx7YjW9.js";import"./n1vI1_Nv.js";import"./BNVM5YSV.js";const Oe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAbwAAAG8B8aLcQwAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAN/SURBVFiFxZdBaBxVGMd/30wgbSwm1/SwRKlaE0HM1kKVoiB4WlTCPMISYk8qaOnFYluwhIVIa2lP1V56SS2BWd6yRBFaBClStFJLqCBJhaJuD01LKIg0LSk783nYt5KmndnOJMXvNsz3//9/7817M29EVfk/qyuPqFKpeIODg1tFZBuAql6am5u7MjExEWf1kiwzUKvV3lTVT4Fh4IlVt5eAWRGZDILgu3UFmJ6efrK7u/uoqr4HxMAVEZmN43gWwPO8YVUdBrYCnoicXF5e3js2NvbPmgGstVuA74EC8Fscx7tGR0dnH9ZbrVaHPc87BbwAXAPeMMZcTfP30m5WKhUPmAIKqnoMKCaFA7h7RddbAKacR2KlzkCtVvtYVY8CXxtj3kkzWl3W2hngbRHZGwTBsaS+RDprbUFVJ4FbzWbzgyzhAE5zS1UnrbWFzAAi8jqwQVUPl8vlm1kByuXyTVU9DGxwXtkAgKID+TlreLtWaIuZAVS1SGvLXc4L4LSx88oGADwPLBhjbudNd9oF55UZYBHot9ZuygvgtP3OKzPAn7Teai/lBXBaz3llBjgLEMfxK3kBVmjP5gGoApGI7A/DcHPW8DAMN4vIfiByXtkAjDE3RGQf0Of7/smsAE7TJyL7jDE3kvoe5WP0FTAOfAF8Yoy526F/I3AE2A2cNsa8m9af+qEAWFpaeh+46AwvW2t3pITvoLX3dwMXnTa1Op6IGo3GvaGhoXOquh14FvjJWntVVS+JyC8AqvqyOx1taetE5Fyj0bjXyT/1EVhrnwJOATuBpqqeFpGn3fXq2YuB86r6h4iMu8GdB3YZYxK3YSKAtfY14FtgE/ANref/O0C9Xu+PouhFVR1wo/3L9/1fR0ZGFpz2OVrr4C3gNlAyxvzwyADW2kHgR1qr+KMgCE4kjSCtarXah6r6JfA38KoxZm51zwOLsF6v9wNnXPievOEAQRCcEJE9QB9wxnmnAzSbzc9oHcEOBUFwPG/4CojjqnoIKDjvZIAwDAfcArre09Mzudbwdjmv6yIyHobhQCKA7/sHgC5VPVgqle6sF0CpVLqjqgeBLpfxUAABRoHF+fn5qfUKb5fzXHQZ8gBAtVp9BugFLuT5xepUzvMC0Ouy7gfwPG8brO0M2Kna3u0suP9VvCgin0dRNPO4AKIomvF9v1dV/zshZfo5fRz1L43KgKdhFrX9AAAAAElFTkSuQmCC",Ye="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAbwAAAG8B8aLcQwAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAJbSURBVFiFxdc9iBZXGAXgZ6NoYRAFQUUkQZAYLMSEaBYLRUJA7WJeLBX8KwRJFRL8wwhqK4KIGqys3iZE0SaKFusvrqiNiaAWEcVgowgGDGsxs/Jp5tv9ZnZiTjPcO3fOOXPmvXfu7RsaGtIEmTkbCzEXv+N6RDyqy9NX10BmrsN+TK+4/Sd+iIgTrRvIzFk4ihV4hrO4jj/wKRZhGSbhF2yOiCetGMjMiaXYfJzGpoh4WDHuY/yM5RjE4oh4NRL3B6OqF9hdiu+LiFVV4hARD/AVDuAz/Dga8agJZOZCXMMN9I/2RuUzw4nNxYKIuNNtbC8JrMI4bOhFHCLib2zBBEXNdEUvBr7A04i42Yt4BwbwEp+P1cAiRZy1UKZ1qw0DM3C/roES9zFzrAb+U/zvBrpOw8zsV6xse3Eb5xrwr8BH2IXfIuJftVRpIDP3YHsDwZEwhG0RsW9EA5k5X/HG6zUvvip8gkOYFxF3hzvHVwxcir6ION6iuMy8jMNYjDcGqopwcpvCFfiws1GVQE8oNyQ7FL/i2/gpIh7X5Wk0DTNzBs7jL3yP5xjIzGl1uZom8B1ORcS2sn2pFN+KnXWImi5EcxQJdOKsotJroamBQXzzTt8aXKlL1PQTHMSFzPwVJ7EaUxTzvBYaJRARL/Al7uCIYse0JCJevhcDpYlXuFg2ByLinyY8Y/0bXsEZDTYsw2i8EEF5Elo5Fo6qBGp/x5p4i78qgauQmUsUR622MKe8DnZ2dtsPJL5tUXwYxyJiY2dHtxpYg7X4GlNbEL6HoxFx490btU/HbeM1FHm9Y65npM0AAAAASUVORK5CYII=",Te="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAbwAAAG8B8aLcQwAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAFzSURBVFiF7ZexSwMxFMa/3F3a0kLVrZubFAfRraNr15KCtEv/BHVydXBw0a5uXa5Ic7eJ4OZ/IDi5ScGhmyI91Avec2nB4Xq9XNU65JsC+fK9H8kb8hgRYZly5hl6vV6hVCqtZgkPguCl0+m8J3lY0g1IKQ8BHAD4zAIAwAZw3mw2z7QB+v3+Guf8LgzDrXa7/Zqluuu65Vwud6+U2mm1Ws9xnplPwDlfBzDK5/M1KeUFAKZZP3IcRwAYTbL0AL5pE8AVgBOd6kR0atv2xrwmTwMAxlgghBjpAAwGg7c0Pksn9DdkAAyAATAABsAAGIClA6T6kBBRTUp5pBPMGNsGcLswgGVZXhRFK1EUFTQBrsMwvOGc7y8E0Gg0ngAcx+15nrcHAEKIy1nnpZSJ+Zl7wPf9KhF1iajr+341a06qHohTsVh8HI/HD9P1jwMopYac84rruuW4waRer38A2E0KnwwmFaXUcJbn/45mUy11OP0LfQH1UI9HR+JVhwAAAABJRU5ErkJggg==",Xe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAbwAAAG8B8aLcQwAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAIjSURBVFiF7ZY/iBNBFMa/mb0YEPFSbCIniNeJpSCx3avtkp1FBK84MNjFQvCsrQSLAyuDFopIkreLKQK2C6KQCFrEwkoQ5K7YgOk23MZ9FncLm5hczB9MwHzlzPC+38x782YEM2ORkgt1XwGsAACsDRsslUqJVCqVlVIm5mEShmHQ6XSahUIhGJwTg9eQiG4CeAxgYx7mMR0AuKeUej0SwHXdNc/zvgM4YOY9IcQfxNOImRNCiLsANtLp9EXDMHrRXF8K2u12FsB5ALuWZb2ah3kkIhIAXh57fIjGB4vwFABEOyeidSLKTmtaLpc3iehSPGbkMQqgT8y8BaBBRDYRrU9ibtv2tqZpXwA8PWndiQCZTKYuhHgEIAfgk+M4V8cZ1+v107ZtP2fmFwC+SSnvTA1gGEbPNM1dIcR1AGfDMHxPRMVR6yuVymXf9xvMvMPMzwBcy+fzX6cGiGSa5ltN064AaALYI6I3tVotFV9j2/a2lPIjgE1mvmVZ1m2llD8u9tBGNEy5XO6H67pbnuc9BHA/CILPjuPcSCaTrW63+4SZdwC0pJTWuF3HNVErNgyjp5R6cJySM2EYvvN9vzXJkc8EECmWkgaAc5Mc+VwAgKOUADCCILgwS9P66xoYJqXULwA/Z4mx8Od46QAOgaPXa95GsZiH8fG+GtB1vel53j6AYrVa5Tk/x0UA+7quN+Nzy/UhibTQL9m/1tLdghXA/wfwG5UF+daMCa/TAAAAAElFTkSuQmCC",Je="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGoAAABqCAYAAABUIcSXAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2hpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDpDRUJDNUJGMUNGRDlFNDExQjEyNUNBNjVFNTJGM0U4QiIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpDNTREQjI3NDNERTgxMUU3OTE2OUZBMDQ1MTdFNTJGRCIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpDNTREQjI3MzNERTgxMUU3OTE2OUZBMDQ1MTdFNTJGRCIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M2IChNYWNpbnRvc2gpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6MDE4MDExNzQwNzIwNjgxMTgyMkFCNzNBRTc2REZEOUIiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6Q0VCQzVCRjFDRkQ5RTQxMUIxMjVDQTY1RTUyRjNFOEIiLz4gPC9yZGY6RGVzY3Jp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",He={class:"login-center flex align-center justify-end"},je={class:"login_border"},xe={key:0,class:"login-main"},Ke={class:"login-title-box"},Qe={class:"login-title"},We={key:0,class:"register-box"},Pe={class:""},qe={class:"login-top flex align-center justify-between"},_e={class:"login-tab flex align-center hand-pointer"},$e={class:"login-body"},eo={key:0,class:"login-mode-normal"},oo={class:"login-input flex align-center"},to={class:"login-input flex align-center"},lo={class:"login-mode-normal"},ao={class:"login-input flex align-center"},no={key:1,src:Te},so={class:"login-input flex align-center"},io={key:1,class:"error-notice"},Ao={class:"agreement-box"},ro={class:"login_last"},uo={key:2,class:"forget-text"},co={key:3,class:"login_bottom"},mo={class:"tit"},go={class:"other-login"},po={key:1,class:"login-main wechat-main"},vo={class:"tow-title"},wo=W({__name:"BaseLogin",setup(_){const v=P(),F=pe(),b=F.query.returnUrl?String(F.query.returnUrl):"/",u=ve();u.loadNav();const d=l(1),w=l(""),k=l(""),m=l(""),C=l(""),S=l(!1),I=l(!1),N=l(""),z=l(),h=l(""),Z=l(0),D=l(0),L=l(!1),R=l("86");K(()=>{le()});const M=()=>{if(!L.value)return h.value="请同意服务协议和隐私政策";ee()},O=l(""),$=async()=>{try{const e=await Ue();O.value=e}catch(e){console.error("获取CSRF Token失败:",e)}},ee=async()=>{try{I.value=!0,await $();const e=await Re({loginType:d.value===1?"password":"mobile",username:w.value,password:k.value,mobile:u.isOpenMobileAreaCode?R.value+m.value:m.value,mobileCode:C.value,verifyToken:N.value},{"X-CSRF-Token":O.value});v.setToken(e.token),v.userInfoLoaded=!1,U(b,{replace:!0})}catch(e){e.code==1002?z.value.show():e.code>0&&(h.value=e.message)}finally{I.value=!1}},oe=e=>{N.value=e.verifyToken,M()},Y=we(()=>d.value==1?w.value==""||k.value=="":m.value==""||C.value==""||S.value==!1),T=e=>{d.value=e,h.value=""},te=e=>{h.value=e},le=async()=>{const e=await ke();Z.value=e.showOauth,D.value=e.wechatLogin},X=l(!1),f=l(1),J=l(""),V=l(0),H=l("");let g;const G=async()=>{X.value=!0,f.value=2;try{const e=await Ve();e.url&&(H.value=e.ticket,await ne(e.url),g&&clearInterval(g),V.value=0,g=ze(()=>{V.value++,se()},1e3))}catch(e){console.log(e)}finally{X.value=!1}},ae=()=>{f.value=1,clearInterval(g),g=null,V.value=0},ne=async e=>{const o=e;let B={margin:10};J.value=await Ne.toDataURL(o,B)},se=async()=>{const e=await Ee({key:H.value});(e.type>0||f.value!==2)&&(clearInterval(g),g=null,V.value=0),e.type==1&&(v.setToken(e.token),v.userInfoLoaded=!1,U("/member",{replace:!0})),e.type==2&&u.wechatRegisterBindPhone===1&&(v.openData=e.openData,U("/member/BindMobilePhone"))};function j(e){e.key==="Enter"&&!Y.value&&(console.log("Enter key pressed"),M())}return K(()=>{document.addEventListener("keydown",j)}),Ce(()=>{document.removeEventListener("keydown",j),g&&clearInterval(g)}),(e,o)=>{const B=ce,E=de,ie=me,x=ge,Ae=ye;return A(),c("div",He,[t("div",je,[f.value==1?(A(),c("div",xe,[t("div",Ke,[t("div",Qe,s(e.$t("欢迎登录")),1),r(u).shopRegClosed===0?(A(),c("div",We,[t("span",Pe,s(e.$t("没有账号？")),1),n(B,{class:"register-main-text",to:"/member/register/"},{default:i(()=>[y(s(e.$t("去注册")),1)]),_:1})])):p("",!0)]),t("div",qe,[t("div",_e,[t("div",{class:Q([d.value==1?"login-on":"","login_mode"]),onClick:o[0]||(o[0]=a=>T(1))},s(e.$t("普通登录")),3),t("div",{class:Q([d.value==2?"login-on":"","login_mode"]),onClick:o[1]||(o[1]=a=>T(2))},s(e.$t("手机登录")),3)])]),t("div",$e,[d.value==1?(A(),c("div",eo,[t("div",oo,[n(E,{modelValue:w.value,"onUpdate:modelValue":o[2]||(o[2]=a=>w.value=a),clearable:"",placeholder:e.$t(r(u).openEmailRegister===1?"用户名/手机/邮箱":"用户名/手机"),type:"text"},{prefix:i(()=>o[12]||(o[12]=[t("img",{src:Oe},null,-1)])),_:1},8,["modelValue","placeholder"])]),t("div",to,[n(E,{modelValue:k.value,"onUpdate:modelValue":o[3]||(o[3]=a=>k.value=a),placeholder:e.$t("密码"),"show-password":"",type:"password"},{prefix:i(()=>o[13]||(o[13]=[t("img",{src:Ye},null,-1)])),_:1},8,["modelValue","placeholder"])])])):p("",!0),he(t("div",lo,[t("div",ao,[n(E,{modelValue:m.value,"onUpdate:modelValue":o[5]||(o[5]=a=>m.value=a),clearable:"",placeholder:e.$t("您的手机号"),type:"text"},{prefix:i(()=>[r(u).isOpenMobileAreaCode?(A(),fe(Ge,{key:0,modelValue:R.value,"onUpdate:modelValue":o[4]||(o[4]=a=>R.value=a)},null,8,["modelValue"])):(A(),c("img",no))]),_:1},8,["modelValue","placeholder"])]),t("div",so,[n(E,{modelValue:C.value,"onUpdate:modelValue":o[8]||(o[8]=a=>C.value=a),placeholder:e.$t("请输入验证码"),type:"text"},{prefix:i(()=>o[14]||(o[14]=[t("img",{src:Xe},null,-1)])),suffix:i(()=>[n(r(Le),{mobile:r(u).isOpenMobileAreaCode?R.value+m.value:m.value,mobileCode:C.value,"onUpdate:mobileCode":o[6]||(o[6]=a=>C.value=a),mobileCodeSended:S.value,"onUpdate:mobileCodeSended":o[7]||(o[7]=a=>S.value=a),requestApi:r(Be),class:"mobile-code-text",onMobileErrorCallback:te},null,8,["mobile","mobileCode","mobileCodeSended","requestApi"])]),_:1},8,["modelValue","placeholder"])])],512),[[be,d.value===2]]),h.value?(A(),c("div",io,s(h.value),1)):p("",!0),t("div",Ao,[n(ie,{modelValue:L.value,"onUpdate:modelValue":o[9]||(o[9]=a=>L.value=a)},{default:i(()=>[t("span",null,s(e.$t("我已阅读并同意")),1),n(B,{class:"agreement-link",target:"_blank",to:"/article/issue/info?articleSn=fwxy"},{default:i(()=>[y("《"+s(e.$t("服务协议"))+"》 ",1)]),_:1}),t("span",null,s(e.$t("和")),1),n(B,{class:"agreement-link",target:"_blank",to:"/article/issue/info?articleSn=ysxy"},{default:i(()=>[y("《"+s(e.$t("隐私协议"))+"》 ",1)]),_:1})]),_:1},8,["modelValue"])]),t("div",ro,[n(x,{disabled:r(Y),loading:I.value,class:"login_btn submit_btn",type:"primary",onClick:M},{default:i(()=>[y(s(e.$t("登录")),1)]),_:1},8,["disabled","loading"])]),d.value===1?(A(),c("div",uo,[t("a",{onClick:o[10]||(o[10]=a=>e.$router.push("/member/reset"))},s(e.$t("忘记密码？")),1)])):p("",!0),Z.value===1&&r(u).openWechatOauth===1&&r(u).openWechatPcLogin===1?(A(),c("div",co,[t("div",mo,s(e.$t("合作网站账号登录")),1),t("li",go,[D.value==1?(A(),c("a",{key:0,onClick:G},o[15]||(o[15]=[t("img",{height:"32",src:Je,width:"32"},null,-1)]))):p("",!0)])])):p("",!0),n(Me,{ref_key:"verify",ref:z,imgSize:{width:"310px",height:"155px"},captchaType:"blockPuzzle",mode:"pop",onOkCallback:oe},null,512)]),r(u).openWechatOauth===1&&r(u).openWechatPcLogin===1?(A(),c("div",{key:0,onClick:G,class:"qiehuan1"})):p("",!0)])):p("",!0),f.value==2?(A(),c("div",po,[t("div",vo,s(e.$t("使用微信扫码安全登录")),1),t("div",null,[n(Ae,{fit:"cover",class:"two-image",src:J.value},{placeholder:i(()=>o[16]||(o[16]=[t("div",{class:"image-text"},"加载中...",-1)])),error:i(()=>o[17]||(o[17]=[t("div",{class:"image-text"},"加载中...",-1)])),_:1},8,["src"])]),t("div",null,[n(x,{style:{width:"140px"},type:"primary",onClick:o[11]||(o[11]=a=>G())},{default:i(()=>[y(s(e.$t("刷新二维码")),1)]),_:1})]),t("div",{onClick:ae,class:"qiehuan"})])):p("",!0)])])}}}),ko=q(wo,[["__scopeId","data-v-80a6a433"]]),Co=W({__name:"Login",setup(_){P().isAuthenticated&&U("/",{replace:!0});const v=l("");return(async()=>{try{const b=await De({decorateSn:"pcUserLogin"});v.value=b.data.backgroundPic.picUrl}catch{}})(),(b,u)=>{const d=re,w=ue,k=ko,m=Ze;return A(),c(Ie,null,[n(d,{title:"登录"}),n(w,{type:"login"}),t("div",{style:Fe({backgroundImage:`url(${r(Se)(r(v))})`}),class:"login-warp"},[n(k)],4),n(m,{type:2})],64)}}}),Ko=q(Co,[["__scopeId","data-v-82ee2567"]]);export{Ko as default};

import{b as U}from"./5VTus1_X.js";import{_ as B}from"./Drr4mNEN.js";import{_ as E}from"./DUyqL_E3.js";import{_ as M}from"./CrI35J-I.js";import{_ as H}from"./CBcH1uzJ.js";import{e as j,z as x,f as O,r as y,h as I,y as R,ar as q,c as a,o as s,b as l,a as t,ad as G,t as n,F as i,m as S,d as p,n as F,w as u,E as J,j as _,k as K,s as Q,i as h,p as W,_ as X}from"./BjkHNVA8.js";import{_ as Y}from"./BipSnJcb.js";import{E as Z}from"./B_vjKAZC.js";import{_ as oo}from"./B85mN9rA.js";import{v as to}from"./DWKyHDnW.js";import{b as eo}from"./BW8dCpPB.js";import{P as so}from"./BmiGu4wZ.js";import{I as g}from"./T8cFYL0q.js";import"./CM_M6Xgj.js";import"./n1vI1_Nv.js";import"./ClRMjIOJ.js";import"./BKu6lkEW.js";import"./BIqqf5dq.js";import"./CH9-T1LE.js";import"./CXwPJP5h.js";import"./d3UjsK-T.js";import"./FYm-MTMW.js";import"./cfDoaBtk.js";import"./C1B8-dXF.js";import"./Bnvi_g-K.js";import"./yB3A8U-z.js";import"./UVx7YjW9.js";import"./BzIkMksr.js";/* empty css        */import"./Csy7st1x.js";import"./BhwkTUtM.js";import"./Ibc-iJtI.js";/* empty css        */import"./XdJ5ILcf.js";import"./BNVM5YSV.js";import"./Ckzsp_T1.js";import"./BsZFmHoh.js";/* empty css        */import"./BBhWvQCB.js";const ao={class:"container flex"},no={class:"menu"},ro={class:"info-row"},lo={class:"title-or-tabs"},io={class:"tag-and-input"},po={class:"tig-tabs"},mo={class:"finished-order-content"},co={class:"table-head"},uo={class:"item-op"},_o={class:"item-op"},fo={class:"item-op"},vo={class:"card-list"},yo={class:"custom-table",style:{"margin-top":"20px"}},ho={class:"table-header"},go={class:"header-cell",colspan:"3"},bo={class:"font-color"},ko={class:"body-tr"},$o={style:{width:"110px"}},Io={key:0,style:{color:"green"}},So={key:1,style:{color:"green"}},Fo={key:2,style:{color:"red"}},Vo={key:1},Lo={key:1},zo={style:{width:"110px"}},wo={class:"font-color cup"},Ao={class:"font-color cup"},Co={class:"el-page"},Do={key:1,class:"no-result"},No={key:0},Po=j({__name:"List",setup(To){const{t:Uo}=x(),b=O(),k=y([]),f=y(!0),v=y(0),m=I({page:1,orderStatus:5}),c=async()=>{f.value=!0;try{const e=await eo({...m});k.value=e.records,v.value=e.total}catch(e){W.error(e.message)}finally{f.value=!1}};R(()=>{c()}),q();const V=I([{value:"发票申请",url:"/member/orderInvoice/list",size:0},{value:"增票资质",url:"/member/userInvoice/info",size:0}]);return(e,r)=>{const L=U,z=B,w=E,A=M,$=H,C=J,D=Y,N=Z,P=oo,T=to;return s(),a(i,null,[l(L),l(z,{title:"发票申请"}),t("div",ao,[t("div",no,[l(w)]),t("div",ro,[t("div",lo,[t("div",io,[t("div",po,[l(A,{menuList:V},null,8,["menuList"])])])]),t("div",mo,[t("div",co,[t("div",uo,n(e.$t("商品名称")),1),t("div",_o,n(e.$t("状态")),1),t("div",fo,n(e.$t("操作")),1)]),G((s(),a("div",vo,[v.value>0?(s(),a(i,{key:0},[(s(!0),a(i,null,S(k.value,o=>(s(),a("table",yo,[t("thead",ho,[t("tr",null,[t("th",go,[p(n(e.$t("订单号"))+"：",1),t("span",bo,n(o.orderSn),1),r[2]||(r[2]=p()),r[3]||(r[3]=t("span",{class:"ml10"},null,-1)),p(n(e.$t("下单时间"))+"："+n(o.addTime)+" ",1),r[4]||(r[4]=t("span",{class:"ml10"},null,-1)),p(n(e.$t("总金额"))+"： ",1),l($,{modelValue:o.totalAmount,"onUpdate:modelValue":d=>o.totalAmount=d,fontStyle:{color:"var(--price)"},showText:!1},null,8,["modelValue","onUpdate:modelValue"]),p(" ("+n(e.$t("运费"))+"： ",1),l($,{modelValue:o.shippingFee,"onUpdate:modelValue":d=>o.shippingFee=d,fontStyle:{color:"#999"},showText:!1},null,8,["modelValue","onUpdate:modelValue"]),r[5]||(r[5]=p(" ) ",-1))])])]),t("tbody",null,[t("tr",ko,[t("td",null,[(s(!0),a(i,null,S(o.items,d=>(s(),F(D,{title:d.productName,to:_(Q)({path:"product",id:d.productId,sn:d.productSn}),class:"nuxt",target:"_blank"},{default:u(()=>[l(C,{src:("imageFormat"in e?e.imageFormat:_(K))(d.picThumb),class:"image",loading:"lazy"},null,8,["src"])]),_:2},1032,["title","to"]))),256))]),t("td",$o,[_(b).canInvoice==1?(s(),a(i,{key:0},[o.invoiceData?(s(),a(i,{key:0},[o.invoiceData.status===0?(s(),a("span",Io,n(e.$t("待审核")),1)):o.invoiceData.status===1?(s(),a("span",So,n(e.$t("通过")),1)):(s(),a("span",Fo,n(e.$t("失败/作废")),1))],64)):(s(),a("span",Vo,n(e.$t("可申请")),1))],64)):(s(),a("span",Lo,n(e.$t("不可申请")),1))]),t("td",zo,[_(b).canInvoice==1?(s(),a(i,{key:0},[o.invoiceData?(s(),a(i,{key:0},[l(g,{params:{orderId:o.orderId,amount:o.balance,orderSn:o.orderSn,totalAmount:o.totalAmount,type:"info"},onLoadFilter:c},{default:u(()=>[t("span",wo,n(e.$t("查看")),1)]),_:2},1032,["params"]),o.invoiceData.status!==1?(s(),a(i,{key:0},[r[6]||(r[6]=p("｜ ",-1)),l(g,{params:{orderId:o.orderId,amount:o.balance,orderSn:o.orderSn,totalAmount:o.totalAmount,type:"reapply"},onLoadFilter:c},{default:u(()=>[t("span",Ao,n(e.$t("重新申请")),1)]),_:2},1032,["params"])],64)):h("",!0)],64)):(s(),F(g,{key:1,params:{orderId:o.orderId,amount:o.balance,orderSn:o.orderSn,totalAmount:o.totalAmount,type:"apply"},onLoadFilter:c},{default:u(()=>[l(N,{size:"small",type:"primary"},{default:u(()=>[p(n(e.$t("发票申请")),1)]),_:1})]),_:2},1032,["params"]))],64)):h("",!0)])])])]))),256)),t("div",Co,[l(_(so),{page:m.page,"onUpdate:page":r[0]||(r[0]=o=>m.page=o),size:m.size,"onUpdate:size":r[1]||(r[1]=o=>m.size=o),total:v.value,onCallback:c},null,8,["page","size","total"])])],64)):(s(),a("div",Do,[f.value?h("",!0):(s(),a("span",No,n(e.$t("还没有可申请订单")),1))]))])),[[T,f.value]])])])]),l(P)],64)}}}),$t=X(Po,[["__scopeId","data-v-d599aa19"]]);export{$t as default};

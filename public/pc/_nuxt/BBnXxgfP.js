import{b as j}from"./5VTus1_X.js";import{_ as z}from"./Drr4mNEN.js";import{_ as B}from"./DUyqL_E3.js";import{E}from"./B_vjKAZC.js";import{_ as R}from"./BipSnJcb.js";import{_ as q}from"./CBcH1uzJ.js";import{_ as H}from"./B85mN9rA.js";import{e as G,f as J,z as K,ar as Q,r as V,v as W,c as n,o as a,b as u,a as t,i,t as o,w as p,d as c,j as g,s as X,n as f,F as v,m as k,q as S,k as Y,p as b,an as I,_ as Z}from"./BjkHNVA8.js";import{f as x,c as ee,a as te}from"./BW8dCpPB.js";import{L as se}from"./Yx7WDtrd.js";import"./CM_M6Xgj.js";import"./n1vI1_Nv.js";import"./ClRMjIOJ.js";import"./BKu6lkEW.js";import"./BIqqf5dq.js";import"./CH9-T1LE.js";import"./CXwPJP5h.js";import"./d3UjsK-T.js";import"./FYm-MTMW.js";import"./cfDoaBtk.js";import"./C1B8-dXF.js";import"./Bnvi_g-K.js";import"./yB3A8U-z.js";import"./UVx7YjW9.js";import"./BzIkMksr.js";/* empty css        */import"./Csy7st1x.js";import"./BhwkTUtM.js";import"./Ibc-iJtI.js";/* empty css        */import"./XdJ5ILcf.js";import"./BNVM5YSV.js";const oe={class:"container flex"},le={class:"menu"},ae={class:"info-row"},ne={class:"title-or-tabs right-info"},re={key:0},ie={class:"order-info"},ue={class:"page-info-body lr"},de={class:"order-left"},ce={key:0,style:{"margin-left":"40px"}},pe={class:"font-color"},me={style:{"margin-left":"40px"}},ve={key:0},_e={key:0},he={key:1},ye={class:"order-right"},fe={key:1},ke={class:"page-info-body"},ge={class:"sub-title"},be={class:"tig-steps"},$e={style:{"font-weight":"600"}},Ve={class:"page-info-body"},Se={class:"sub-title"},Ie={class:"order-ul",style:{"margin-top":"20px"}},Ae={key:0},Ne={key:1,class:"virtualsample"},Ce=["innerHTML"],Fe={key:0,class:"page-info-body"},Te={class:"sub-title"},Ue={class:"sub-sub-title"},we={key:0,class:"order-ul virtualsample-box"},De={class:"item"},Oe={class:"item"},Pe={class:"page-info-body"},Le={class:"sub-title"},Me={class:"order-table-info"},je={class:"receipt-header"},ze={key:0},Be={class:"receipt-body"},Ee={class:"receipt-item"},Re=["alt","src"],qe={key:0,class:"sku-style"},He={key:1,class:"extraskudata"},Ge={class:"title"},Je={class:"content"},Ke={class:"content-text"},Qe={class:"num"},We={class:"receipt-item price"},Xe={class:"receipt-item price"},Ye={class:"receipt-item price"},Ze={key:0,class:"receipt-item operation"},xe={class:"receipt-footer"},et=["colspan"],tt={class:"receipt-footer-it one",colspan:"2"},st={class:"item"},ot={class:"label"},lt={class:"text"},at={key:0,class:"item"},nt={class:"label"},rt={class:"text"},it={key:1,class:"item"},ut={class:"label"},dt={class:"text"},ct={key:2,class:"item"},pt={class:"label"},mt={class:"text"},vt={key:3,class:"item"},_t={class:"label"},ht={class:"text"},yt={key:4,class:"item"},ft={class:"label"},kt={class:"text"},gt={key:5,class:"item"},bt={class:"label"},$t={class:"text"},Vt={key:6,class:"item"},St={class:"label"},It={class:"text"},At={class:"item"},Nt={key:0},Ct={key:1},Ft=G({__name:"Info",setup(Tt){const A=J(),{t:_}=K(),N=Q(),e=V({orderStatus:0,availableActions:{}}),C=V(!0),F=W(()=>{let s=!1;return e.value.items?.forEach(r=>{r.eCard&&r.eCard.length>0&&(s=!0)}),s}),$=async()=>{try{const s=await x({id:N.currentRoute.value.query.id});Object.assign(e.value,s)}catch(s){b.error(s.message)}finally{C.value=!1}};$();const T=V(["您的订单已提交成功，请尽快完成付款哦！","感谢您在本店的购物，您的订单已提交成功，我们会尽快为您发货！","您的订单已经发货，请注意查收，祝您购物愉快！",'您的订单已被取消，您可以通过"再次购买"，重新购买订单中的商品。','您的订单被认定为无效订单，订单已被关闭。您可以通过"再次购买"，重新购买订单中的商品。给您造成的不便请多多谅解！',"您的订单已经确认收货，感谢您在本店购物，祝您生活愉快！"]),U=async()=>{I.confirm({title:_("确认要取消该订单吗"),cancelText:_("取消"),okText:_("确定"),maskClosable:!0,centered:!0,onOk:async()=>{try{const s=await ee({id:e.value.orderId});b.success(_("取消订单成功")),await $()}catch(s){b.error(s.message)}finally{}}})},w=async()=>{I.confirm({title:_("确认要收货吗"),cancelText:_("取消"),okText:_("确定"),maskClosable:!0,centered:!0,onOk:async()=>{try{const s=await te({id:e.value.orderId});await $()}catch(s){b.error(s.message)}finally{}}})};return(s,r)=>{const D=j,O=z,P=B,h=E,y=R,m=q,L=H;return a(),n(v,null,[u(D,{showService:!0,phone:e.value.shop?e.value.shop.kefuPhone:"",orderId:e.value.orderId,shopId:e.value.shopId},null,8,["phone","orderId","shopId"]),u(O,{title:"订单详情"}),t("div",oe,[t("div",le,[u(P)]),t("div",ae,[t("div",ne,[t("span",null,o(s.$t("订单详情")),1),e.value.availableActions.splitOrder?i("",!0):(a(),n("div",re,[u(y,{to:"/member/feedback/askList?orderId="+e.value.orderId+"&orderSn="+e.value.orderSn},{default:p(()=>[u(h,null,{default:p(()=>[c(o(s.$t("订单留言/咨询")),1)]),_:1})]),_:1},8,["to"])]))]),t("div",ie,[t("div",ue,[t("div",de,[t("div",null,[t("span",null,[c(o(s.$t("订单号"))+"：",1),t("strong",null,o(e.value.orderSn),1)]),e.value.shop&&e.value.shop.shopTitle?(a(),n("span",ce,[c(o(s.$t("下单店铺"))+"：",1),u(y,{to:("urlFormat"in s?s.urlFormat:g(X))({path:"shop",id:e.value.shopId}),target:"_blank"},{default:p(()=>[t("span",pe,o(e.value.shop.shopTitle),1)]),_:1},8,["to"])])):i("",!0),t("span",me,[c(o(s.$t("订单状态"))+"： ",1),t("strong",null,[c(o(s.$t(e.value.orderStatusName||""))+" ",1),e.value.joinStatusDesc&&e.value.joinStatus!==1?(a(),n("span",ve," ("+o(s.$t(","+e.value.joinStatusDesc))+") ",1)):i("",!0)])])]),e.value.autoDeliveryDays?(a(),n("div",_e,o(s.$t("订单将在"))+o(e.value.autoDeliveryDays)+o(s.$t("天后自动收货")),1)):(a(),n("div",he,o(s.$t(T.value[e.value.orderStatus]||"")),1))]),t("div",ye,[e.value.availableActions.cancelOrder?(a(),f(h,{key:0,onClick:U},{default:p(()=>[c(o(s.$t("取消订单")),1)]),_:1})):i("",!0),e.value.availableActions.toPay?(a(),n("div",fe,[u(y,{to:"/order/pay/?id="+e.value.orderId,target:"_balnk"},{default:p(()=>[u(h,{type:"primary"},{default:p(()=>[c(o(s.$t("付款")),1)]),_:1})]),_:1},8,["to"])])):i("",!0),e.value.availableActions.confirmReceipt?(a(),f(h,{key:2,type:"primary",onClick:w},{default:p(()=>[c(o(s.$t("确认收货")),1)]),_:1})):i("",!0),e.value.availableActions.toAftersales?(a(),f(y,{key:3,target:"_blank",to:"/member/return/Info?orderId="+e.value.orderId},{default:p(()=>[u(h,null,{default:p(()=>[c(o(s.$t("整单售后")),1)]),_:1})]),_:1},8,["to"])):i("",!0)])]),t("div",ke,[t("div",ge,o(s.$t("订单状态")),1),t("div",be,[(a(!0),n(v,null,k(e.value.stepStatus?.steps,(l,d)=>(a(),n(v,null,[t("div",{style:S({color:d<=e.value.stepStatus?.current?"var(--general)":"#c4c4c4",border:d<=e.value.stepStatus?.current?"4px solid var(--general)":"4px solid #eee"}),class:"steps-card"},[t("div",$e,o(d+1),1),t("div",{style:S({color:d<=e.value.stepStatus?.current?"var(--general)":"#333"}),class:"card-text"},[t("div",null,o(s.$t(l.title||"")),1),t("div",null,o(s.$t(l.description||"")),1)],4)],4),d!=e.value.stepStatus?.steps?.length-1?(a(),n("div",{key:0,style:S({backgroundColor:d<e.value.stepStatus?.current?"var(--general)":"#eee"}),class:"steps-line"},null,4)):i("",!0)],64))),256))]),e.value.orderId&&(e.value.orderStatus===2||e.value.orderStatus===5)?(a(),f(se,{key:0,trackingNo:e.value.trackingNo,logisticsName:e.value.logisticsName,shippingMethod:e.value.shippingMethod,id:e.value.orderId,"onUpdate:id":r[0]||(r[0]=l=>e.value.orderId=l)},null,8,["trackingNo","logisticsName","shippingMethod","id"])):i("",!0)]),t("div",Ve,[t("div",Se,o(s.$t("订单信息")),1),t("ul",Ie,[t("li",null,[c(o(s.$t("收货信息"))+"：",1),t("span",null,o(e.value.userAddress)+" "+o(e.value.consignee)+" "+o(e.value.mobile),1)]),e.value.shippingTypeName?(a(),n("li",Ae,[c(o(s.$t("配送方式"))+"：",1),t("span",null,o(e.value.shippingTypeName),1)])):i("",!0),t("li",null,[c(o(s.$t("支付方式"))+"：",1),t("span",null,o(e.value.payTypeId===1?s.$t("在线支付"):e.value.payTypeId===2?s.$t("货到付款"):s.$t("线下支付")),1)]),e.value.orderType===6&&e.value.items[0].virtualSample?(a(),n("li",Ne,[c(o(s.$t("虚拟内容"))+"：",1),t("span",{class:"virtualsample-value",innerHTML:e.value.items[0].virtualSample},null,8,Ce)])):i("",!0)])]),g(F)?(a(),n("div",Fe,[t("div",Te,o(s.$t("卡券信息")),1),(a(!0),n(v,null,k(e.value.items,l=>(a(),n(v,null,[t("div",Ue,o(l.productName),1),l.eCard.length>0?(a(),n("ul",we,[(a(!0),n(v,null,k(l.eCard,d=>(a(),n("li",{class:"virtualsample-item",key:d},[t("div",De,[c(o(s.$t("卡号"))+"：",1),t("span",null,o(d.cardNumber),1)]),t("div",Oe,[c(o(s.$t("卡密"))+"：",1),t("span",null,o(d.cardPwd),1)])]))),128))])):i("",!0)],64))),256))])):i("",!0),t("div",Pe,[t("div",Le,o(s.$t("订单商品")),1),t("table",Me,[t("thead",null,[t("tr",je,[t("th",null,o(s.$t("商品名称")),1),t("th",null,o(s.$t("商品价格")),1),t("th",null,o(s.$t("购买数量")),1),t("th",null,o(s.$t("小计")),1),e.value.availableActions.toAftersales?(a(),n("th",ze,o(s.$t("操作")),1)):i("",!0)])]),t("tbody",null,[(a(!0),n(v,null,k(e.value.items,l=>(a(),n("tr",Be,[t("td",Ee,[t("div",null,[t("img",{alt:l.productName,src:("imageFormat"in s?s.imageFormat:g(Y))(l.picThumb),class:"img-border"},null,8,Re),c(" "+o(l.productName)+" ",1),l.skuData?(a(),n("div",qe,[(a(!0),n(v,null,k(l.skuData,d=>(a(),n("div",null,o(d.name)+"："+o(d.value),1))),256))])):i("",!0),l.extraSkuData&&l.extraSkuData.length?(a(),n("div",He,[(a(!0),n(v,null,k(l.extraSkuData,d=>(a(),n("div",{key:d,class:"extraskudata-item"},[t("div",Ge,o(d.attrName),1),r[10]||(r[10]=t("div",{class:"line-box"},[t("div",{class:"line"})],-1)),t("div",Je,[t("span",Ke,o(d.attrValue),1),u(m,{class:"price",modelValue:d.attrPrice,"onUpdate:modelValue":M=>d.attrPrice=M},null,8,["modelValue","onUpdate:modelValue"]),t("span",Qe,"x"+o(l.quantity),1)])]))),128))])):i("",!0)])]),t("td",We,[u(m,{modelValue:l.price,"onUpdate:modelValue":d=>l.price=d},null,8,["modelValue","onUpdate:modelValue"])]),t("td",Xe,o(l.quantity),1),t("td",Ye,[u(m,{modelValue:l.subtotal,"onUpdate:modelValue":d=>l.subtotal=d},null,8,["modelValue","onUpdate:modelValue"])]),e.value.payStatus===2?(a(),n("td",Ze,[l.isGift===0?(a(),n(v,{key:0},[l.aftersalesItem?(a(),f(y,{key:0,target:"_blank",to:"/member/return/logInfo?id="+l?.aftersalesItem?.aftersaleId},{default:p(()=>[u(h,{size:"small"},{default:p(()=>[c(o(s.$t("售后详情")),1)]),_:1})]),_:2},1032,["to"])):e.value.availableActions.toAftersales?(a(),f(y,{key:1,target:"_blank",to:"/member/return/Info?orderId="+e.value.orderId+"&itemId="+l.itemId},{default:p(()=>[u(h,{size:"small"},{default:p(()=>[c(o(s.$t("申请售后")),1)]),_:1})]),_:2},1032,["to"])):i("",!0)],64)):i("",!0)])):i("",!0)]))),256))]),t("tfoot",null,[t("tr",xe,[t("th",{colspan:e.value.availableActions.toAftersales?3:2},null,8,et),t("th",tt,[t("div",st,[t("div",ot,o(s.$t("商品总价"))+"：",1),t("div",lt,[u(m,{modelValue:e.value.productAmount,"onUpdate:modelValue":r[1]||(r[1]=l=>e.value.productAmount=l)},null,8,["modelValue"])])]),e.value.serviceFee&&e.value.serviceFee>0?(a(),n("div",at,[t("div",nt,o(s.$t("附加费用"))+"：",1),t("div",rt,[u(m,{modelValue:e.value.serviceFee,"onUpdate:modelValue":r[2]||(r[2]=l=>e.value.serviceFee=l)},null,8,["modelValue"])])])):i("",!0),e.value.shippingFee>0?(a(),n("div",it,[t("div",ut,o(s.$t("运费"))+"：",1),t("div",dt,[u(m,{modelValue:e.value.shippingFee,"onUpdate:modelValue":r[3]||(r[3]=l=>e.value.shippingFee=l)},null,8,["modelValue"])])])):i("",!0),e.value.balance>0?(a(),n("div",ct,[t("div",pt,o(s.$t("使用余额"))+"：",1),t("div",mt,[u(m,{modelValue:e.value.balance,"onUpdate:modelValue":r[4]||(r[4]=l=>e.value.balance=l)},null,8,["modelValue"])])])):i("",!0),e.value.pointsAmount>0?(a(),n("div",vt,[t("div",_t,o(s.$t(`${g(A).integralName}减免`))+"：",1),t("div",ht,[u(m,{modelValue:e.value.pointsAmount,"onUpdate:modelValue":r[5]||(r[5]=l=>e.value.pointsAmount=l)},null,8,["modelValue"])])])):i("",!0),e.value.discountAmount>0?(a(),n("div",yt,[t("div",ft,o(s.$t("其他优惠"))+"：",1),t("div",kt,[r[11]||(r[11]=c(" - ",-1)),u(m,{modelValue:e.value.discountAmount,"onUpdate:modelValue":r[6]||(r[6]=l=>e.value.discountAmount=l)},null,8,["modelValue"])])])):i("",!0),e.value.couponAmount>0?(a(),n("div",gt,[t("div",bt,o(s.$t("优惠券优惠"))+"：",1),t("div",$t,[r[12]||(r[12]=c(" - ",-1)),u(m,{modelValue:e.value.couponAmount,"onUpdate:modelValue":r[7]||(r[7]=l=>e.value.couponAmount=l)},null,8,["modelValue"])])])):i("",!0),e.value.unpaidAmount&&e.value.unpaidAmount>0?(a(),n("div",Vt,[t("div",St,o(s.$t("待支付金额"))+"：",1),t("div",It,[u(m,{modelValue:e.value.unpaidAmount,"onUpdate:modelValue":r[8]||(r[8]=l=>e.value.unpaidAmount=l)},null,8,["modelValue"])])])):i("",!0),t("div",At,[e.value.payStatus==2?(a(),n("span",Nt,o(s.$t("实付款"))+"：",1)):(a(),n("span",Ct,o(s.$t("应付款"))+"：",1)),u(m,{modelValue:e.value.totalAmount,"onUpdate:modelValue":r[9]||(r[9]=l=>e.value.totalAmount=l),fontStyle:{fontSize:"20px",color:"var(--price)"}},null,8,["modelValue"])])])])])])])])])]),u(L)],64)}}}),us=Z(Ft,[["__scopeId","data-v-64f94457"]]);export{us as default};

import{b as t}from"./BAtlsuzY.js";import{_ as s}from"./IO9hpqeh.js";import{_ as a}from"./CfxJu6rg.js";import{_ as o}from"./DmNVh8rB.js";import{E as e}from"./YKVlRHu9.js";import{E as l}from"./5EY5iYNX.js";import{e as i,r,h as c,z as p,an as n,c as u,o as m,b as d,a as j,w as v,d as f,t as g,a9 as y,F as _,m as b,E as h,j as k,k as w,s as x,n as z,i as V,p as $,_ as S}from"./r4GZdGYg.js";import{_ as B}from"./BPBPggU1.js";import{_ as I}from"./BR_yKGQj.js";import{_ as T}from"./DkwXwj3h.js";import{v as U}from"./D-C0HBq9.js";import{g as C}from"./DiLTvFcP.js";import{g as L,d as E}from"./CteAIIt7.js";import{P as F}from"./BGI8ORZz.js";import{B as N}from"./ByWc6Jiu.js";import"./CdHUvLv6.js";import"./CDFFSI_k.js";import"./po9zIj7I.js";import"./CIKxL71l.js";import"./Bd103Yf7.js";import"./g8XVjk5f.js";import"./BNGL4P8m.js";import"./CBKhgGlL.js";import"./DXQ6s2L8.js";import"./DONyGZrs.js";import"./DL5ZnEaR.js";import"./VWWcEZs1.js";import"./B0FaLosy.js";/* empty css        */import"./Oz6DVX0g.js";import"./bHTXMzV5.js";import"./70QeHNk8.js";import"./DgAv7tgp.js";import"./B8SSwkK9.js";/* empty css        */const P={class:"container flex"},W={class:"menu"},q={class:"info-row collect-product"},H={class:"title-or-tabs"},M={class:"tag-and-input"},Q={class:"tig-tabs"},R={class:"input"},X={class:"page-info-body"},Y={class:"collect-list-content"},Z={class:"card"},A={class:"image-info-card"},D={class:"text-ellipsis"},G={style:{"text-align":"center"}},J={class:"operation-card"},K=["onClick"],O={class:"el-page"},tt={key:1,class:"no-result"},st={key:0},at=S(i({__name:"List",setup(i){const S=r([]),at=r(!0),ot=r(0),et=c({page:1,keyword:""}),{t:lt}=p(),it=async()=>{at.value=!0;try{const t=await L({...et});S.value=t.records,ot.value=t.total}catch(t){$.error(t.message)}finally{at.value=!1}};it();n();const rt=c([{value:"收藏的商品",url:"/member/collectProduct/list",size:0},{value:"收藏的店铺",url:"/member/collectShop/list",size:0}]);return(i,r)=>{const c=t,p=s,n=a,L=o,ct=e,pt=l,nt=h,ut=B,mt=I,dt=T,jt=U;return m(),u(_,null,[d(c),d(p,{title:"收藏的商品"}),j("div",P,[j("div",W,[d(n)]),j("div",q,[j("div",H,[j("div",M,[j("div",Q,[d(L,{menuList:rt},null,8,["menuList"])]),j("div",R,[d(ct,{modelValue:et.keyword,"onUpdate:modelValue":r[0]||(r[0]=t=>et.keyword=t),placeholder:i.$t("请输入商品名称"),type:"text"},null,8,["modelValue","placeholder"]),d(pt,{class:"ml10",onClick:it},{default:v(()=>[f(g(i.$t("搜索")),1)]),_:1})])])]),j("div",X,[y((m(),u("div",Y,[ot.value>0?(m(),u(_,{key:0},[(m(!0),u(_,null,b(S.value,t=>{var s;return m(),u("div",Z,[j("div",A,[d(ut,{title:t.productName,to:k(x)({path:"product",id:t.productId,sn:t.productSn}),class:"nuxt",target:"_blank"},{default:v(()=>[d(nt,{src:("imageFormat"in i?i.imageFormat:k(w))(t.picThumb),class:"pro_pic",loading:"lazy"},null,8,["src"]),j("div",null,[j("div",D,g(t.productName),1)])]),_:2},1032,["title","to"]),j("div",G,[d(mt,{modelValue:t.price,"onUpdate:modelValue":s=>t.price=s,fontStyle:{fontSize:"14px",fontWeight:"700",lineHeight:"220x"}},null,8,["modelValue","onUpdate:modelValue"])])]),j("div",J,[(null==(s=t.productSku)?void 0:s.length)>0?(m(),z(ut,{key:0,to:k(x)({path:"product",id:t.productId,sn:t.productSn}),class:"butt butt1",target:"_blank"},{default:v(()=>[r[3]||(r[3]=j("i",{class:"iconfont-pc icon-shiwu-gouwuche"},null,-1)),f(g(i.$t(("getBuyText"in i?i.getBuyText:k(C))())),1)]),_:2,__:[3]},1032,["to"])):(m(),z(N,{key:1,id:t.productId,disabled:!1,number:1,class:"butt butt1"},{default:v(()=>[r[4]||(r[4]=j("i",{class:"iconfont-pc icon-shiwu-gouwuche"},null,-1)),f(g(i.$t(("getBuyText"in i?i.getBuyText:k(C))())),1)]),_:2,__:[4]},1032,["id"])),j("div",{class:"butt",onClick:s=>(async t=>{try{at.value=!0,await E({id:t}),await it(),$.success(lt("取消收藏成功"))}catch(s){$.error(s.message)}finally{at.value=!1}})(t.productId)},[r[5]||(r[5]=j("i",{class:"iconfont-pc icon-changyonggoupiaorenshanchu"},null,-1)),f(g(i.$t("取消收藏")),1)],8,K)])])}),256)),j("div",O,[d(k(F),{page:et.page,"onUpdate:page":r[1]||(r[1]=t=>et.page=t),size:et.size,"onUpdate:size":r[2]||(r[2]=t=>et.size=t),total:ot.value,onCallback:it},null,8,["page","size","total"])])],64)):(m(),u("div",tt,[at.value?V("",!0):(m(),u("span",st,g(i.$t("您还没有收藏的商品")),1))]))])),[[jt,at.value]])])])]),d(dt)],64)}}}),[["__scopeId","data-v-e9be774f"]]);export{at as default};

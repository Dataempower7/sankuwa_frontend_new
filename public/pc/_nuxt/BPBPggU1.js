import{e,ae as t,I as a,r,aM as l,y as n,aN as u,R as i,aO as o,ax as s,aP as v,aQ as c,aR as f,v as d,aS as p,aT as h,aU as g,ad as y,aV as b,aW as m,aX as x,aY as q,aZ as S}from"./r4GZdGYg.js";function C(b){const m=b.componentName||"NuxtLink";function S(e){return"string"==typeof e&&e.startsWith("#")}function C(e){const a=t(),r=g(),l=d(()=>!!e.target&&"_self"!==e.target),n=d(()=>{const t=e.to||e.href||"";return"string"==typeof t&&p(t,{acceptRelative:!0})}),u=s("RouterLink"),i=u&&"string"!=typeof u?u.useLink:void 0,o=d(()=>{if(e.external)return!0;const t=e.to||e.href||"";return"object"!=typeof t&&(""===t||n.value)}),v=d(()=>{const t=e.to||e.href||"";return o.value?t:function(e,t,a){const r=a??b.trailingSlash;if(!e||"append"!==r&&"remove"!==r)return e;if("string"==typeof e)return A(e,r);const l="path"in e&&void 0!==e.path?e.path:t(e).path;return{...e,name:void 0,path:A(l,r)}}(t,a.resolve,e.trailingSlash)}),f=o.value||null==i?void 0:i({...e,to:v}),m=d(()=>{var t;const l=e.trailingSlash??b.trailingSlash;if(!v.value||n.value||S(v.value))return v.value;if(o.value){const e="object"==typeof v.value&&"path"in v.value?c(v.value):v.value;return A("object"==typeof e?a.resolve(e).href:e,l)}return"object"==typeof v.value?(null==(t=a.resolve(v.value))?void 0:t.href)??null:A(h(r.app.baseURL,v.value),l)});return{to:v,hasTarget:l,isAbsoluteUrl:n,isExternal:o,href:m,isActive:(null==f?void 0:f.isActive)??d(()=>v.value===a.currentRoute.value.path),isExactActive:(null==f?void 0:f.isExactActive)??d(()=>v.value===a.currentRoute.value.path),route:(null==f?void 0:f.route)??d(()=>a.resolve(v.value)),async navigate(t){await y(m.value,{replace:e.replace,external:o.value||l.value})}}}return e({name:m,props:{to:{type:[String,Object],default:void 0,required:!1},href:{type:[String,Object],default:void 0,required:!1},target:{type:String,default:void 0,required:!1},rel:{type:String,default:void 0,required:!1},noRel:{type:Boolean,default:void 0,required:!1},prefetch:{type:Boolean,default:void 0,required:!1},prefetchOn:{type:[String,Object],default:void 0,required:!1},noPrefetch:{type:Boolean,default:void 0,required:!1},activeClass:{type:String,default:void 0,required:!1},exactActiveClass:{type:String,default:void 0,required:!1},prefetchedClass:{type:String,default:void 0,required:!1},replace:{type:Boolean,default:void 0,required:!1},ariaCurrentValue:{type:String,default:void 0,required:!1},external:{type:Boolean,default:void 0,required:!1},custom:{type:Boolean,default:void 0,required:!1},trailingSlash:{type:String,default:void 0,required:!1}},useLink:C,setup(e,{slots:d}){const p=t(),{to:h,href:g,navigate:y,isExternal:m,hasTarget:R,isAbsoluteUrl:A}=C(e),O=a(!1),k=r(null),j=t=>{var a;k.value=e.custom?null==(a=null==t?void 0:t.$el)?void 0:a.nextElementSibling:null==t?void 0:t.$el};function L(t){var a,r;return!O.value&&("string"==typeof e.prefetchOn?e.prefetchOn===t:(null==(a=e.prefetchOn)?void 0:a[t])??(null==(r=b.prefetchOn)?void 0:r[t]))&&!1!==(e.prefetch??b.prefetch)&&!0!==e.noPrefetch&&"_blank"!==e.target&&!function(){const e=navigator.connection;if(e&&(e.saveData||w.test(e.effectiveType)))return!0;return!1}()}async function E(e=l()){if(O.value)return;O.value=!0;const t="string"==typeof h.value?h.value:m.value?c(h.value):p.resolve(h.value).fullPath,a=m.value?new URL(t,window.location.href).href:t;await Promise.all([e.hooks.callHook("link:prefetch",a).catch(()=>{}),!m.value&&!R.value&&f(h.value,p).catch(()=>{})])}if(L("visibility")){const e=l();let t,a=null;n(()=>{const r=function(){const e=l();if(e._observer)return e._observer;let t=null;const a=new Map,r=(e,r)=>(t||(t=new IntersectionObserver(e=>{for(const t of e){const e=a.get(t.target);(t.isIntersecting||t.intersectionRatio>0)&&e&&e()}})),a.set(e,r),t.observe(e),()=>{a.delete(e),null==t||t.unobserve(e),0===a.size&&(null==t||t.disconnect(),t=null)}),n=e._observer={observe:r};return n}();u(()=>{t=x(()=>{var t;(null==(t=null==k?void 0:k.value)?void 0:t.tagName)&&(a=r.observe(k.value,async()=>{null==a||a(),a=null,await E(e)}))})})}),i(()=>{t&&q(t),null==a||a(),a=null})}return()=>{var t;if(!m.value&&!R.value&&!S(h.value)){const t={ref:j,to:h.value,activeClass:e.activeClass||b.activeClass,exactActiveClass:e.exactActiveClass||b.exactActiveClass,replace:e.replace,ariaCurrentValue:e.ariaCurrentValue,custom:e.custom};return e.custom||(L("interaction")&&(t.onPointerenter=E.bind(null,void 0),t.onFocus=E.bind(null,void 0)),O.value&&(t.class=e.prefetchedClass||b.prefetchedClass),t.rel=e.rel||void 0),o(s("RouterLink"),t,d.default)}const a=e.target||null,r=((...e)=>e.find(e=>void 0!==e))(e.noRel?"":e.rel,b.externalRelAttribute,A.value||R.value?"noopener noreferrer":"")||null;return e.custom?d.default?d.default({href:g.value,navigate:y,prefetch:E,get route(){if(!g.value)return;const e=new URL(g.value,window.location.href);return{path:e.pathname,fullPath:e.pathname,get query(){return v(e.search)},hash:e.hash,params:{},name:void 0,matched:[],redirectedFrom:void 0,meta:{},href:g.value}},rel:r,target:a,isExternal:m.value||R.value,isActive:!1,isExactActive:!1}):null:o("a",{ref:k,href:g.value||null,rel:r,target:a},null==(t=d.default)?void 0:t.call(d))}}})}const R=C(S);function A(e,t){const a="append"===t?b:m;return p(e)&&!e.startsWith("http")?e:a(e,!0)}const w=/2g/;export{R as _};

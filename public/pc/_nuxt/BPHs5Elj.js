import{e as $,r,v as x,y as F,B as C,c as i,o as l,a as e,t as c,F as H,m as M,b as d,w as u,E as z,j as a,k as U,s as p,d as S,n as T,i as b,C as Y,_ as j}from"./BjkHNVA8.js";import{_ as D}from"./BipSnJcb.js";import{_ as Q}from"./CBcH1uzJ.js";import{B as R}from"./CWzVxcs9.js";import{g as L}from"./D5AuvtSp.js";import{t as q}from"./CQ93QHlZ.js";/* empty css        */const A={class:"container"},G={class:"mod_you_like"},J={class:"hot_sale_tit flex align-center justify-center"},K={class:"hot_sale_tips"},O={class:"you_like_list"},W={class:"item"},X={class:"flip_wrap"},Z={class:"pro_pic"},tt={class:"pro_name"},ot={class:"operate_area"},et={class:"view_detail"},st={class:"view_detail"},at={key:0,class:"loading-con"},nt={key:1,class:""},rt=$({__name:"ProdSwiperNew",setup(lt){const _=r(!0),I=r(!1),v=r(1),f=r(0),g=r([]),P=x(()=>{let t=10;return t*v.value<f.value?t:f.value-t*(v.value-1)}),h=r(!1),y=async()=>{_.value=!0;try{const t=await q(),s=await Y({page:v.value,size:10,ids:t});f.value=s.total,g.value=[...g.value,...s.records],s.records.length<P.value&&(h.value=!0)}catch(t){console.log(t)}finally{_.value=!1}},k=r(null),w=()=>{const t=k.value;if(!t)return;const s=t.offsetTop,m=t.offsetHeight,n=window.innerHeight;window.scrollY+n>s+m&&g.value.length<f.value&&!_.value&&!h.value&&(v.value++,y())};return F(()=>{window.addEventListener("scroll",w),y()}),C(()=>{window.removeEventListener("scroll",w)}),(t,s)=>{const m=z,n=D,B=Q,N=R;return l(),i("div",A,[e("div",G,[e("div",J,[s[0]||(s[0]=e("i",{class:"iconfont-pc icon-aixin"},null,-1)),e("p",null,c(t.$t("猜您喜欢")),1)]),e("div",K,c(t.$t("实时推荐最适合您的商品")),1),e("div",O,[e("ul",null,[(l(!0),i(H,null,M(g.value,(o,V)=>(l(),i("li",{key:V},[e("div",W,[e("div",X,[e("div",Z,[d(n,{to:a(p)({path:"product",id:o.productId,sn:o.productSn}),target:"_blank"},{default:u(()=>[d(m,{src:a(U)(o.picThumb),lazy:""},null,8,["src"])]),_:2},1032,["to"])]),e("div",tt,[d(n,{to:a(p)({path:"product",id:o.productId,sn:o.productSn}),target:"_blank"},{default:u(()=>[S(c(o.productName),1)]),_:2},1032,["to"])]),d(B,{modelValue:o.productPrice,"onUpdate:modelValue":E=>o.productPrice=E,class:"pro_price"},null,8,["modelValue","onUpdate:modelValue"])]),e("div",ot,[d(n,{to:a(p)({path:"product",id:o.productId,sn:o.productSn}),class:"not_interest left-span"},{default:u(()=>[d(n,{to:a(p)({path:"product",id:o.productId,sn:o.productSn}),target:"_blank"},{default:u(()=>[S(c(t.$t("查看详情")),1)]),_:2},1032,["to"])]),_:2},1032,["to"]),o.productSku&&o.productSku.length>0?(l(),T(n,{key:0,to:a(p)({path:"product",id:o.productId,sn:o.productSn}),target:"_blank"},{default:u(()=>[e("div",et,c(t.$t(("getBuyText"in t?t.getBuyText:a(L))(o.productType))),1)]),_:2},1032,["to"])):(l(),T(N,{key:1,isQuick:o.productType!==1,id:o.productId,disabled:o.productStock==0,number:1},{default:u(()=>[e("span",st,c(t.$t(("getBuyText"in t?t.getBuyText:a(L))(o.productType))),1)]),_:2},1032,["isQuick","id","disabled"]))])])]))),128))])]),e("div",{ref_key:"recommendMoreRef",ref:k},[_.value?(l(),i("div",at,s[1]||(s[1]=[e("div",{class:"gif-loading"},null,-1)]))):b("",!0),I.value?(l(),i("div",nt,c(t.$t("没有更多喽"))+"~",1)):b("",!0)],512)])])}}}),ft=j(rt,[["__scopeId","data-v-c7d4b902"]]);export{ft as default};

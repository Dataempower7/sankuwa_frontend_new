import{S as R}from"./DX-St3sq.js";import"./BsZFmHoh.js";import{e as S,r as c,h as U,y as V,p as _,aQ as f,c as b,o as g,a as r,n as N,i as x,w as l,b as s,j as q,_ as L}from"./BjkHNVA8.js";import"./Ibc-iJtI.js";import{g as A,u as D}from"./B10zCnzm.js";/* empty css        */import"./BKu6lkEW.js";import"./CH9-T1LE.js";import"./CXwPJP5h.js";import"./UVx7YjW9.js";const E={class:"modal_region_box"},F={class:"address_from"},j={class:"from_item"},O={class:"btn_box"},M=S({__name:"EditRegion",props:{id:Number,act:String,isDialog:Boolean,addressId:{type:Number,default:0},showClose:{type:Boolean,default:!0}},emits:["submitCallback","update:confirmLoading","close","change"],setup(y,{expose:w,emit:h}){const d=h,m=y;c(!1);const e=U({consignee:"",regionIds:[],address:"",mobile:"",telephone:"",email:""}),u=c(!0);V(()=>{m.addressId>0?C():u.value=!1});const C=async()=>{try{const t=await A(m.addressId);Object.assign(e,t)}catch(t){_.error(t.message)}finally{u.value=!1}},p=c(),v=async()=>{await p.value.validate();try{d("update:confirmLoading",!0);const t=await D(e);d("submitCallback",t.addressId)}catch(t){_.error(t.message)}finally{d("update:confirmLoading",!1)}},k=()=>{p.value.validateFields(["regionIds"])},I=()=>{d("close")};return w({onFormSubmit:()=>{v()}}),(t,a)=>{const i=f("a-input"),n=f("a-form-item"),B=f("a-form");return g(),b("div",null,[r("div",E,[u.value?x("",!0):(g(),N(B,{key:0,model:e,name:"basic","label-col":{span:3},"wrapper-col":{span:16},autocomplete:"off",ref_key:"formRef",ref:p},{default:l(()=>[s(n,{label:"收货人：",name:"consignee",rules:[{required:!0,message:"请您填写收货人姓名"}]},{default:l(()=>[s(i,{value:e.consignee,"onUpdate:value":a[0]||(a[0]=o=>e.consignee=o),style:{width:"300px"},maxlength:20},null,8,["value"])]),_:1}),s(n,{label:"所在地区：",name:"regionIds",rules:[{required:!0,message:"请选择收货人所在地区"}],autoLink:""},{default:l(()=>[s(q(R),{modelValue:e.regionIds,"onUpdate:modelValue":a[1]||(a[1]=o=>e.regionIds=o),onChange:k},null,8,["modelValue"])]),_:1}),s(n,{label:"详细地址：",name:"address",rules:[{required:!0,message:"请您填写详细收货地址"},{min:3,message:"收货人地址过短"}]},{default:l(()=>[s(i,{value:e.address,"onUpdate:value":a[2]||(a[2]=o=>e.address=o),style:{width:"300px"},maxlength:100},null,8,["value"])]),_:1}),s(n,{label:"手机号码：",name:"mobile",rules:[{required:!0,message:"请您填写收货人手机号码"}],extra:""},{default:l(()=>[s(i,{value:e.mobile,"onUpdate:value":a[3]||(a[3]=o=>e.mobile=o),style:{width:"300px"},maxlength:20},null,8,["value"])]),_:1}),s(n,{label:"固定电话：",name:"telephone",rules:[],"wrapper-col":{span:8},extra:""},{default:l(()=>[s(i,{value:e.telephone,"onUpdate:value":a[4]||(a[4]=o=>e.telephone=o),style:{width:"300px"},maxlength:20},null,8,["value"])]),_:1}),s(n,{label:"邮箱地址：",name:"email",rules:[],"wrapper-col":{span:8}},{default:l(()=>[s(i,{value:e.email,"onUpdate:value":a[5]||(a[5]=o=>e.email=o),style:{width:"300px"},maxlength:50},null,8,["value"])]),_:1})]),_:1},8,["model"])),r("div",F,[r("div",j,[a[6]||(a[6]=r("div",{class:"tit"},null,-1)),r("div",O,[r("div",{class:"btn",onClick:v},"确认修改地址"),m.showClose?(g(),b("div",{key:0,class:"btn info",onClick:I},"取消")):x("",!0)])])])])])}}}),Z=L(M,[["__scopeId","data-v-d3850406"]]);export{Z as default};

import{b as Q}from"./5VTus1_X.js";import{_ as W}from"./Drr4mNEN.js";import{_ as X}from"./DUyqL_E3.js";import{e as Y,f as Z,aB as tt,g as et,r as f,y as ot,h as st,aC as at,p as w,c,o as p,b as a,a as t,w as r,E as nt,j as n,k as U,aD as it,i as k,t as s,A as E,d as m,F as _,l as lt,x as T,m as j,s as $,ah as rt,aE as ct,_ as pt}from"./BjkHNVA8.js";import{E as ut}from"./DoNaAjK4.js";import{_ as dt}from"./CBcH1uzJ.js";import{_ as mt}from"./BipSnJcb.js";import{_ as _t}from"./Cs8qyV32.js";import{E as vt}from"./B_vjKAZC.js";import{_ as ft}from"./DxOBwvni.js";import{_ as ht}from"./B85mN9rA.js";import{g as gt}from"./BW8dCpPB.js";import{g as yt}from"./DMHfdCRX.js";import{a as bt,n as wt}from"./CM_M6Xgj.js";import"./Csy7st1x.js";import"./BhwkTUtM.js";import"./d3UjsK-T.js";import"./BKu6lkEW.js";import"./BIqqf5dq.js";import"./CH9-T1LE.js";import"./yB3A8U-z.js";import"./Ibc-iJtI.js";import"./UVx7YjW9.js";/* empty css        */import"./n1vI1_Nv.js";import"./XdJ5ILcf.js";import"./D7W3sM8Q.js";import"./BzIkMksr.js";import"./cfDoaBtk.js";import"./DWKyHDnW.js";import"./BmiGu4wZ.js";import"./C1B8-dXF.js";import"./FYm-MTMW.js";import"./Bnvi_g-K.js";import"./CXwPJP5h.js";import"./Yx7WDtrd.js";import"./TIyJFtn7.js";import"./BNVM5YSV.js";import"./ClRMjIOJ.js";/* empty css        */const kt={class:"container flex"},$t={class:"menu"},Ct={class:"info-row"},St={class:"user-info"},Vt={class:"image-div"},Lt={class:"user-col"},Nt={class:"username"},Ot={key:0},It=["src"],Ut=["src"],Ft={class:"user_rank",style:{margin:"0 0 0 10px"}},zt={class:"user-span-info"},Pt={class:"font-color"},At={class:"user-span-info"},Bt={class:"verify"},Et={key:2,style:{"margin-left":"15px"}},Tt={class:"right-info"},jt={class:"ico-page"},Mt={class:"mes_name"},Ht={class:"mes_name"},qt={class:"ico-page"},Dt={class:"mes_name"},Rt={class:"mes_name"},xt={class:"ico-page"},Gt={class:"mes_name"},Jt={class:"mes_name"},Kt={class:"ico-page"},Qt={class:"mes_name"},Wt={class:"mes_name"},Xt={class:"title-or-tabs bw"},Yt={class:"page-info-body"},Zt={class:"swiper_box"},te={class:"tab_list"},ee={key:0,class:"cheap_prod"},oe={class:"tab-list flex-wrap"},se={class:"item"},ae={class:"text-ellipsis"},ne={key:0,class:"no-result",style:{height:"319px"}},ie={key:1,class:"cheap_prod"},le={class:"tab-list flex-wrap"},re={class:"item"},ce={class:"text-ellipsis"},pe={key:0,class:"no-result",style:{height:"319px"}},ue=Y({__name:"index",setup(de){const C=Z(),M=tt(),H=(e,o)=>{l.value.avatar=URL.createObjectURL(o.raw)},h=et();h.getUserInfo();const g=f(1),S=f({}),y=f({autoplay:!1,navigation:!0,effect:"slide",loop:!0}),l=f({...h.userInfo}),F=()=>{rt("/member/userCertification/info")},q=async()=>{try{const e=await ct();Object.assign(l.value,e),console.log(l.value)}catch(e){w.error(e.message)}},D=async()=>{try{const e=await gt();S.value=e}catch(e){w.error(e.message)}};ot(()=>{q(),D(),R()});const V=f([]),z=st({page:1,size:15,sortField:"",sortOrder:"",keyword:""}),L=f([]),R=async()=>{try{const e=await at({...z});L.value.push(...P(e))}catch(e){w.error(e.message)}};(async()=>{try{const e=await yt({...z});e.records.length>0&&V.value.push(...P(e.records))}catch(e){w.error(e.message)}finally{}})();const P=e=>{let o=[];for(let v=0;v<e.length;v+=5){let N=e.slice(v,v+5);o.push(N)}return o};return(e,o)=>{const v=Q,N=W,x=X,b=nt,G=ut,O=dt,u=mt,J=_t,A=vt,B=ft,K=ht;return p(),c(_,null,[a(v),a(N,{title:"会员中心"}),t("div",kt,[t("div",$t,[a(x)]),t("div",Ct,[t("div",St,[t("div",Vt,[a(G,{action:n(it)+"/user/user/modifyAvatar",headers:n(M),"on-success":H,"show-file-list":!1,class:"avatar-uploader"},{default:r(()=>[a(b,{src:("imageFormat"in e?e.imageFormat:n(U))(l.value.avatar),alt:""},null,8,["src"])]),_:1},8,["action","headers"])]),t("div",Lt,[t("div",Nt,[t("span",null,s(n(h).userInfo.nickname?n(h).userInfo.nickname:n(h).userInfo.dimUsername),1),n(E)()&&n(C).closeAuth===1?(p(),c("div",Ot,[Number(l.value.isCompanyAuth)>0?(p(),c("img",{key:0,class:"auth-icon",src:n(bt),onClick:F},null,8,It)):(p(),c("img",{key:1,class:"auth-icon",src:n(wt),onClick:F},null,8,Ut))])):k("",!0),t("span",Ft,[a(b,{src:l.value.rankIco,style:{width:"20px"}},null,8,["src"])])]),t("div",zt,[t("span",null,s(e.$t(n(C).integralName))+"：",1),t("span",Pt,s(l.value.points?l.value.points:"-"),1),m(s(e.$t("分")),1)]),t("div",At,[t("span",null,s(e.$t("余额"))+"：",1),a(O,{modelValue:l.value.balance,"onUpdate:modelValue":o[0]||(o[0]=d=>l.value.balance=d),fontStyle:{color:"var(--price)"},showText:!1},null,8,["modelValue"]),a(u,{class:"ml10",to:"/member/account/deposit"},{default:r(()=>[m("["+s(e.$t("去充值"))+"]",1)]),_:1})]),t("div",Bt,[Number(l.value.mobileValidated)>0?(p(),c(_,{key:0},[o[5]||(o[5]=t("i",{class:"iconfont-pc icon-shoujiyiyanzheng has"},null,-1)),t("span",null,s(e.$t("手机已验证")),1)],64)):(p(),c(_,{key:1},[o[6]||(o[6]=t("i",{class:"iconfont-pc icon-shoujiweiyanzheng no"},null,-1)),a(u,{to:"/member/security/info"},{default:r(()=>[m(s(e.$t("手机未验证(立即验证)")),1)]),_:1})],64)),n(E)()&&!("isOverseas"in e?e.isOverseas:n(lt))()&&n(C).closeAuth===1?(p(),c("div",Et,[Number(l.value.isCompanyAuth)>0?(p(),c(_,{key:0},[o[7]||(o[7]=t("i",{class:"iconfont-pc icon-shimingrenzheng has"},null,-1)),a(u,{to:"/member/userCertification/info"},{default:r(()=>[m(s(e.$t("实名认证（已认证）")),1)]),_:1})],64)):(p(),c(_,{key:1},[o[8]||(o[8]=t("i",{class:"iconfont-pc icon-shimingrenzheng no"},null,-1)),a(u,{to:"/member/userCertification/info"},{default:r(()=>[m(s(e.$t("实名认证（未认证）")),1)]),_:1})],64))])):k("",!0)])]),o[13]||(o[13]=t("div",{class:"info-line"},[t("span",{class:"top-icon"}),t("span",{class:"bottom-icon"})],-1)),t("div",Tt,[a(u,{to:"/member/coupon/list",class:"right-link"},{default:r(()=>[t("div",jt,[o[9]||(o[9]=t("div",{class:"coupon_pic pic"},null,-1)),t("div",Mt,s(e.$t("优惠券")),1),t("div",Ht,s(l.value.awaitCoupon?l.value.awaitCoupon:"0")+s(e.$t("张")),1)])]),_:1}),a(u,{to:"/member/order/list?type=awaitPay",class:"right-link"},{default:r(()=>[t("div",qt,[o[10]||(o[10]=t("div",{class:"pay_pic pic"},null,-1)),t("div",Dt,s(e.$t("待付款")),1),t("div",Rt,s(l.value.awaitPay?l.value.awaitPay:"0")+s(e.$t("单")),1)])]),_:1}),a(u,{to:"/member/order/list?type=awaitShipping",class:"right-link"},{default:r(()=>[t("div",xt,[o[11]||(o[11]=t("div",{class:"take_pic pic"},null,-1)),t("div",Gt,s(e.$t("待发货")),1),t("div",Jt,s(l.value.awaitShipping?l.value.awaitShipping:"0")+s(e.$t("单")),1)])]),_:1}),a(u,{to:"/member/order/list?type=awaitComment",class:"right-link"},{default:r(()=>[t("div",Kt,[o[12]||(o[12]=t("div",{class:"ass_pic pic"},null,-1)),t("div",Qt,s(e.$t("待评价")),1),t("div",Wt,s(S.value.awaitComment?S.value.awaitComment:"0")+s(e.$t("条")),1)])]),_:1})])]),t("div",Xt,[t("span",null,s(e.$t("近期订单")),1),a(u,{class:"h4",to:"/member/order/list"},{default:r(()=>[m(s(e.$t("更多订单")),1),o[14]||(o[14]=t("i",{class:"iconfont-pc icon-jiantou_you"},null,-1))]),_:1,__:[14]})]),t("div",Yt,[a(J,{modelValue:0})]),t("div",Zt,[t("div",te,[t("div",{class:T([g.value==1?"active":"","tab"]),onMouseenter:o[1]||(o[1]=d=>g.value=1)},s(e.$t("最近收藏")),35),t("div",{class:T([g.value==2?"active":"","tab"]),onMouseenter:o[2]||(o[2]=d=>g.value=2)},s(e.$t("最近浏览")),35)]),g.value==1?(p(),c("div",ee,[a(B,{swiperOption:y.value,"onUpdate:swiperOption":o[3]||(o[3]=d=>y.value=d),itemList:V.value},{default:r(({item:d})=>[t("div",oe,[(p(!0),c(_,null,j(d,i=>(p(),c("div",se,[a(u,{title:i.productName,to:n($)({path:"product",id:i.productId,sn:i.productSn}),class:"nuxt",target:"_blank"},{default:r(()=>[a(b,{src:("imageFormat"in e?e.imageFormat:n(U))(i.picThumb),class:"pro_pic",loading:"lazy",style:{transition:"opacity 0.2s linear"}},null,8,["src"]),t("div",null,[t("div",ae,s(i.productName),1)])]),_:2},1032,["title","to"]),t("p",null,[a(O,{modelValue:i.price,"onUpdate:modelValue":I=>i.price=I,fontStyle:{fontSize:"14px",color:"var(--price)"}},null,8,["modelValue","onUpdate:modelValue"])]),a(u,{to:n($)({path:"product",id:i.productId,sn:i.productSn}),target:"_blank"},{default:r(()=>[a(A,{type:"primary"},{default:r(()=>[m(s(e.$t("立即购买")),1)]),_:1})]),_:2},1032,["to"])]))),256))])]),_:1},8,["swiperOption","itemList"]),V.value.length===0?(p(),c("div",ne,s(e.$t("暂无数据")),1)):k("",!0)])):(p(),c("div",ie,[a(B,{swiperOption:y.value,"onUpdate:swiperOption":o[4]||(o[4]=d=>y.value=d),itemList:L.value},{default:r(({item:d})=>[t("div",le,[(p(!0),c(_,null,j(d,i=>(p(),c("div",re,[a(u,{title:i.productName,to:n($)({path:"product",id:i.productId,sn:i.productSn}),class:"nuxt",target:"_blank"},{default:r(()=>[a(b,{src:("imageFormat"in e?e.imageFormat:n(U))(i.picThumb),class:"pro_pic",loading:"lazy",style:{transition:"opacity 0.2s linear"}},null,8,["src"]),t("div",null,[t("div",ce,s(i.productName),1)])]),_:2},1032,["title","to"]),t("p",null,[a(O,{modelValue:i.price,"onUpdate:modelValue":I=>i.price=I,fontStyle:{fontSize:"14px",color:"var(--price)"}},null,8,["modelValue","onUpdate:modelValue"])]),a(u,{to:n($)({path:"product",id:i.productId,sn:i.productSn}),target:"_blank"},{default:r(()=>[a(A,{type:"primary"},{default:r(()=>[m(s(e.$t("立即购买")),1)]),_:1})]),_:2},1032,["to"])]))),256))])]),_:1},8,["swiperOption","itemList"]),L.value.length===0?(p(),c("div",pe,s(e.$t("暂无数据")),1)):k("",!0)]))])])]),a(K,{type:2,bg:"#fff"})],64)}}}),to=pt(ue,[["__scopeId","data-v-057b4105"]]);export{to as default};

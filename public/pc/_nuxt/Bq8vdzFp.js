import{_ as P}from"./Drr4mNEN.js";import{b as C}from"./5VTus1_X.js";import{e as N,r as _,h as V,c as i,o as l,a as t,b as e,i as x,F as g,m as $,w as v,E as w,j as c,k as B,t as r,s as f,n as I,q as L,p as U,_ as E}from"./BjkHNVA8.js";import{_ as H}from"./BipSnJcb.js";import{_ as M}from"./CBcH1uzJ.js";import{_ as j,g as q}from"./B85mN9rA.js";import{P as D}from"./BmiGu4wZ.js";import"./XdJ5ILcf.js";import"./CM_M6Xgj.js";import"./n1vI1_Nv.js";import"./B_vjKAZC.js";import"./CXwPJP5h.js";import"./BIqqf5dq.js";import"./CH9-T1LE.js";import"./ClRMjIOJ.js";import"./BKu6lkEW.js";import"./d3UjsK-T.js";import"./FYm-MTMW.js";import"./cfDoaBtk.js";import"./C1B8-dXF.js";import"./Bnvi_g-K.js";import"./yB3A8U-z.js";import"./UVx7YjW9.js";import"./BzIkMksr.js";/* empty css        */import"./Csy7st1x.js";import"./BhwkTUtM.js";import"./Ibc-iJtI.js";/* empty css        */import"./BNVM5YSV.js";const T={style:{"background-color":"#f9f9f9"}},A={class:"seckill-con"},G={class:"container"},J={class:"seckill-product-ist"},K={class:"seckill_mod_product"},O={class:"text-ellipsis"},Q={class:"tips"},R={class:"operation"},W={class:"price"},X={class:"price1"},Y={class:"sell"},Z={class:"progress-bar"},oo={class:"buy"},to={key:1,class:"buy seckill_sold_out"},so={key:0,class:"el-page"},eo=N({__name:"List",setup(ao){const p=_([]),d=_(!0),m=_(0),n=V({page:1}),u=async()=>{d.value=!0;try{const s=await q({...n});p.value=s.records,m.value=s.total}catch(s){U.error(s.message)}finally{d.value=!1}};return u(),(s,a)=>{const h=P,S=C,y=w,k=H,b=M,F=j;return l(),i(g,null,[t("div",T,[e(h,{title:"限时秒杀"}),e(S),t("div",A,[a[2]||(a[2]=t("div",{class:"slogan"},null,-1)),t("div",G,[t("div",J,[t("ul",null,[(l(!0),i(g,null,$(p.value,o=>(l(),i("li",K,[e(k,{title:o.productName,to:c(f)({path:"product",id:o.productId,sn:o.skuSn||o.productSn}),class:"nuxt",target:"_blank"},{default:v(()=>[e(y,{src:("imageFormat"in s?s.imageFormat:c(B))(o.picThumb),class:"pro_pic",loading:"lazy",style:{transition:"opacity 0.2s linear"}},null,8,["src"]),t("div",null,[t("div",O,r(o.productName),1),t("div",Q,r(s.$t("限时秒杀 抢先提醒")),1)])]),_:2},1032,["title","to"]),t("div",R,[t("div",W,[t("div",X,[e(b,{modelValue:o.seckillPrice,"onUpdate:modelValue":z=>o.seckillPrice=z,fontStyle:{fontSize:"24px",color:"var(--general"}},null,8,["modelValue","onUpdate:modelValue"])]),t("div",Y,[t("div",null,r(s.$t("已售"))+r(Math.round(o.seckillSales/(o.seckillStock+o.seckillSales)*100))+"%",1),t("div",Z,[t("div",{class:"progress",style:L({width:""+Math.round(o.seckillSales/(o.seckillStock+o.seckillSales)*100)+"%"})},null,4)])])]),o.seckillStock>0?(l(),I(k,{key:0,title:o.productName,to:c(f)({path:"product",id:o.productId,sn:o.skuSn||o.productSn}),class:"",target:"_blank"},{default:v(()=>[t("div",oo,r(s.$t("立即抢购")),1)]),_:2},1032,["title","to"])):(l(),i("div",to,r(s.$t("已抢完")),1))])]))),256))])]),p.value.length>0&&!d.value?(l(),i("div",so,[e(c(D),{page:n.page,"onUpdate:page":a[0]||(a[0]=o=>n.page=o),size:n.size,"onUpdate:size":a[1]||(a[1]=o=>n.size=o),total:m.value,onCallback:u},null,8,["page","size","total"])])):x("",!0)])])]),e(F,{mt30:!1})],64)}}}),Eo=E(eo,[["__scopeId","data-v-77cf6297"]]);export{Eo as default};

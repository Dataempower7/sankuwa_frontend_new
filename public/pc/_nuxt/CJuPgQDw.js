import{b as t}from"./BAtlsuzY.js";import{_ as a}from"./IO9hpqeh.js";import{_ as s}from"./CfxJu6rg.js";import{e as l,c as e,o as i,a as o,F as r,m as n,t as c,x as m,b as d,j as u,s as p,w as v,E as g,k as y,i as f,_ as j,h as b,z as h,G as _,r as k,y as x,a9 as z,d as w,p as $}from"./r4GZdGYg.js";import{_ as F}from"./BPBPggU1.js";import{_ as T}from"./BR_yKGQj.js";import{E as V}from"./5EY5iYNX.js";import{_ as I}from"./DkwXwj3h.js";import{v as N}from"./D-C0HBq9.js";import{b as U}from"./BnqiwR50.js";import{a as C,b as P,c as S}from"./AMZl9hfR.js";import{P as A}from"./BGI8ORZz.js";import"./CdHUvLv6.js";import"./CDFFSI_k.js";import"./po9zIj7I.js";import"./CIKxL71l.js";import"./Bd103Yf7.js";import"./g8XVjk5f.js";import"./BNGL4P8m.js";import"./CBKhgGlL.js";import"./DXQ6s2L8.js";import"./DONyGZrs.js";import"./DL5ZnEaR.js";import"./VWWcEZs1.js";import"./B0FaLosy.js";/* empty css        */import"./Oz6DVX0g.js";import"./YKVlRHu9.js";import"./bHTXMzV5.js";import"./70QeHNk8.js";import"./DgAv7tgp.js";const L={class:"comment-list-ov"},q={class:"page-info-body"},E={class:"comment-card"},R={class:"comment-card-evaluate"},X={class:"option"},G={class:"ml10 time"},M={class:"right-tag"},Q={class:"evaluate-tips"},Y={class:"comment-image-info"},Z={class:"right-div"},B={style:{color:"black"}},D={class:"text"},H={class:"print-out"},J={key:0,class:"reply"},K={class:"name"},O={class:"text"},W={class:"time"},tt=j(l({__name:"CommentList",props:{modelValue:{type:Array,default:[]}},setup:t=>(a,s)=>{const l=g,j=F;return i(),e("div",L,[o("div",q,[(i(!0),e(r,null,n(t.modelValue,t=>{var s,g;return i(),e("div",E,[o("div",R,[o("div",X,[o("div",null,c(a.$t("评价"))+"：",1),o("div",{class:m([`icon-star-${t.commentRank}`,"icon-star xingxing"])},null,2),o("div",G,c(t.addTime),1)]),o("div",M,[(i(!0),e(r,null,n(t.commentTag,t=>(i(),e("span",Q,c(t),1))),256))])]),o("div",Y,[d(j,{title:t.productName,to:("urlFormat"in a?a.urlFormat:u(p))({path:"product",id:t.productId,sn:t.productSn}),class:"img-div",target:"_blank"},{default:v(()=>[d(l,{src:("imageFormat"in a?a.imageFormat:u(y))(t.picThumb),title:t.productName},null,8,["src","title"])]),_:2},1032,["title","to"]),o("div",Z,[o("div",B,"["+c(a.$t("商品评论"))+"] "+c(t.productName),1),o("div",D,c(t.content),1),o("div",H,[(i(!0),e(r,null,n(t.showPics,t=>(i(),e("div",null,[d(l,{class:"img","hide-on-click-modal":!0,src:("imageFormat"in a?a.imageFormat:u(y))(t.picThumb),"preview-src-list":[("imageFormat"in a?a.imageFormat:u(y))(t.picUrl)],"initial-index":0,fit:"cover"},null,8,["src","preview-src-list"])]))),256))]),t.reply?(i(),e("div",J,[o("span",K,c(a.$t("客服答复"))+"：",1),o("span",O,c(null==(s=t.reply)?void 0:s.content),1),o("span",W,c(null==(g=t.reply)?void 0:g.addTime),1)])):f("",!0)])])])}),256))])])}}),[["__scopeId","data-v-f662778e"]]),at={class:"container flex"},st={class:"menu"},lt={class:"info-row collection-store"},et={class:"title-or-tabs"},it={class:"tag-and-input"},ot={class:"tig-tabs"},rt=["onClick"],nt={key:0,class:"sub"},ct={class:"tig-font-style"},mt={class:"page-info-body"},dt={key:0},ut={class:"order-table back-greed"},pt={colspan:"4"},vt={class:"font-color"},gt={style:{"margin-left":"30px"}},yt={class:"order-tr"},ft={class:"column-1 wid-1"},jt={style:{display:"flex","align-items":"center","justify-content":"space-between"}},bt={style:{"line-height":"1.5"}},ht={style:{color:"#999999"}},_t={class:"column-2-4"},kt={class:"column-2-4"},xt={class:"column-2-4"},zt={class:"black"},wt={key:1},$t={key:2,class:"el-page"},Ft={key:3,class:"no-result"},Tt={key:0},Vt={key:1},It={style:{"font-size":"12px"}},Nt=j(l({__name:"List",setup(l){const j=b([{type:0,value:"待评价",size:0},{type:1,value:"待晒单",size:0},{type:2,value:"已评价",size:0}]),{t:L}=h(),q=_(),E=k(q.query.orderType||0),R=k([]),X=k(!0),G=k(0),M=b({page:1}),Q=async()=>{R.value=[],X.value=!0;try{let t=[];0==E.value&&(t=await U({...M,commentStatus:0})),1==E.value&&(t=await C({...M})),2==E.value&&(t=await P({...M})),R.value=t.records,G.value=t.total}catch(t){$.error(t.message)}finally{X.value=!1}};return x(()=>{(async()=>{try{const t=await S();j[0].size=t.awaitComment,j[1].size=t.showPics,j[2].size=t.commented}catch(t){$.error(t.message)}})(),Q()}),(l,b)=>{const h=t,_=a,k=s,x=g,$=F,U=T,C=V,P=tt,S=I,L=N;return i(),e(r,null,[d(h),d(_,{title:"评价晒单"}),o("div",at,[o("div",st,[d(k)]),o("div",lt,[o("div",et,[o("div",it,[o("div",ot,[(i(!0),e(r,null,n(j,t=>(i(),e("div",{class:m([E.value==t.type?"active":"","tab"]),onClick:a=>{return s=t.type,E.value=s,M.page=1,void Q();var s}},[t.size>0?(i(),e("div",nt,c(t.size),1)):f("",!0),o("div",ct,c(l.$t(t.value)),1)],10,rt))),256))])])]),z((i(),e("div",mt,[2!=E.value?(i(),e("div",dt,[(i(!0),e(r,null,n(R.value,t=>(i(),e("table",ut,[o("thead",null,[o("tr",null,[o("th",pt,[w(c(l.$t("订单号"))+"：",1),o("span",vt,c(t.orderSn),1),o("span",gt,c(l.$t("下单时间"))+"："+c(t.addTime),1)])])]),o("tbody",null,[o("tr",yt,[o("td",ft,[(i(!0),e(r,null,n(t.items,t=>(i(),e("div",jt,[d($,{title:t.productName,to:u(p)({path:"product",id:t.productId,sn:t.productSn}),class:"nuxt",target:"_blank",style:{display:"flex","align-items":"center","justify-content":"space-between"}},{default:v(()=>[d(x,{src:u(y)(t.picThumb),loading:"lazy",style:{height:"40px",width:"40px",transition:"opacity 0.2s linear","margin-right":"10px"}},null,8,["src"]),o("span",null,c(t.productName),1)]),_:2},1032,["title","to"]),o("div",null,[o("ul",bt,[o("li",ht,"X"+c(t.quantity),1)])])]))),256))]),o("td",_t,[o("div",null,[o("div",null,c(l.$t("收货人"))+":"+c(t.consignee),1)])]),o("td",kt,[o("div",null,[o("div",null,[w(c(l.$t("订单总额"))+": ",1),d(U,{modelValue:t.totalAmount,"onUpdate:modelValue":a=>t.totalAmount=a,showText:!1},null,8,["modelValue","onUpdate:modelValue"])])])]),o("td",xt,[o("div",null,[o("div",zt,[d($,{to:"/member/order/Info?id="+t.orderId},{default:v(()=>[w(c(l.$t("订单详情")),1)]),_:2},1032,["to"])]),o("div",null,[d($,{to:"/member/comment/Info?id="+t.orderId},{default:v(()=>[d(C,{size:"small"},{default:v(()=>[w(c(0==E.value?l.$t("去评价"):l.$t("待晒单")),1)]),_:1})]),_:2},1032,["to"])])])])])])]))),256))])):(i(),e("div",wt,[d(P,{modelValue:R.value,"onUpdate:modelValue":b[0]||(b[0]=t=>R.value=t)},null,8,["modelValue"])])),R.value.length>0&&!X.value?(i(),e("div",$t,[d(u(A),{page:M.page,"onUpdate:page":b[1]||(b[1]=t=>M.page=t),size:M.size,"onUpdate:size":b[2]||(b[2]=t=>M.size=t),total:G.value,onCallback:Q},null,8,["page","size","total"])])):f("",!0),0==R.value.length?(i(),e("div",Ft,[X.value?f("",!0):(i(),e("div",Tt,b[3]||(b[3]=[o("span",{class:"sign sign1"},null,-1)]))),X.value?f("",!0):(i(),e("div",Vt,[o("ul",null,[o("li",null,c(l.$t("当前筛选下还没有任何订单哦"))+"!",1),o("li",It,[w(c(l.$t("现在就去"))+"： ",1),d($,{class:"font-color",to:"/"},{default:v(()=>[w(c(l.$t("选购商品")),1)]),_:1})])])]))])):f("",!0)])),[[L,X.value]])])]),d(S)],64)}}}),[["__scopeId","data-v-ab63c408"]]);export{Nt as default};

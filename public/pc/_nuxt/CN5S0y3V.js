import{b as U}from"./5VTus1_X.js";import{_ as j}from"./Qk1w64o9.js";import{_ as z}from"./B85mN9rA.js";import{a as G}from"./BJETu8kJ.js";import{_ as J}from"./BipSnJcb.js";import{E as K,a as Q}from"./Z4IictLm.js";import{e as P,r as o,ar as B,H as E,c as l,o as a,a as r,t as M,b as c,w as f,F as I,m as w,n as N,x as W,d as q,_ as F,f as X,z as Y,v as R,u as Z,G as ee,h as te,i as V,j as k,aA as $}from"./BjkHNVA8.js";import{C as oe}from"./DtCgnYKu.js";import"./CM_M6Xgj.js";import"./CBcH1uzJ.js";import"./n1vI1_Nv.js";import"./B_vjKAZC.js";import"./CXwPJP5h.js";import"./BIqqf5dq.js";import"./CH9-T1LE.js";import"./ClRMjIOJ.js";import"./BKu6lkEW.js";import"./d3UjsK-T.js";import"./FYm-MTMW.js";import"./cfDoaBtk.js";import"./C1B8-dXF.js";import"./Bnvi_g-K.js";import"./yB3A8U-z.js";import"./UVx7YjW9.js";import"./BzIkMksr.js";/* empty css        */import"./Csy7st1x.js";import"./BhwkTUtM.js";import"./Ibc-iJtI.js";/* empty css        */import"./CQ93QHlZ.js";import"./BNVM5YSV.js";import"./CWzVxcs9.js";/* empty css        */import"./BmiGu4wZ.js";import"./D5AuvtSp.js";const ae={class:"menu-list"},se={class:"ico"},re={class:"title"},ne={class:"menu"},le={class:"min-menu"},ue=P({__name:"LeftMenu",props:{shopId:{type:Number,default:-1},leftMenuList:{type:Array,default:[]}},emits:["update:leftMenuList","update:dataOver"],setup(p,{emit:S}){const g=o(),v=o(),h=p,L=o(!1),u=B();return E([()=>u.currentRoute.value.query,()=>L.value],()=>{let m=u.currentRoute.value.query.categoryId;h.leftMenuList?.forEach((s,_)=>{s.categoryId===m&&(v.value=s.articleCategoryId)})},{deep:!0}),(m,s)=>{const _=J,n=Q,y=K;return a(),l("div",ae,[r("div",se,[s[1]||(s[1]=r("div",{class:"sub-title"},"CLASSIFICATION",-1)),r("div",re,"▪︎ "+M(m.$t("商品分类"))+" ▪︎",1)]),r("div",ne,[c(y,{modelValue:g.value,"onUpdate:modelValue":s[0]||(s[0]=e=>g.value=e)},{default:f(()=>[(a(!0),l(I,null,w(p.leftMenuList,e=>(a(),N(n,{name:e.categoryId},{title:f(()=>[c(_,{to:"/ShopCategory/"+p.shopId+"?categoryId="+e.categoryId,class:"title"},{default:f(()=>[q(M(e.categoryName),1)]),_:2},1032,["to"])]),default:f(()=>[r("div",le,[(a(!0),l(I,null,w(e?.children,i=>(a(),N(_,{class:W([v.value===i.categoryId?"pitch-on":"","item-menu"]),to:"/ShopCategory/"+p.shopId+"?categoryId="+i.categoryId},{default:f(()=>[q(M(i.categoryName),1)]),_:2},1032,["class","to"]))),256))])]),_:2},1032,["name"]))),256))]),_:1},8,["modelValue"])])])}}}),ie=F(ue,[["__scopeId","data-v-00684559"]]),de={key:0,style:{background:"white"}},ce={class:"container"},pe={class:"page-info"},me={class:"product-list"},_e=P({__name:"ShopCategory",setup(p){const S=X(),{t:g}=Y(),v=R(()=>{let t=g("店铺商品");return S.poweredByStatus!=1&&(t+="-powered by tigshop"),t}),h=o([]),L=t=>{h.value=t},u=o(!1),m=o(""),s=o("");Z({title:v,meta:[{name:"description",content:m},{name:"keywords",content:s}]});const _=ee(),n=o(_.path.split("/").pop()),y=R(()=>{let t={};return e.page>1&&(t.page=e.page),e.categoryId>0&&(t.shopCategoryId=e.categoryId),e.shopId>0&&(t.shopId=e.shopId),e.keyword!=""&&(t.keyword=e.keyword),t}),e=te({page:1,categoryId:0,shopId:-1}),i=B();E([()=>i.currentRoute.value.query],()=>{e.categoryId=i.currentRoute.value.query.categoryId,e.shopId=n.value},{deep:!0,immediate:!0});const x=o([]),b=o({}),A=o();return(async()=>{u.value=!1;try{const t=await G({shopId:n.value});A.value=t.decorateId,x.value=t.moduleList,Object.assign(b.value,t.pageModule)}catch{}finally{u.value=!0}})(),(t,C)=>{const D=U,H=j,O=z;return a(),l(I,null,[c(D,{shopId:n.value,shopCategoryId:k(e).categoryId},null,8,["shopId","shopCategoryId"]),u.value?(a(),l("div",de,[(a(!0),l(I,null,w(x.value,(d,T)=>(a(),l(I,{key:T},[d.type=="shopInfo"?(a(),N(H,{key:0,onTreeList:L,pageModule:b.value,shopId:Number(n.value),module:d.module},null,8,["pageModule","shopId","module"])):V("",!0)],64))),128)),r("div",ce,[r("div",pe,[c(ie,{shopId:Number(n.value),leftMenuList:h.value},null,8,["shopId","leftMenuList"]),r("div",me,[c(oe,{queryParams:k(y),"onUpdate:queryParams":C[0]||(C[0]=d=>$(y)?y.value=d:null),filter:k(e),"onUpdate:filter":C[1]||(C[1]=d=>$(e)?e.value=d:null)},null,8,["queryParams","filter"])])])])])):V("",!0),c(O,{mt30:!1,showFriendly:!1})],64)}}}),Ye=F(_e,[["__scopeId","data-v-c5197e75"]]);export{Ye as default};

import{_ as z}from"./BipSnJcb.js";import{E as B,a as N}from"./Z4IictLm.js";import{e as E,r as o,ai as k,H as w,c as u,o as a,b as g,w as _,F as I,m as x,n as h,a as M,x as O,d as R,t as L,p as V,_ as b}from"./BjkHNVA8.js";import{g as q}from"./BNVM5YSV.js";import"./BKu6lkEW.js";import"./Bnvi_g-K.js";import"./CH9-T1LE.js";const S={class:"menu-list"},F={key:0,class:"menu"},P={class:"min-menu"},T={key:1,class:"loading-data"},j=E({__name:"IssueLeftMenu",props:{dataOver:{type:Boolean,default:!1},leftMenuList:{type:Array,default:[]}},emits:["update:leftMenuList","update:dataOver"],setup(A,{emit:C}){const l=o([]),c=o(),f=o(),d=o(!0),v=o(!1),p=C;(async()=>{d.value=!0,p("update:leftMenuList",[]);try{const e=await q({categorySize:99,articleSize:99});Object.assign(l.value,e),p("update:leftMenuList",l.value),p("update:dataOver",!0),v.value=!0}catch(e){V.error(e.message)}finally{d.value=!1}})();const s=k();return w([()=>s.currentRoute.value.query,()=>v.value],()=>{if(s.currentRoute.value.query.hasOwnProperty("articleId")){let e=s.currentRoute.value.query.articleId;l.value?.forEach((t,n)=>{t.articles.forEach((i,y)=>{i.articleId===Number(e)&&(c.value=t.articleCategoryId,f.value=i.articleId)})})}else if(s.currentRoute.value.query.hasOwnProperty("categoryId")){let e=s.currentRoute.value.query.categoryId;l.value?.forEach((t,n)=>{t.categorySn===e&&(c.value=t.articleCategoryId)})}},{deep:!0}),(e,t)=>{const n=z,i=N,y=B;return a(),u("div",S,[g(n,{class:"ico",to:"/article/issue/index"}),d.value?(a(),u("div",T,L(e.$t("加载中")),1)):(a(),u("div",F,[g(y,{modelValue:c.value,"onUpdate:modelValue":t[0]||(t[0]=r=>c.value=r),accordion:""},{default:_(()=>[(a(!0),u(I,null,x(l.value,r=>(a(),h(i,{name:r.articleCategoryId,title:r.articleCategoryName,disabled:r.articles.length===0},{default:_(()=>[M("div",P,[(a(!0),u(I,null,x(r?.articles,m=>(a(),h(n,{class:O([f.value===m.articleId?"pitch-on":"","item-menu"]),to:"/article/issue/info?articleId="+m.articleId},{default:_(()=>[R(L(m.articleTitle),1)]),_:2},1032,["class","to"]))),256))])]),_:2},1032,["name","title","disabled"]))),256))]),_:1},8,["modelValue"])]))])}}}),W=b(j,[["__scopeId","data-v-34f9d306"]]);export{W as default};

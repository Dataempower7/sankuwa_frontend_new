import{b as a}from"./BAtlsuzY.js";import{_ as s}from"./IO9hpqeh.js";import{_ as e}from"./CfxJu6rg.js";import{e as t,as as i,g as l,r as o,y as r,h as n,at as c,p,c as u,o as m,b as d,a as v,w as f,E as y,j as _,k as g,au as h,i as j,t as b,A as w,d as k,F as $,l as x,x as V,m as C,s as O,ad as S,av as I,_ as U}from"./r4GZdGYg.js";import{E as z}from"./DzkGXNvy.js";import{_ as F}from"./BR_yKGQj.js";import{_ as N}from"./BPBPggU1.js";import{_ as L}from"./BkKSju2P.js";import{E as P}from"./5EY5iYNX.js";import{_ as A}from"./BEnD-M0R.js";import{_ as R}from"./DkwXwj3h.js";import{g as E}from"./BnqiwR50.js";import{g as M}from"./CteAIIt7.js";import{a as T,n as Q}from"./CdHUvLv6.js";import"./Oz6DVX0g.js";import"./YKVlRHu9.js";import"./Bd103Yf7.js";import"./g8XVjk5f.js";import"./CIKxL71l.js";import"./DL5ZnEaR.js";import"./bHTXMzV5.js";import"./VWWcEZs1.js";import"./CDFFSI_k.js";import"./70QeHNk8.js";import"./Be5t1WUS.js";import"./B0FaLosy.js";import"./DXQ6s2L8.js";import"./D-C0HBq9.js";import"./BGI8ORZz.js";import"./CBKhgGlL.js";import"./DONyGZrs.js";import"./BNGL4P8m.js";import"./Dw1lPJLP.js";import"./DgAv7tgp.js";import"./po9zIj7I.js";/* empty css        */const q={class:"container flex"},X={class:"menu"},Y={class:"info-row"},Z={class:"user-info"},B={class:"image-div"},D={class:"user-col"},G={class:"username"},H={key:0},J=["src"],K=["src"],W={class:"user_rank",style:{margin:"0 0 0 10px"}},aa={class:"user-span-info"},sa={class:"font-color"},ea={class:"user-span-info"},ta={class:"verify"},ia={key:2,style:{"margin-left":"15px"}},la={class:"right-info"},oa={class:"ico-page"},ra={class:"mes_name"},na={class:"mes_name"},ca={class:"ico-page"},pa={class:"mes_name"},ua={class:"mes_name"},ma={class:"ico-page"},da={class:"mes_name"},va={class:"mes_name"},fa={class:"ico-page"},ya={class:"mes_name"},_a={class:"mes_name"},ga={class:"title-or-tabs bw"},ha={class:"page-info-body"},ja={class:"swiper_box"},ba={class:"tab_list"},wa={key:0,class:"cheap_prod"},ka={class:"tab-list flex-wrap"},$a={class:"item"},xa={class:"text-ellipsis"},Va={key:0,class:"no-result",style:{height:"319px"}},Ca={key:1,class:"cheap_prod"},Oa={class:"tab-list flex-wrap"},Sa={class:"item"},Ia={class:"text-ellipsis"},Ua={key:0,class:"no-result",style:{height:"319px"}},za=U(t({__name:"index",setup(t){const U=i(),za=(a,s)=>{Aa.value.avatar=URL.createObjectURL(s.raw)},Fa=l();Fa.getUserInfo();const Na=o(1),La=o({}),Pa=o({autoplay:!1,navigation:!0,effect:"slide",loop:!0}),Aa=o({...Fa.userInfo}),Ra=()=>{S("/member/userCertification/info")};r(()=>{(async()=>{try{const a=await I();Object.assign(Aa.value,a),console.log(Aa.value)}catch(a){p.error(a.message)}})(),(async()=>{try{const a=await E();La.value=a}catch(a){p.error(a.message)}})(),Qa()});const Ea=o([]),Ma=n({page:1,size:15,sortField:"",sortOrder:"",keyword:""}),Ta=o([]),Qa=async()=>{try{const a=await c({...Ma});Ta.value.push(...qa(a))}catch(a){p.error(a.message)}};(async()=>{try{const a=await M({...Ma});a.records.length>0&&Ea.value.push(...qa(a.records))}catch(a){p.error(a.message)}})();const qa=a=>{let s=[];for(let e=0;e<a.length;e+=5){let t=a.slice(e,e+5);s.push(t)}return s};return(t,i)=>{const l=a,o=s,r=e,n=y,c=z,p=F,S=N,I=L,E=P,M=A,Ma=R;return m(),u($,null,[d(l),d(o,{title:"会员中心"}),v("div",q,[v("div",X,[d(r)]),v("div",Y,[v("div",Z,[v("div",B,[d(c,{action:_(h)+"/user/user/modifyAvatar",headers:_(U),"on-success":za,"show-file-list":!1,class:"avatar-uploader"},{default:f(()=>[d(n,{src:("imageFormat"in t?t.imageFormat:_(g))(Aa.value.avatar),alt:""},null,8,["src"])]),_:1},8,["action","headers"])]),v("div",D,[v("div",G,[v("span",null,b(_(Fa).userInfo.nickname?_(Fa).userInfo.nickname:_(Fa).userInfo.dimUsername),1),_(w)()?(m(),u("div",H,[Number(Aa.value.isCompanyAuth)>0?(m(),u("img",{key:0,class:"auth-icon",src:_(T),onClick:Ra},null,8,J)):(m(),u("img",{key:1,class:"auth-icon",src:_(Q),onClick:Ra},null,8,K))])):j("",!0),v("span",W,[d(n,{src:Aa.value.rankIco,style:{width:"20px"}},null,8,["src"])])]),v("div",aa,[v("span",null,b(t.$t("积分"))+"：",1),v("span",sa,b(Aa.value.points?Aa.value.points:"-"),1),k(b(t.$t("分")),1)]),v("div",ea,[v("span",null,b(t.$t("余额"))+"：",1),d(p,{modelValue:Aa.value.balance,"onUpdate:modelValue":i[0]||(i[0]=a=>Aa.value.balance=a),fontStyle:{color:"var(--price)"},showText:!1},null,8,["modelValue"]),d(S,{class:"ml10",to:"/member/account/deposit"},{default:f(()=>[k("["+b(t.$t("去充值"))+"]",1)]),_:1})]),v("div",ta,[Number(Aa.value.mobileValidated)>0?(m(),u($,{key:0},[i[5]||(i[5]=v("i",{class:"iconfont-pc icon-shoujiyiyanzheng has"},null,-1)),v("span",null,b(t.$t("手机已验证")),1)],64)):(m(),u($,{key:1},[i[6]||(i[6]=v("i",{class:"iconfont-pc icon-shoujiweiyanzheng no"},null,-1)),d(S,{to:"/member/security/info"},{default:f(()=>[k(b(t.$t("手机未验证(立即验证)")),1)]),_:1})],64)),_(w)()&&!("isOverseas"in t?t.isOverseas:_(x))()?(m(),u("div",ia,[Number(Aa.value.isCompanyAuth)>0?(m(),u($,{key:0},[i[7]||(i[7]=v("i",{class:"iconfont-pc icon-shimingrenzheng has"},null,-1)),d(S,{to:"/member/userCertification/info"},{default:f(()=>[k(b(t.$t("实名认证（已认证）")),1)]),_:1})],64)):(m(),u($,{key:1},[i[8]||(i[8]=v("i",{class:"iconfont-pc icon-shimingrenzheng no"},null,-1)),d(S,{to:"/member/userCertification/info"},{default:f(()=>[k(b(t.$t("实名认证（未认证）")),1)]),_:1})],64))])):j("",!0)])]),i[13]||(i[13]=v("div",{class:"info-line"},[v("span",{class:"top-icon"}),v("span",{class:"bottom-icon"})],-1)),v("div",la,[d(S,{to:"/member/coupon/list",class:"right-link"},{default:f(()=>[v("div",oa,[i[9]||(i[9]=v("div",{class:"coupon_pic pic"},null,-1)),v("div",ra,b(t.$t("优惠券")),1),v("div",na,b(Aa.value.awaitCoupon?Aa.value.awaitCoupon:"0")+b(t.$t("张")),1)])]),_:1}),d(S,{to:"/member/order/list?type=awaitPay",class:"right-link"},{default:f(()=>[v("div",ca,[i[10]||(i[10]=v("div",{class:"pay_pic pic"},null,-1)),v("div",pa,b(t.$t("待付款")),1),v("div",ua,b(Aa.value.awaitPay?Aa.value.awaitPay:"0")+b(t.$t("单")),1)])]),_:1}),d(S,{to:"/member/order/list?type=awaitShipping",class:"right-link"},{default:f(()=>[v("div",ma,[i[11]||(i[11]=v("div",{class:"take_pic pic"},null,-1)),v("div",da,b(t.$t("待发货")),1),v("div",va,b(Aa.value.awaitShipping?Aa.value.awaitShipping:"0")+b(t.$t("单")),1)])]),_:1}),d(S,{to:"/member/order/list?type=awaitComment",class:"right-link"},{default:f(()=>[v("div",fa,[i[12]||(i[12]=v("div",{class:"ass_pic pic"},null,-1)),v("div",ya,b(t.$t("待评价")),1),v("div",_a,b(La.value.awaitComment?La.value.awaitComment:"0")+b(t.$t("条")),1)])]),_:1})])]),v("div",ga,[v("span",null,b(t.$t("近期订单")),1),d(S,{class:"h4",to:"/member/order/list"},{default:f(()=>[k(b(t.$t("更多订单")),1),i[14]||(i[14]=v("i",{class:"iconfont-pc icon-jiantou_you"},null,-1))]),_:1,__:[14]})]),v("div",ha,[d(I,{modelValue:0})]),v("div",ja,[v("div",ba,[v("div",{class:V([1==Na.value?"active":"","tab"]),onMouseenter:i[1]||(i[1]=a=>Na.value=1)},b(t.$t("最近收藏")),35),v("div",{class:V([2==Na.value?"active":"","tab"]),onMouseenter:i[2]||(i[2]=a=>Na.value=2)},b(t.$t("最近浏览")),35)]),1==Na.value?(m(),u("div",wa,[d(M,{swiperOption:Pa.value,"onUpdate:swiperOption":i[3]||(i[3]=a=>Pa.value=a),itemList:Ea.value},{default:f(({item:a})=>[v("div",ka,[(m(!0),u($,null,C(a,a=>(m(),u("div",$a,[d(S,{title:a.productName,to:_(O)({path:"product",id:a.productId,sn:a.productSn}),class:"nuxt",target:"_blank"},{default:f(()=>[d(n,{src:("imageFormat"in t?t.imageFormat:_(g))(a.picThumb),class:"pro_pic",loading:"lazy",style:{transition:"opacity 0.2s linear"}},null,8,["src"]),v("div",null,[v("div",xa,b(a.productName),1)])]),_:2},1032,["title","to"]),v("p",null,[d(p,{modelValue:a.price,"onUpdate:modelValue":s=>a.price=s,fontStyle:{fontSize:"14px",color:"var(--price)"}},null,8,["modelValue","onUpdate:modelValue"])]),d(S,{to:_(O)({path:"product",id:a.productId,sn:a.productSn}),target:"_blank"},{default:f(()=>[d(E,{type:"primary"},{default:f(()=>[k(b(t.$t("立即购买")),1)]),_:1})]),_:2},1032,["to"])]))),256))])]),_:1},8,["swiperOption","itemList"]),0===Ea.value.length?(m(),u("div",Va,b(t.$t("暂无数据")),1)):j("",!0)])):(m(),u("div",Ca,[d(M,{swiperOption:Pa.value,"onUpdate:swiperOption":i[4]||(i[4]=a=>Pa.value=a),itemList:Ta.value},{default:f(({item:a})=>[v("div",Oa,[(m(!0),u($,null,C(a,a=>(m(),u("div",Sa,[d(S,{title:a.productName,to:_(O)({path:"product",id:a.productId,sn:a.productSn}),class:"nuxt",target:"_blank"},{default:f(()=>[d(n,{src:("imageFormat"in t?t.imageFormat:_(g))(a.picThumb),class:"pro_pic",loading:"lazy",style:{transition:"opacity 0.2s linear"}},null,8,["src"]),v("div",null,[v("div",Ia,b(a.productName),1)])]),_:2},1032,["title","to"]),v("p",null,[d(p,{modelValue:a.price,"onUpdate:modelValue":s=>a.price=s,fontStyle:{fontSize:"14px",color:"var(--price)"}},null,8,["modelValue","onUpdate:modelValue"])]),d(S,{to:_(O)({path:"product",id:a.productId,sn:a.productSn}),target:"_blank"},{default:f(()=>[d(E,{type:"primary"},{default:f(()=>[k(b(t.$t("立即购买")),1)]),_:1})]),_:2},1032,["to"])]))),256))])]),_:1},8,["swiperOption","itemList"]),0===Ta.value.length?(m(),u("div",Ua,b(t.$t("暂无数据")),1)):j("",!0)]))])])]),d(Ma,{type:2,bg:"#fff"})],64)}}}),[["__scopeId","data-v-8394a47d"]]);export{za as default};

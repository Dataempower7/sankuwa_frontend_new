import{b as B}from"./5VTus1_X.js";import{_ as R}from"./Qk1w64o9.js";import{_ as F}from"./B85mN9rA.js";import{a as N}from"./BJETu8kJ.js";import{C as H}from"./DtCgnYKu.js";import{e as V,f as j,z as D,v as f,r as t,u as G,G as U,h as z,ar as A,H as E,c as n,o as a,F as m,b as u,i as y,a as h,m as O,n as T,j as J,aA as K,_ as Q}from"./BjkHNVA8.js";import"./CM_M6Xgj.js";import"./BipSnJcb.js";import"./CBcH1uzJ.js";import"./n1vI1_Nv.js";import"./B_vjKAZC.js";import"./CXwPJP5h.js";import"./BIqqf5dq.js";import"./CH9-T1LE.js";import"./ClRMjIOJ.js";import"./BKu6lkEW.js";import"./d3UjsK-T.js";import"./FYm-MTMW.js";import"./cfDoaBtk.js";import"./C1B8-dXF.js";import"./Bnvi_g-K.js";import"./yB3A8U-z.js";import"./UVx7YjW9.js";import"./BzIkMksr.js";/* empty css        */import"./Csy7st1x.js";import"./BhwkTUtM.js";import"./Ibc-iJtI.js";/* empty css        */import"./CQ93QHlZ.js";import"./BNVM5YSV.js";import"./CWzVxcs9.js";/* empty css        */import"./BmiGu4wZ.js";import"./D5AuvtSp.js";const W={key:0,style:{background:"white"}},X={class:"container"},Y={class:"page-info"},Z=V({__name:"ShopSearch",setup($){const v=j(),{t:g}=D(),k=f(()=>{let e=g("店铺商品搜索");return v.poweredByStatus!=1&&(e+="-powered by tigshop"),e}),I=t([]),w=e=>{I.value=e},p=t(!1),S=t(""),L=t("");G({title:k,meta:[{name:"description",content:S},{name:"keyword",content:L}]});const b=U(),i=t(b.path.split("/").pop()),l=f(()=>{let e={};return o.page>1&&(e.page=o.page),o.shopId>0&&(e.shopId=o.shopId),o.keyword!=""&&(e.keyword=o.keyword),e}),o=z({page:1,keyword:"",shopId:-1}),c=A();E([()=>c.currentRoute.value.query],()=>{o.keyword=c.currentRoute.value.query.keyword,o.shopId=i.value},{deep:!0,immediate:!0});const d=t([]),_=t({}),q=t();return(async()=>{p.value=!1;try{const e=await N({shopId:i.value});q.value=e.decorateId,d.value=e.moduleList,Object.assign(_.value,e.pageModule)}catch{}finally{p.value=!0}})(),(e,s)=>{const C=B,M=R,x=F;return a(),n(m,null,[u(C),p.value?(a(),n("div",W,[(a(!0),n(m,null,O(d.value,(r,P)=>(a(),n(m,{key:P},[r.type=="shopInfo"?(a(),T(M,{key:0,onTreeList:w,pageModule:_.value,shopId:Number(i.value),module:r.module},null,8,["pageModule","shopId","module"])):y("",!0)],64))),128)),h("div",X,[h("div",Y,[u(H,{queryParams:l.value,"onUpdate:queryParams":s[0]||(s[0]=r=>l.value=r),filter:J(o),"onUpdate:filter":s[1]||(s[1]=r=>K(o)?o.value=r:null)},null,8,["queryParams","filter"])])])])):y("",!0),u(x,{mt30:!1,showFriendly:!1})],64)}}}),Ve=Q(Z,[["__scopeId","data-v-12ae1fb6"]]);export{Ve as default};

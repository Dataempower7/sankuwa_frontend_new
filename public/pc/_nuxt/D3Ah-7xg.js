import{e as x,z as v,v as g,c as V,o as I,x as m,a as o,j as i,p,_ as N}from"./BjkHNVA8.js";const h=["value","disabled"],C=x({__name:"InputNumber",props:{modelValue:{type:Number,default:1},disabled:{type:Boolean,default:!1},max:{type:Number}},emits:["change","update:modelValue"],setup(s,{emit:c}){const{t:d}=v(),n=c,t=s,u=g({get:()=>t.modelValue,set:l=>{n("update:modelValue",l)}}),r=l=>{if(!t.disabled&&(l=="min"&&u.value>1&&(n("update:modelValue",t.modelValue-1),n("change")),l=="add")){if(t.max&&t.modelValue>=t.max){n("update:modelValue",t.max),p.error(d("库存不足")),n("change");return}n("update:modelValue",t.modelValue+1),n("change")}},f=l=>{const e=l.target;e.value=e.value.replace(/\D/g,""),t.max&&parseInt(e.value)>t.max&&(e.value=t.max.toString(),p.error(d("库存不足")))},b=l=>{const e=l.target;let a=e.value;a===""||a===null?a="1":(a=parseInt(a,10).toString(),(isNaN(parseInt(a))||parseInt(a)<1)&&(a="1")),e.value=a,n("update:modelValue",parseInt(a,10)),n("change")};return(l,e)=>(I(),V("div",{class:m(["cart-num-box flex",s.disabled?"disabled-box":""])},[o("span",{class:m(["minus hand-pointer",i(u)<2?"disabled":""]),onClick:e[0]||(e[0]=a=>r("min"))},"－",2),o("input",{type:"text",value:i(u),onInput:f,onChange:b,disabled:s.disabled},null,40,h),o("span",{class:"add hand-pointer",onClick:e[1]||(e[1]=a=>r("add"))},"+")],2))}}),k=N(C,[["__scopeId","data-v-51cbdb3a"]]);export{k as default};

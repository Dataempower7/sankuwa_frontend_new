import{b as F}from"./5VTus1_X.js";import{_ as z}from"./Drr4mNEN.js";import{_ as M}from"./DUyqL_E3.js";import{_ as R}from"./CrI35J-I.js";import{E as S}from"./B_vjKAZC.js";import{E as T,a as L}from"./Ckzsp_T1.js";import{E as D}from"./BhwkTUtM.js";import{_ as H}from"./BipSnJcb.js";import{E as O}from"./HneMuvcA.js";import{_ as j}from"./B85mN9rA.js";import{e as G,r as $,h as J,I as K,y as Q,z as W,c as d,o as m,b as l,a as t,i as f,ad as X,t as a,d as i,ae as Y,n as Z,w as s,F as x,p as h,_ as ee}from"./BjkHNVA8.js";/* empty css        *//* empty css        */import{a as oe,i as le,u as ae}from"./BBhWvQCB.js";import"./CM_M6Xgj.js";import"./CBcH1uzJ.js";import"./n1vI1_Nv.js";import"./ClRMjIOJ.js";import"./BKu6lkEW.js";import"./BIqqf5dq.js";import"./CH9-T1LE.js";import"./CXwPJP5h.js";import"./d3UjsK-T.js";import"./FYm-MTMW.js";import"./cfDoaBtk.js";import"./C1B8-dXF.js";import"./Bnvi_g-K.js";import"./yB3A8U-z.js";import"./UVx7YjW9.js";import"./BzIkMksr.js";/* empty css        */import"./Csy7st1x.js";import"./Ibc-iJtI.js";import"./XdJ5ILcf.js";import"./BNVM5YSV.js";const te={class:"container flex"},se={class:"menu"},ne={class:"info-row"},re={class:"title-or-tabs"},ue={class:"tag-and-input"},ie={class:"tig-tabs"},me={class:"invoice-info-content"},de={class:"tips"},pe={class:"font-color"},ce={class:"remind-box mt20"},ve={class:"i-mt"},fe={key:0,class:"gray"},_e={key:1,class:"green"},be={key:2,class:"orange"},ye={key:3,class:"red"},$e={key:4},he={key:1,class:"error-info"},ge={key:0,class:"invoice-info-content"},Ve={class:"title-tips"},ke={key:1,class:"invoice-info-content"},Ce={class:"tips mb-tips"},we={class:"font-color"},Ie=G({__name:"Info",setup(Ee){const c=$(!1),w=J([{value:"发票申请",url:"/member/orderInvoice/list",size:0},{value:"增票资质",url:"/member/userInvoice/info",size:0}]),g=$(!0),V=K(),o=$({}),k=async()=>{try{const e=await oe();Object.assign(o.value,e)}catch(e){h.error(e.message)}finally{g.value=!1}};Q(()=>{k()});const _=()=>{k(),c.value=!c.value,o.value.isConfirm=0},{t:b}=W(),I={isConfirm:[{required:!0,message:b("请勾选确认书"),trigger:"change"},{validator:(e,n,v)=>{n!==1?v(new Error(b("需要勾选确认才能继续"))):v()},trigger:"change"}]},E=async()=>{await V.value.validate();try{o.value.titleType=2,o.value.invoiceType=1;let e={};o.value.status===0?(delete o.value.status,e=await le(o.value)):(delete o.value.status,e=await ae({id:o.value.invoiceId,...o.value})),_(),h.success(b("操作成功"))}catch(e){h.error(e.message)}finally{}};return(e,n)=>{const v=F,N=z,U=M,B=R,y=S,r=T,C=L,p=D,A=H,q=O,P=j;return m(),d(x,null,[l(v),l(N,{title:"增票资质"}),t("div",te,[t("div",se,[l(U)]),t("div",ne,[t("div",re,[t("div",ue,[t("div",ie,[l(B,{menuList:w},null,8,["menuList"])])])]),t("div",me,[t("div",de,[t("p",null,[t("strong",null,a(e.$t("温馨提示")),1)]),t("p",null,a(e.$t("我们会在一个工作日内完成审核工作"))+"。",1),t("p",null,[i(" 1）"+a(e.$t("资质审核结果查询时间"))+"：",1),t("span",pe,a(e.$t("资质上传一到两个工作日后即可查询"))+"。",1)]),t("p",null,"2）"+a(e.$t("注意有效增值税专用发票开票资质仅为一个"))+"。",1)]),X(t("div",ce,[t("div",ve,[t("strong",null,a(e.$t("您的增票资质"))+"：",1),o.value.status===0?(m(),d("span",fe,a(e.$t("未申请专用发票")),1)):o.value.status===1?(m(),d("span",_e,a(e.$t("审核通过")),1)):o.value.status===2?(m(),d("span",be,a(e.$t("已申请，待审核")),1)):o.value.status===3?(m(),d("span",ye,a(e.$t("审核未通过")),1)):(m(),d("span",$e))]),g.value?f("",!0):(m(),Z(y,{key:0,type:"primary",size:"small",class:"mt10",onClick:_},{default:s(()=>[i(a(o.value.status===0?e.$t("添加增票资质"):e.$t("修改并重新审核")),1)]),_:1})),o.value.status===3?(m(),d("div",he,a(e.$t("审核失败原因"))+"："+a(o.value.applyReply),1)):f("",!0)],512),[[Y,!c.value]])]),!c.value&&o.value.hasOwnProperty("companyName")?(m(),d("div",ge,[t("div",Ve,[t("li",null,a(e.$t("填写增票资质信息")),1)]),l(C,{"label-width":"auto",class:"form-body","label-suffix":"："},{default:s(()=>[l(r,{label:e.$t("单位名称")},{default:s(()=>[i(a(o.value.companyName),1)]),_:1},8,["label"]),l(r,{label:e.$t("纳税人识别码")},{default:s(()=>[i(a(o.value.companyCode),1)]),_:1},8,["label"]),l(r,{label:e.$t("注册地址")},{default:s(()=>[i(a(o.value.companyAddress),1)]),_:1},8,["label"]),l(r,{label:e.$t("注册电话")},{default:s(()=>[i(a(o.value.companyPhone),1)]),_:1},8,["label"]),l(r,{label:e.$t("开户银行")},{default:s(()=>[i(a(o.value.companyBank),1)]),_:1},8,["label"]),l(r,{label:e.$t("银行账户")},{default:s(()=>[i(a(o.value.companyAccount),1)]),_:1},8,["label"])]),_:1})])):f("",!0),c.value?(m(),d("div",ke,[t("div",Ce,[t("span",null,[i(a(e.$t("填写增票资质信息"))+" ",1),t("span",we,"（"+a(e.$t("所有信息均为必填"))+"）",1)])]),l(C,{ref_key:"formRef",ref:V,"label-width":120,model:o.value,rules:I,class:"form-body","label-suffix":"："},{default:s(()=>[l(r,{rules:[{required:!0,message:e.$t("单位名称不能为空")}],label:e.$t("单位名称"),prop:"companyName"},{default:s(()=>[l(p,{modelValue:o.value.companyName,"onUpdate:modelValue":n[0]||(n[0]=u=>o.value.companyName=u),clearable:"",placeholder:e.$t("请输入单位名称")},null,8,["modelValue","placeholder"])]),_:1},8,["rules","label"]),l(r,{rules:[{required:!0,message:e.$t("纳税人识别码不能为空")}],label:e.$t("纳税人识别码"),prop:"companyCode"},{default:s(()=>[l(p,{modelValue:o.value.companyCode,"onUpdate:modelValue":n[1]||(n[1]=u=>o.value.companyCode=u),clearable:"",placeholder:e.$t("请输入纳税人识别码")},null,8,["modelValue","placeholder"])]),_:1},8,["rules","label"]),l(r,{rules:[{required:!0,message:e.$t("注册地址不能为空")}],label:e.$t("注册地址"),prop:"companyAddress"},{default:s(()=>[l(p,{modelValue:o.value.companyAddress,"onUpdate:modelValue":n[2]||(n[2]=u=>o.value.companyAddress=u),clearable:"",placeholder:e.$t("请输入注册地址")},null,8,["modelValue","placeholder"])]),_:1},8,["rules","label"]),l(r,{rules:[{required:!0,message:e.$t("注册电话不能为空")}],label:e.$t("注册电话"),prop:"companyPhone"},{default:s(()=>[l(p,{modelValue:o.value.companyPhone,"onUpdate:modelValue":n[3]||(n[3]=u=>o.value.companyPhone=u),clearable:"",placeholder:e.$t("请输入注册电话")},null,8,["modelValue","placeholder"])]),_:1},8,["rules","label"]),l(r,{rules:[{required:!0,message:e.$t("开户银行不能为空")}],label:e.$t("开户银行"),prop:"companyBank"},{default:s(()=>[l(p,{modelValue:o.value.companyBank,"onUpdate:modelValue":n[4]||(n[4]=u=>o.value.companyBank=u),clearable:"",placeholder:e.$t("请输入开户银行")},null,8,["modelValue","placeholder"])]),_:1},8,["rules","label"]),l(r,{rules:[{required:!0,message:e.$t("银行账户不能为空")}],label:e.$t("银行账户"),prop:"companyAccount"},{default:s(()=>[l(p,{modelValue:o.value.companyAccount,"onUpdate:modelValue":n[5]||(n[5]=u=>o.value.companyAccount=u),clearable:"",placeholder:e.$t("请输入银行账户")},null,8,["modelValue","placeholder"])]),_:1},8,["rules","label"]),l(r,{label:"",prop:"isConfirm"},{default:s(()=>[l(q,{modelValue:o.value.isConfirm,"onUpdate:modelValue":n[6]||(n[6]=u=>o.value.isConfirm=u),"false-value":0,"true-value":1},{default:s(()=>[i(a(e.$t("我已阅读并同意"))+" ",1),l(A,{class:"font-color",target:"_blank",to:"/member/userInvoice/confirmInfo"},{default:s(()=>[i("《"+a(e.$t("增票资质确认书"))+"》",1)]),_:1})]),_:1},8,["modelValue"])]),_:1}),l(r,{label:""},{default:s(()=>[l(y,{type:"primary",onClick:E},{default:s(()=>[i(a(e.$t("确认")),1)]),_:1}),l(y,{onClick:_},{default:s(()=>[i(a(e.$t("取消")),1)]),_:1})]),_:1})]),_:1},8,["model"])])):f("",!0)])]),l(P)],64)}}}),io=ee(Ie,[["__scopeId","data-v-0dcb2d34"]]);export{io as default};

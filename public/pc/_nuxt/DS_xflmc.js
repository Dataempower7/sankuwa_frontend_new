import{b as e}from"./BAtlsuzY.js";import{_ as s}from"./D2NZCXIH.js";import{_ as o}from"./DkwXwj3h.js";import{a}from"./-nrDe5J4.js";import{C as t}from"./CyeJkqP_.js";import{e as r,f as p,z as i,v as m,r as l,u,G as d,h as n,an as j,H as c,c as y,o as v,F as h,b as f,i as w,a as g,m as k,n as I,j as b,az as _,_ as q}from"./r4GZdGYg.js";import"./CdHUvLv6.js";import"./BPBPggU1.js";import"./BR_yKGQj.js";import"./CDFFSI_k.js";import"./5EY5iYNX.js";import"./BNGL4P8m.js";import"./Bd103Yf7.js";import"./g8XVjk5f.js";import"./po9zIj7I.js";import"./CIKxL71l.js";import"./CBKhgGlL.js";import"./DXQ6s2L8.js";import"./DONyGZrs.js";import"./DL5ZnEaR.js";import"./VWWcEZs1.js";import"./B0FaLosy.js";/* empty css        */import"./Oz6DVX0g.js";import"./YKVlRHu9.js";import"./bHTXMzV5.js";import"./B8SSwkK9.js";import"./DgAv7tgp.js";import"./ByWc6Jiu.js";/* empty css        */import"./BGI8ORZz.js";import"./DiLTvFcP.js";const M={key:0,style:{background:"white"}},P={class:"container"},L={class:"page-info"},R=q(r({__name:"ShopSearch",setup(r){const q=p(),{t:R}=i(),S=m(()=>{let e=R("店铺商品搜索");return 1!=q.poweredByStatus&&(e+="-powered by tigshop"),e}),x=l([]),z=e=>{x.value=e},F=l(!1),G=l(""),U=l("");u({title:S,meta:[{name:"description",content:G},{name:"keyword",content:U}]});const B=d(),C=l(B.path.split("/").pop()),H=m(()=>{let e={};return N.page>1&&(e.page=N.page),N.shopId>0&&(e.shopId=N.shopId),""!=N.keyword&&(e.keyword=N.keyword),e}),N=n({page:1,keyword:"",shopId:-1}),O=j();c([()=>O.currentRoute.value.query],()=>{N.keyword=O.currentRoute.value.query.keyword,N.shopId=C.value},{deep:!0,immediate:!0});const Q=l([]),T=l({}),V=l();return(async()=>{F.value=!1;try{const e=await a({shopId:C.value});V.value=e.decorateId,Q.value=e.moduleList,Object.assign(T.value,e.pageModule)}catch(e){}finally{F.value=!0}})(),(a,r)=>{const p=e,i=s,m=o;return v(),y(h,null,[f(p),F.value?(v(),y("div",M,[(v(!0),y(h,null,k(Q.value,(e,s)=>(v(),y(h,{key:s},["shopInfo"==e.type?(v(),I(i,{key:0,onTreeList:z,pageModule:T.value,shopId:Number(C.value),module:e.module},null,8,["pageModule","shopId","module"])):w("",!0)],64))),128)),g("div",P,[g("div",L,[f(t,{queryParams:H.value,"onUpdate:queryParams":r[0]||(r[0]=e=>H.value=e),filter:b(N),"onUpdate:filter":r[1]||(r[1]=e=>_(N)?N.value=e:null)},null,8,["queryParams","filter"])])])])):w("",!0),f(m,{mt30:!1,showFriendly:!1})],64)}}}),[["__scopeId","data-v-12ae1fb6"]]);export{R as default};

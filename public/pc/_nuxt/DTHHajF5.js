import{b as e}from"./BAtlsuzY.js";import{_ as t}from"./D2NZCXIH.js";import{_ as a}from"./DkwXwj3h.js";import{a as s}from"./-nrDe5J4.js";import{_ as o}from"./BPBPggU1.js";import{E as r,a as l}from"./Dd2CB2d3.js";import{e as u,r as p,an as d,H as i,c as m,o as n,a as c,t as y,b as v,w as I,F as j,m as g,n as h,x as f,d as _,_ as w,f as L,z as M,v as b,u as C,G as k,h as q,i as N,j as S,az as R}from"./r4GZdGYg.js";import{C as P}from"./CyeJkqP_.js";import"./CdHUvLv6.js";import"./BR_yKGQj.js";import"./CDFFSI_k.js";import"./5EY5iYNX.js";import"./BNGL4P8m.js";import"./Bd103Yf7.js";import"./g8XVjk5f.js";import"./po9zIj7I.js";import"./CIKxL71l.js";import"./CBKhgGlL.js";import"./DXQ6s2L8.js";import"./DONyGZrs.js";import"./DL5ZnEaR.js";import"./VWWcEZs1.js";import"./B0FaLosy.js";/* empty css        */import"./Oz6DVX0g.js";import"./YKVlRHu9.js";import"./bHTXMzV5.js";import"./B8SSwkK9.js";import"./DgAv7tgp.js";import"./ByWc6Jiu.js";/* empty css        */import"./BGI8ORZz.js";import"./DiLTvFcP.js";const V={class:"menu-list"},x={class:"ico"},A={class:"title"},F={class:"menu"},O={class:"min-menu"},U=w(u({__name:"LeftMenu",props:{shopId:{type:Number,default:-1},leftMenuList:{type:Array,default:[]}},emits:["update:leftMenuList","update:dataOver"],setup(e,{emit:t}){const a=p(),s=p(),u=e,w=p(!1),L=d();return i([()=>L.currentRoute.value.query,()=>w.value],()=>{var e;let t=L.currentRoute.value.query.categoryId;null==(e=u.leftMenuList)||e.forEach((e,a)=>{e.categoryId===t&&(s.value=e.articleCategoryId)})},{deep:!0}),(t,u)=>{const p=o,d=l,i=r;return n(),m("div",V,[c("div",x,[u[1]||(u[1]=c("div",{class:"sub-title"},"CLASSIFICATION",-1)),c("div",A,"▪︎ "+y(t.$t("商品分类"))+" ▪︎",1)]),c("div",F,[v(i,{modelValue:a.value,"onUpdate:modelValue":u[0]||(u[0]=e=>a.value=e)},{default:I(()=>[(n(!0),m(j,null,g(e.leftMenuList,t=>(n(),h(d,{name:t.categoryId},{title:I(()=>[v(p,{to:"/ShopCategory/"+e.shopId+"?categoryId="+t.categoryId,class:"title"},{default:I(()=>[_(y(t.categoryName),1)]),_:2},1032,["to"])]),default:I(()=>[c("div",O,[(n(!0),m(j,null,g(null==t?void 0:t.children,t=>(n(),h(p,{class:f([s.value===t.categoryId?"pitch-on":"","item-menu"]),to:"/ShopCategory/"+e.shopId+"?categoryId="+t.categoryId},{default:I(()=>[_(y(t.categoryName),1)]),_:2},1032,["class","to"]))),256))])]),_:2},1032,["name"]))),256))]),_:1},8,["modelValue"])])])}}}),[["__scopeId","data-v-00684559"]]),z={key:0,style:{background:"white"}},E={class:"container"},G={class:"page-info"},T={class:"product-list"},$=w(u({__name:"ShopCategory",setup(o){const r=L(),{t:l}=M(),u=b(()=>{let e=l("店铺商品");return 1!=r.poweredByStatus&&(e+="-powered by tigshop"),e}),y=p([]),I=e=>{y.value=e},f=p(!1),_=p(""),w=p("");C({title:u,meta:[{name:"description",content:_},{name:"keywords",content:w}]});const V=k(),x=p(V.path.split("/").pop()),A=b(()=>{let e={};return F.page>1&&(e.page=F.page),F.categoryId>0&&(e.shopCategoryId=F.categoryId),F.shopId>0&&(e.shopId=F.shopId),""!=F.keyword&&(e.keyword=F.keyword),e}),F=q({page:1,categoryId:0,shopId:-1}),O=d();i([()=>O.currentRoute.value.query],()=>{F.categoryId=O.currentRoute.value.query.categoryId,F.shopId=x.value},{deep:!0,immediate:!0});const $=p([]),B=p({}),H=p();return(async()=>{f.value=!1;try{const e=await s({shopId:x.value});H.value=e.decorateId,$.value=e.moduleList,Object.assign(B.value,e.pageModule)}catch(e){}finally{f.value=!0}})(),(s,o)=>{const r=e,l=t,u=a;return n(),m(j,null,[v(r,{shopId:x.value,shopCategoryId:S(F).categoryId},null,8,["shopId","shopCategoryId"]),f.value?(n(),m("div",z,[(n(!0),m(j,null,g($.value,(e,t)=>(n(),m(j,{key:t},["shopInfo"==e.type?(n(),h(l,{key:0,onTreeList:I,pageModule:B.value,shopId:Number(x.value),module:e.module},null,8,["pageModule","shopId","module"])):N("",!0)],64))),128)),c("div",E,[c("div",G,[v(U,{shopId:Number(x.value),leftMenuList:y.value},null,8,["shopId","leftMenuList"]),c("div",T,[v(P,{queryParams:S(A),"onUpdate:queryParams":o[0]||(o[0]=e=>R(A)?A.value=e:null),filter:S(F),"onUpdate:filter":o[1]||(o[1]=e=>R(F)?F.value=e:null)},null,8,["queryParams","filter"])])])])])):N("",!0),v(u,{mt30:!1,showFriendly:!1})],64)}}}),[["__scopeId","data-v-c5197e75"]]);export{$ as default};

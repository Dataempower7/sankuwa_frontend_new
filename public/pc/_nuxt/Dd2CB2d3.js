import{a2 as e,a1 as a,bx as t,K as s,M as l,L as o,r as i,H as d,P as n,v as r,a6 as c,ds as p,bw as u,N as m,e as v,c as g,o as f,a3 as y,x as b,j as h,n as x,w as C,be as H,dt as w,ay as K,ac as B,Z as T,bR as $,O as A,a as E,b as P,d as I,t as N,aJ as k,X as _,b2 as F,af as O,a9 as j,aa as S,ab as V}from"./r4GZdGYg.js";import{C as L,U as W,t as q}from"./CIKxL71l.js";import{c as D}from"./DONyGZrs.js";import{u as J}from"./g8XVjk5f.js";const M=s=>e(s)||a(s)||t(s),R=s({accordion:Boolean,modelValue:{type:l([Array,String,Number]),default:()=>o([])},expandIconPosition:{type:l([String]),default:"right"},beforeCollapse:{type:l(Function)}}),U={[W]:M,[L]:M},X=Symbol("collapseContextKey"),Z=v({name:"ElCollapse"});var z=m(v({...Z,props:R,emits:U,setup(e,{expose:a,emit:t}){const s=e,{activeNames:l,setActiveNames:o}=((e,a)=>{const t=i(D(e.modelValue)),s=s=>{t.value=s;const l=e.accordion?t.value[0]:t.value;a(W,l),a(L,l)},l=a=>{if(e.accordion)s([t.value[0]===a?"":a]);else{const e=[...t.value],l=e.indexOf(a);l>-1?e.splice(l,1):e.push(a),s(e)}};return d(()=>e.modelValue,()=>t.value=D(e.modelValue),{deep:!0}),c(X,{activeNames:t,handleItemClick:async a=>{const{beforeCollapse:t}=e;if(!t)return void l(a);const s=t(a);[p(s),u(s)].includes(!0)||q("ElCollapse","beforeCollapse must return type `Promise<boolean>` or `boolean`"),p(s)?s.then(e=>{!1!==e&&l(a)}).catch(e=>{}):s&&l(a)}}),{activeNames:t,setActiveNames:s}})(s,t),{rootKls:m}=(e=>{const a=n("collapse");return{rootKls:r(()=>[a.b(),a.b(`icon-position-${e.expandIconPosition}`)])}})(s);return a({activeNames:l,setActiveNames:o}),(e,a)=>(f(),g("div",{class:b(h(m))},[y(e.$slots,"default")],2))}}),[["__file","collapse.vue"]]);const G=v({name:"ElCollapseTransition"});const Q=B(m(v({...G,setup(e){const a=n("collapse-transition"),t=e=>{e.style.maxHeight="",e.style.overflow=e.dataset.oldOverflow,e.style.paddingTop=e.dataset.oldPaddingTop,e.style.paddingBottom=e.dataset.oldPaddingBottom},s={beforeEnter(e){e.dataset||(e.dataset={}),e.dataset.oldPaddingTop=e.style.paddingTop,e.dataset.oldPaddingBottom=e.style.paddingBottom,e.style.height&&(e.dataset.elExistsHeight=e.style.height),e.style.maxHeight=0,e.style.paddingTop=0,e.style.paddingBottom=0},enter(e){requestAnimationFrame(()=>{e.dataset.oldOverflow=e.style.overflow,e.dataset.elExistsHeight?e.style.maxHeight=e.dataset.elExistsHeight:0!==e.scrollHeight?e.style.maxHeight=`${e.scrollHeight}px`:e.style.maxHeight=0,e.style.paddingTop=e.dataset.oldPaddingTop,e.style.paddingBottom=e.dataset.oldPaddingBottom,e.style.overflow="hidden"})},afterEnter(e){e.style.maxHeight="",e.style.overflow=e.dataset.oldOverflow},enterCancelled(e){t(e)},beforeLeave(e){e.dataset||(e.dataset={}),e.dataset.oldPaddingTop=e.style.paddingTop,e.dataset.oldPaddingBottom=e.style.paddingBottom,e.dataset.oldOverflow=e.style.overflow,e.style.maxHeight=`${e.scrollHeight}px`,e.style.overflow="hidden"},leave(e){0!==e.scrollHeight&&(e.style.maxHeight=0,e.style.paddingTop=0,e.style.paddingBottom=0)},afterLeave(e){t(e)},leaveCancelled(e){t(e)}};return(e,t)=>(f(),x(K,H({name:h(a).b()},w(s)),{default:C(()=>[y(e.$slots,"default")]),_:3},16,["name"]))}}),[["__file","collapse-transition.vue"]])),Y=s({title:{type:String,default:""},name:{type:l([String,Number]),default:void 0},icon:{type:$,default:T},disabled:Boolean}),ee=v({name:"ElCollapseItem"});var ae=m(v({...ee,props:Y,setup(e,{expose:a}){const t=e,{focusing:s,id:l,isActive:o,handleFocus:d,handleHeaderClick:c,handleEnterClick:p}=(e=>{const a=A(X),{namespace:t}=n("collapse"),s=i(!1),l=i(!1),o=J(),d=r(()=>o.current++),c=r(()=>{var a;return null!=(a=e.name)?a:`${t.value}-id-${o.prefix}-${h(d)}`}),p=r(()=>null==a?void 0:a.activeNames.value.includes(h(c)));return{focusing:s,id:d,isActive:p,handleFocus:()=>{setTimeout(()=>{l.value?l.value=!1:s.value=!0},50)},handleHeaderClick:t=>{if(e.disabled)return;const o=t.target;(null==o?void 0:o.closest("input, textarea, select"))||(null==a||a.handleItemClick(h(c)),s.value=!1,l.value=!0)},handleEnterClick:e=>{const t=e.target;(null==t?void 0:t.closest("input, textarea, select"))||(e.preventDefault(),null==a||a.handleItemClick(h(c)))}}})(t),{arrowKls:u,headKls:m,rootKls:v,itemTitleKls:H,itemWrapperKls:w,itemContentKls:K,scopedContentId:B,scopedHeadId:T}=((e,{focusing:a,isActive:t,id:s})=>{const l=n("collapse"),o=r(()=>[l.b("item"),l.is("active",h(t)),l.is("disabled",e.disabled)]),i=r(()=>[l.be("item","header"),l.is("active",h(t)),{focusing:h(a)&&!e.disabled}]),d=r(()=>[l.be("item","arrow"),l.is("active",h(t))]);return{itemTitleKls:r(()=>[l.be("item","title")]),arrowKls:d,headKls:i,rootKls:o,itemWrapperKls:r(()=>l.be("item","wrap")),itemContentKls:r(()=>l.be("item","content")),scopedContentId:r(()=>l.b(`content-${h(s)}`)),scopedHeadId:r(()=>l.b(`head-${h(s)}`))}})(t,{focusing:s,isActive:o,id:l});return a({isActive:o}),(e,a)=>(f(),g("div",{class:b(h(v))},[E("div",{id:h(T),class:b(h(m)),"aria-expanded":h(o),"aria-controls":h(B),"aria-describedby":h(B),tabindex:e.disabled?-1:0,role:"button",onClick:h(c),onKeydown:F(O(h(p),["stop"]),["space","enter"]),onFocus:h(d),onBlur:e=>s.value=!1},[E("span",{class:b(h(H))},[y(e.$slots,"title",{isActive:h(o)},()=>[I(N(e.title),1)])],2),y(e.$slots,"icon",{isActive:h(o)},()=>[P(h(_),{class:b(h(u))},{default:C(()=>[(f(),x(k(e.icon)))]),_:1},8,["class"])])],42,["id","aria-expanded","aria-controls","aria-describedby","tabindex","onClick","onKeydown","onFocus","onBlur"]),P(h(Q),null,{default:C(()=>[j(E("div",{id:h(B),role:"region",class:b(h(w)),"aria-hidden":!h(o),"aria-labelledby":h(T)},[E("div",{class:b(h(K))},[y(e.$slots,"default")],2)],10,["id","aria-hidden","aria-labelledby"]),[[S,h(o)]])]),_:3})],2))}}),[["__file","collapse-item.vue"]]);const te=B(z,{CollapseItem:ae}),se=V(ae);export{te as E,se as a};

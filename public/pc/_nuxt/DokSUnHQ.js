import{b as a}from"./BAtlsuzY.js";import{_ as s}from"./IO9hpqeh.js";import{aH as e,e as t,r as l,h as i,y as o,c as r,o as p,b as c,a as d,i as m,F as n,m as u,w as g,E as j,j as f,k as v,s as h,d as _,t as x,p as b,_ as y}from"./r4GZdGYg.js";import{_ as k}from"./BPBPggU1.js";import{_ as V}from"./BR_yKGQj.js";import{_ as U}from"./DkwXwj3h.js";import{P as w}from"./BGI8ORZz.js";import"./CdHUvLv6.js";import"./CDFFSI_k.js";import"./5EY5iYNX.js";import"./BNGL4P8m.js";import"./Bd103Yf7.js";import"./g8XVjk5f.js";import"./po9zIj7I.js";import"./CIKxL71l.js";import"./CBKhgGlL.js";import"./DXQ6s2L8.js";import"./DONyGZrs.js";import"./DL5ZnEaR.js";import"./VWWcEZs1.js";import"./B0FaLosy.js";/* empty css        */import"./Oz6DVX0g.js";import"./YKVlRHu9.js";import"./bHTXMzV5.js";import"./70QeHNk8.js";import"./DgAv7tgp.js";const z={class:"container"},P={class:"exchange-list"},$={class:"goods-list-c"},E={class:"flex-wrap"},F={class:"tab-box g_list"},I=["title"],L={class:"g-item-warp"},N={class:"info"},C={class:"name ellipsis"},H={class:"market_price"},M={class:"exchange_price"},O={class:"exchange_btn"},Q={key:0,class:"search-empty"},R={class:"bd"},X={key:1,class:"el-page"},Y=y(t({__name:"List",setup(t){l(999);const y=l([]),Y=l(!0),Z=l(0),q=i({page:1,size:20,sortField:"id",sortOrder:"desc",isEnabled:1}),A=async()=>{y.value=[],Y.value=!0;try{const s=await(a={...q},e({url:"product/exchange/list",method:"get",params:a}));y.value=s.records,Z.value=s.total}catch(s){b.error(s.message)}finally{Y.value=!1}var a};return o(()=>{A()}),(e,t)=>{const l=a,i=s,o=j,b=k,B=V,D=U;return p(),r(n,null,[c(l),c(i,{title:"积分换购"}),d("div",z,[d("div",P,[d("div",$,[d("ul",E,[(p(!0),r(n,null,u(y.value,a=>(p(),r("li",F,[d("div",{title:a.productName,class:"nuxt",style:{display:"flex","align-items":"center","justify-content":"space-between"}},[d("div",L,[c(b,{class:"pic",to:f(h)({path:"exchange",id:a.id}),target:"_blank"},{default:g(()=>[c(o,{style:{width:"250px",height:"250px"},src:f(v)(a.picUrl),fit:"fill"},null,8,["src"])]),_:2},1032,["to"]),d("div",N,[d("p",C,[c(b,{to:f(h)({path:"exchange",id:a.id}),target:"_blank"},{default:g(()=>[_(x(a.productName),1)]),_:2},1032,["to"])]),d("p",H,[_(x(e.$t("原价"))+"：",1),c(B,{modelValue:a.productPrice,"onUpdate:modelValue":s=>a.productPrice=s},null,8,["modelValue","onUpdate:modelValue"])]),d("p",M,[_(x(e.$t("积分价"))+"：",1),c(B,{modelValue:a.discountsPrice,"onUpdate:modelValue":s=>a.discountsPrice=s},null,8,["modelValue","onUpdate:modelValue"]),t[2]||(t[2]=_(" + ")),d("span",null,x(a.exchangeIntegral),1),_(" "+x(e.$t("积分")),1)]),c(b,{to:f(h)({path:"exchange",id:a.id}),target:"_blank"},{default:g(()=>[d("p",O,x(e.$t("立即兑换")),1)]),_:2},1032,["to"])])])],8,I)]))),256))])])]),0!==y.value.length||Y.value?m("",!0):(p(),r("div",Q,[d("div",R,[d("h4",null,x(e.$t("暂时没有符合条件的商品！")),1)])])),y.value.length>0&&!Y.value?(p(),r("div",X,[c(f(w),{page:q.page,"onUpdate:page":t[0]||(t[0]=a=>q.page=a),size:q.size,"onUpdate:size":t[1]||(t[1]=a=>q.size=a),total:Z.value,onCallback:A},null,8,["page","size","total"])])):m("",!0)]),c(D,{type:2,bg:"#fff"})],64)}}}),[["__scopeId","data-v-54a1913e"]]);export{Y as default};

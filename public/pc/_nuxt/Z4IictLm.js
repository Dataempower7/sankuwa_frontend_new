import{a4 as L,a3 as z,bA as U,M as k,O as _,N as W,r as H,H as q,R as w,v as c,a9 as G,dx as I,bz as Q,P as T,e as h,c as O,o as E,a6 as y,x as f,j as t,n as A,w as P,bh as R,dy as Z,bE as J,ag as S,a0 as X,bV as Y,Q as ee,a as C,b as K,d as te,t as se,aN as ae,Z as oe,b4 as le,aj as ne,ad as ie,ae as de,af as re}from"./BjkHNVA8.js";import{C as V,U as D,t as ce}from"./BKu6lkEW.js";import{c as N}from"./Bnvi_g-K.js";import{u as pe}from"./CH9-T1LE.js";const $=a=>L(a)||z(a)||U(a),ue=k({accordion:Boolean,modelValue:{type:_([Array,String,Number]),default:()=>W([])},expandIconPosition:{type:_([String]),default:"right"},beforeCollapse:{type:_(Function)}}),me={[D]:$,[V]:$},F=Symbol("collapseContextKey"),fe="ElCollapse",ve=(a,o)=>{const s=H(N(a.modelValue)),i=l=>{s.value=l;const n=a.accordion?s.value[0]:s.value;o(D,n),o(V,n)},e=l=>{if(a.accordion)i([s.value[0]===l?"":l]);else{const n=[...s.value],r=n.indexOf(l);r>-1?n.splice(r,1):n.push(l),i(n)}},d=async l=>{const{beforeCollapse:n}=a;if(!n){e(l);return}const r=n(l);[I(r),Q(r)].includes(!0)||ce(fe,"beforeCollapse must return type `Promise<boolean>` or `boolean`"),I(r)?r.then(u=>{u!==!1&&e(l)}).catch(u=>{}):r&&e(l)};return q(()=>a.modelValue,()=>s.value=N(a.modelValue),{deep:!0}),G(F,{activeNames:s,handleItemClick:d}),{activeNames:s,setActiveNames:i}},he=a=>{const o=w("collapse");return{rootKls:c(()=>[o.b(),o.b(`icon-position-${a.expandIconPosition}`)])}},ge=h({name:"ElCollapse"}),ye=h({...ge,props:ue,emits:me,setup(a,{expose:o,emit:s}){const i=a,{activeNames:e,setActiveNames:d}=ve(i,s),{rootKls:l}=he(i);return o({activeNames:e,setActiveNames:d}),(n,r)=>(E(),O("div",{class:f(t(l))},[y(n.$slots,"default")],2))}});var be=T(ye,[["__file","collapse.vue"]]);const Ce=h({name:"ElCollapseTransition"}),_e=h({...Ce,setup(a){const o=w("collapse-transition"),s=e=>{e.style.maxHeight="",e.style.overflow=e.dataset.oldOverflow,e.style.paddingTop=e.dataset.oldPaddingTop,e.style.paddingBottom=e.dataset.oldPaddingBottom},i={beforeEnter(e){e.dataset||(e.dataset={}),e.dataset.oldPaddingTop=e.style.paddingTop,e.dataset.oldPaddingBottom=e.style.paddingBottom,e.style.height&&(e.dataset.elExistsHeight=e.style.height),e.style.maxHeight=0,e.style.paddingTop=0,e.style.paddingBottom=0},enter(e){requestAnimationFrame(()=>{e.dataset.oldOverflow=e.style.overflow,e.dataset.elExistsHeight?e.style.maxHeight=e.dataset.elExistsHeight:e.scrollHeight!==0?e.style.maxHeight=`${e.scrollHeight}px`:e.style.maxHeight=0,e.style.paddingTop=e.dataset.oldPaddingTop,e.style.paddingBottom=e.dataset.oldPaddingBottom,e.style.overflow="hidden"})},afterEnter(e){e.style.maxHeight="",e.style.overflow=e.dataset.oldOverflow},enterCancelled(e){s(e)},beforeLeave(e){e.dataset||(e.dataset={}),e.dataset.oldPaddingTop=e.style.paddingTop,e.dataset.oldPaddingBottom=e.style.paddingBottom,e.dataset.oldOverflow=e.style.overflow,e.style.maxHeight=`${e.scrollHeight}px`,e.style.overflow="hidden"},leave(e){e.scrollHeight!==0&&(e.style.maxHeight=0,e.style.paddingTop=0,e.style.paddingBottom=0)},afterLeave(e){s(e)},leaveCancelled(e){s(e)}};return(e,d)=>(E(),A(J,R({name:t(o).b()},Z(i)),{default:P(()=>[y(e.$slots,"default")]),_:3},16,["name"]))}});var Ee=T(_e,[["__file","collapse-transition.vue"]]);const we=S(Ee),xe=k({title:{type:String,default:""},name:{type:_([String,Number]),default:void 0},icon:{type:Y,default:X},disabled:Boolean}),He=a=>{const o=ee(F),{namespace:s}=w("collapse"),i=H(!1),e=H(!1),d=pe(),l=c(()=>d.current++),n=c(()=>{var p;return(p=a.name)!=null?p:`${s.value}-id-${d.prefix}-${t(l)}`}),r=c(()=>o?.activeNames.value.includes(t(n)));return{focusing:i,id:l,isActive:r,handleFocus:()=>{setTimeout(()=>{e.value?e.value=!1:i.value=!0},50)},handleHeaderClick:p=>{if(a.disabled)return;const m=p.target;m?.closest("input, textarea, select")||(o?.handleItemClick(t(n)),i.value=!1,e.value=!0)},handleEnterClick:p=>{const m=p.target;m?.closest("input, textarea, select")||(p.preventDefault(),o?.handleItemClick(t(n)))}}},Pe=(a,{focusing:o,isActive:s,id:i})=>{const e=w("collapse"),d=c(()=>[e.b("item"),e.is("active",t(s)),e.is("disabled",a.disabled)]),l=c(()=>[e.be("item","header"),e.is("active",t(s)),{focusing:t(o)&&!a.disabled}]),n=c(()=>[e.be("item","arrow"),e.is("active",t(s))]),r=c(()=>[e.be("item","title")]),g=c(()=>e.be("item","wrap")),u=c(()=>e.be("item","content")),b=c(()=>e.b(`content-${t(i)}`)),p=c(()=>e.b(`head-${t(i)}`));return{itemTitleKls:r,arrowKls:n,headKls:l,rootKls:d,itemWrapperKls:g,itemContentKls:u,scopedContentId:b,scopedHeadId:p}},Te=h({name:"ElCollapseItem"}),Be=h({...Te,props:xe,setup(a,{expose:o}){const s=a,{focusing:i,id:e,isActive:d,handleFocus:l,handleHeaderClick:n,handleEnterClick:r}=He(s),{arrowKls:g,headKls:u,rootKls:b,itemTitleKls:p,itemWrapperKls:m,itemContentKls:M,scopedContentId:x,scopedHeadId:B}=Pe(s,{focusing:i,isActive:d,id:e});return o({isActive:d}),(v,Ie)=>(E(),O("div",{class:f(t(b))},[C("div",{id:t(B),class:f(t(u)),"aria-expanded":t(d),"aria-controls":t(x),"aria-describedby":t(x),tabindex:v.disabled?-1:0,role:"button",onClick:t(n),onKeydown:le(ne(t(r),["stop"]),["space","enter"]),onFocus:t(l),onBlur:Ke=>i.value=!1},[C("span",{class:f(t(p))},[y(v.$slots,"title",{isActive:t(d)},()=>[te(se(v.title),1)])],2),y(v.$slots,"icon",{isActive:t(d)},()=>[K(t(oe),{class:f(t(g))},{default:P(()=>[(E(),A(ae(v.icon)))]),_:1},8,["class"])])],42,["id","aria-expanded","aria-controls","aria-describedby","tabindex","onClick","onKeydown","onFocus","onBlur"]),K(t(we),null,{default:P(()=>[ie(C("div",{id:t(x),role:"region",class:f(t(m)),"aria-hidden":!t(d),"aria-labelledby":t(B)},[C("div",{class:f(t(M))},[y(v.$slots,"default")],2)],10,["id","aria-hidden","aria-labelledby"]),[[de,t(d)]])]),_:3})],2))}});var j=T(Be,[["__file","collapse-item.vue"]]);const Ae=S(be,{CollapseItem:j}),Se=re(j);export{Ae as E,Se as a};

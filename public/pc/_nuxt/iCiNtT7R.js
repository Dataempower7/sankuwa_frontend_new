import{E as q}from"./BhwkTUtM.js";import{E as c,a as y}from"./Ckzsp_T1.js";import{a as U,E}from"./ClRMjIOJ.js";import{e as I,I as x,r as D,v as N,z as S,y as C,c as F,o as k,a as u,b as o,w as d,d as n,p as v,_ as B}from"./BjkHNVA8.js";/* empty css        *//* empty css        *//* empty css        */import{u as z}from"./fMgGBXOa.js";import"./d3UjsK-T.js";import"./BKu6lkEW.js";import"./BIqqf5dq.js";import"./CH9-T1LE.js";import"./yB3A8U-z.js";import"./Bnvi_g-K.js";import"./CXwPJP5h.js";const j={class:"create-container"},G={class:"content"},M=I({__name:"CreateData",emits:["onDisabled"],setup(O,{expose:b,emit:f}){const p=f,m=x(),l=D({account:"admin",password:"",sql:0,dbhost:"127.0.0.1",dbname:"tigshop",dbport:"3306",dbuser:"root",dbpwd:"",redispwd:"",redishost:"127.0.0.1",redisport:"6379",redisselect:0});N(()=>!!Object.values(l.value).every(e=>e!==""));const V=r=>{const e=Number(r);e<0||e>16?l.value.redisselect=0:l.value.redisselect=e},{t:_}=S(),w=async()=>{await m.value.validate();try{await z(l.value),v.success(_("操作成功")),p("onDisabled",{type:"over",userInfo:{account:l.value.account,password:l.value.password}})}catch(r){v.error(r.message)}};return C(()=>{p("onDisabled",!0)}),b({onSubmit:w}),(r,e)=>{const t=q,s=c,i=E,R=U,g=y;return k(),F("div",j,[e[17]||(e[17]=u("h2",{class:"tit"},"创建数据",-1)),u("div",G,[o(g,{model:l.value,"label-width":"auto",size:"large",ref_key:"formRef",ref:m},{default:d(()=>[o(s,{label:"后台管理员账号：",prop:"account",rules:[{required:!0,message:"请输入后台管理员账号!"}]},{default:d(()=>[o(t,{modelValue:l.value.account,"onUpdate:modelValue":e[0]||(e[0]=a=>l.value.account=a),placeholder:"请输入后台管理员账号"},null,8,["modelValue"]),e[12]||(e[12]=u("div",{class:"tips"},"您的后台管理员账号，用于登录后台管理系统， 请牢记！",-1))]),_:1,__:[12]}),o(s,{label:"后台管理员密码：",prop:"password",rules:[{required:!0,message:"请输入后台管理员密码!"}]},{default:d(()=>[o(t,{type:"password",modelValue:l.value.password,"onUpdate:modelValue":e[1]||(e[1]=a=>l.value.password=a),placeholder:"请输入后台管理员密码"},null,8,["modelValue"]),e[13]||(e[13]=u("div",{class:"tips"},"您的后台管理员密码，用于登录后台管理系统， 请牢记！",-1))]),_:1,__:[13]}),o(s,{label:"数据库类型：",rules:[{required:!0,message:"请选择数据库类型!"}]},{default:d(()=>[o(R,{modelValue:l.value.sql,"onUpdate:modelValue":e[2]||(e[2]=a=>l.value.sql=a)},{default:d(()=>[o(i,{value:0},{default:d(()=>e[14]||(e[14]=[n("带演示数据",-1)])),_:1,__:[14]}),o(i,{value:1},{default:d(()=>e[15]||(e[15]=[n("纯净版(无演示数据)",-1)])),_:1,__:[15]})]),_:1},8,["modelValue"])]),_:1}),o(s,{label:"数据库地址：",prop:"dbhost",rules:[{required:!0,message:"请输入数据库地址!"}]},{default:d(()=>[o(t,{modelValue:l.value.dbhost,"onUpdate:modelValue":e[3]||(e[3]=a=>l.value.dbhost=a),placeholder:"请输入数据库地址"},null,8,["modelValue"])]),_:1}),o(s,{label:"数据库名称：",prop:"dbname",rules:[{required:!0,message:"请输入数据库名称!"}]},{default:d(()=>[o(t,{modelValue:l.value.dbname,"onUpdate:modelValue":e[4]||(e[4]=a=>l.value.dbname=a),placeholder:"请输入数据库名称"},null,8,["modelValue"])]),_:1}),o(s,{label:"数据库端口：",prop:"dbport",rules:[{required:!0,message:"请输入数据库端口!"}]},{default:d(()=>[o(t,{modelValue:l.value.dbport,"onUpdate:modelValue":e[5]||(e[5]=a=>l.value.dbport=a),placeholder:"请输入数据库端口"},null,8,["modelValue"])]),_:1}),o(s,{label:"数据库用户名：",prop:"dbuser",rules:[{required:!0,message:"请输入数据库用户名!"}]},{default:d(()=>[o(t,{modelValue:l.value.dbuser,"onUpdate:modelValue":e[6]||(e[6]=a=>l.value.dbuser=a),placeholder:"请输入数据库用户名"},null,8,["modelValue"])]),_:1}),o(s,{label:"数据库密码：",prop:"dbpwd"},{default:d(()=>[o(t,{type:"password",modelValue:l.value.dbpwd,"onUpdate:modelValue":e[7]||(e[7]=a=>l.value.dbpwd=a),placeholder:"请输入数据库密码"},null,8,["modelValue"])]),_:1}),o(s,{label:"Redis地址：",prop:"redishost",rules:[{required:!0,message:"请输入Redis地址!"}]},{default:d(()=>[o(t,{modelValue:l.value.redishost,"onUpdate:modelValue":e[8]||(e[8]=a=>l.value.redishost=a),placeholder:"请输入Redis地址"},null,8,["modelValue"])]),_:1}),o(s,{label:"Redis端口：",prop:"redisport",rules:[{required:!0,message:"请输入Redis端口!"}]},{default:d(()=>[o(t,{modelValue:l.value.redisport,"onUpdate:modelValue":e[9]||(e[9]=a=>l.value.redisport=a),placeholder:"请输入Redis端口"},null,8,["modelValue"])]),_:1}),o(s,{label:"Redis密码：",prop:"redispwd"},{default:d(()=>[o(t,{type:"password",modelValue:l.value.redispwd,"onUpdate:modelValue":e[10]||(e[10]=a=>l.value.redispwd=a),placeholder:"请输入Redis密码"},null,8,["modelValue"])]),_:1}),o(s,{label:"RedisSelect库：",prop:"redisselect",rules:[{required:!0,message:"请输入RedisSelect库!"}]},{default:d(()=>[o(t,{type:"number",min:0,max:16,modelValue:l.value.redisselect,"onUpdate:modelValue":e[11]||(e[11]=a=>l.value.redisselect=a),placeholder:"请输入RedisSelect库",onInput:V},null,8,["modelValue"]),e[16]||(e[16]=u("div",{class:"tips"},"只能填0-16之间的数字，0表示使用默认库",-1))]),_:1,__:[16]})]),_:1},8,["model"])])])}}}),le=B(M,[["__scopeId","data-v-2fca9896"]]);export{le as default};
